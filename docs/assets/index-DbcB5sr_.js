(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var nm={exports:{}},Wl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function IT(){if(pv)return Wl;pv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:u}}return Wl.Fragment=e,Wl.jsx=n,Wl.jsxs=n,Wl}var gv;function NT(){return gv||(gv=1,nm.exports=IT()),nm.exports}var m=NT(),im={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function DT(){if(yv)return Oe;yv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.iterator;function G(k){return k===null||typeof k!="object"?null:(k=M&&k[M]||k["@@iterator"],typeof k=="function"?k:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,ee={};function se(k,Y,re){this.props=k,this.context=Y,this.refs=ee,this.updater=re||te}se.prototype.isReactComponent={},se.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},se.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Te(){}Te.prototype=se.prototype;function pe(k,Y,re){this.props=k,this.context=Y,this.refs=ee,this.updater=re||te}var Fe=pe.prototype=new Te;Fe.constructor=pe,ne(Fe,se.prototype),Fe.isPureReactComponent=!0;var we=Array.isArray;function Le(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(k,Y,re){var he=re.ref;return{$$typeof:r,type:k,key:Y,ref:he!==void 0?he:null,props:re}}function P(k,Y){return N(k.type,Y,k.props)}function j(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function S(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return Y[re]})}var C=/\/+/g;function ze(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?S(""+k.key):Y.toString(36)}function vt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Le,Le):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Q(k,Y,re,he,Se){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var Ve=!1;if(k===null)Ve=!0;else switch(Ne){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(k.$$typeof){case r:case e:Ve=!0;break;case A:return Ve=k._init,Q(Ve(k._payload),Y,re,he,Se)}}if(Ve)return Se=Se(k),Ve=he===""?"."+ze(k,0):he,we(Se)?(re="",Ve!=null&&(re=Ve.replace(C,"$&/")+"/"),Q(Se,Y,re,"",function(cn){return cn})):Se!=null&&(j(Se)&&(Se=P(Se,re+(Se.key==null||k&&k.key===Se.key?"":(""+Se.key).replace(C,"$&/")+"/")+Ve)),Y.push(Se)),1;Ve=0;var At=he===""?".":he+":";if(we(k))for(var pt=0;pt<k.length;pt++)he=k[pt],Ne=At+ze(he,pt),Ve+=Q(he,Y,re,Ne,Se);else if(pt=G(k),typeof pt=="function")for(k=pt.call(k),pt=0;!(he=k.next()).done;)he=he.value,Ne=At+ze(he,pt++),Ve+=Q(he,Y,re,Ne,Se);else if(Ne==="object"){if(typeof k.then=="function")return Q(vt(k),Y,re,he,Se);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function oe(k,Y,re){if(k==null)return k;var he=[],Se=0;return Q(k,he,"","",function(Ne){return Y.call(re,Ne,Se++)}),he}function _e(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var Be=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},We={map:oe,forEach:function(k,Y,re){oe(k,function(){Y.apply(this,arguments)},re)},count:function(k){var Y=0;return oe(k,function(){Y++}),Y},toArray:function(k){return oe(k,function(Y){return Y})||[]},only:function(k){if(!j(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Oe.Activity=x,Oe.Children=We,Oe.Component=se,Oe.Fragment=n,Oe.Profiler=l,Oe.PureComponent=pe,Oe.StrictMode=a,Oe.Suspense=y,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return I.H.useMemoCache(k)}},Oe.cache=function(k){return function(){return k.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(k,Y,re){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var he=ne({},k.props),Se=k.key;if(Y!=null)for(Ne in Y.key!==void 0&&(Se=""+Y.key),Y)!R.call(Y,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&Y.ref===void 0||(he[Ne]=Y[Ne]);var Ne=arguments.length-2;if(Ne===1)he.children=re;else if(1<Ne){for(var Ve=Array(Ne),At=0;At<Ne;At++)Ve[At]=arguments[At+2];he.children=Ve}return N(k.type,Se,he)},Oe.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Oe.createElement=function(k,Y,re){var he,Se={},Ne=null;if(Y!=null)for(he in Y.key!==void 0&&(Ne=""+Y.key),Y)R.call(Y,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Se[he]=Y[he]);var Ve=arguments.length-2;if(Ve===1)Se.children=re;else if(1<Ve){for(var At=Array(Ve),pt=0;pt<Ve;pt++)At[pt]=arguments[pt+2];Se.children=At}if(k&&k.defaultProps)for(he in Ve=k.defaultProps,Ve)Se[he]===void 0&&(Se[he]=Ve[he]);return N(k,Ne,Se)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:g,render:k}},Oe.isValidElement=j,Oe.lazy=function(k){return{$$typeof:A,_payload:{_status:-1,_result:k},_init:_e}},Oe.memo=function(k,Y){return{$$typeof:_,type:k,compare:Y===void 0?null:Y}},Oe.startTransition=function(k){var Y=I.T,re={};I.T=re;try{var he=k(),Se=I.S;Se!==null&&Se(re,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Le,Be)}catch(Ne){Be(Ne)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),I.T=Y}},Oe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Oe.use=function(k){return I.H.use(k)},Oe.useActionState=function(k,Y,re){return I.H.useActionState(k,Y,re)},Oe.useCallback=function(k,Y){return I.H.useCallback(k,Y)},Oe.useContext=function(k){return I.H.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k,Y){return I.H.useDeferredValue(k,Y)},Oe.useEffect=function(k,Y){return I.H.useEffect(k,Y)},Oe.useEffectEvent=function(k){return I.H.useEffectEvent(k)},Oe.useId=function(){return I.H.useId()},Oe.useImperativeHandle=function(k,Y,re){return I.H.useImperativeHandle(k,Y,re)},Oe.useInsertionEffect=function(k,Y){return I.H.useInsertionEffect(k,Y)},Oe.useLayoutEffect=function(k,Y){return I.H.useLayoutEffect(k,Y)},Oe.useMemo=function(k,Y){return I.H.useMemo(k,Y)},Oe.useOptimistic=function(k,Y){return I.H.useOptimistic(k,Y)},Oe.useReducer=function(k,Y,re){return I.H.useReducer(k,Y,re)},Oe.useRef=function(k){return I.H.useRef(k)},Oe.useState=function(k){return I.H.useState(k)},Oe.useSyncExternalStore=function(k,Y,re){return I.H.useSyncExternalStore(k,Y,re)},Oe.useTransition=function(){return I.H.useTransition()},Oe.version="19.2.3",Oe}var vv;function tp(){return vv||(vv=1,im.exports=DT()),im.exports}var ae=tp(),rm={exports:{}},eu={},am={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function OT(){return _v||(_v=1,(function(r){function e(Q,oe){var _e=Q.length;Q.push(oe);e:for(;0<_e;){var Be=_e-1>>>1,We=Q[Be];if(0<l(We,oe))Q[Be]=oe,Q[_e]=We,_e=Be;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var oe=Q[0],_e=Q.pop();if(_e!==oe){Q[0]=_e;e:for(var Be=0,We=Q.length,k=We>>>1;Be<k;){var Y=2*(Be+1)-1,re=Q[Y],he=Y+1,Se=Q[he];if(0>l(re,_e))he<We&&0>l(Se,re)?(Q[Be]=Se,Q[he]=_e,Be=he):(Q[Be]=re,Q[Y]=_e,Be=Y);else if(he<We&&0>l(Se,_e))Q[Be]=Se,Q[he]=_e,Be=he;else break e}}return oe}function l(Q,oe){var _e=Q.sortIndex-oe.sortIndex;return _e!==0?_e:Q.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,x=null,M=3,G=!1,te=!1,ne=!1,ee=!1,se=typeof setTimeout=="function"?setTimeout:null,Te=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Fe(Q){for(var oe=n(_);oe!==null;){if(oe.callback===null)a(_);else if(oe.startTime<=Q)a(_),oe.sortIndex=oe.expirationTime,e(y,oe);else break;oe=n(_)}}function we(Q){if(ne=!1,Fe(Q),!te)if(n(y)!==null)te=!0,Le||(Le=!0,S());else{var oe=n(_);oe!==null&&vt(we,oe.startTime-Q)}}var Le=!1,I=-1,R=5,N=-1;function P(){return ee?!0:!(r.unstable_now()-N<R)}function j(){if(ee=!1,Le){var Q=r.unstable_now();N=Q;var oe=!0;try{e:{te=!1,ne&&(ne=!1,Te(I),I=-1),G=!0;var _e=M;try{t:{for(Fe(Q),x=n(y);x!==null&&!(x.expirationTime>Q&&P());){var Be=x.callback;if(typeof Be=="function"){x.callback=null,M=x.priorityLevel;var We=Be(x.expirationTime<=Q);if(Q=r.unstable_now(),typeof We=="function"){x.callback=We,Fe(Q),oe=!0;break t}x===n(y)&&a(y),Fe(Q)}else a(y);x=n(y)}if(x!==null)oe=!0;else{var k=n(_);k!==null&&vt(we,k.startTime-Q),oe=!1}}break e}finally{x=null,M=_e,G=!1}oe=void 0}}finally{oe?S():Le=!1}}}var S;if(typeof pe=="function")S=function(){pe(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ze=C.port2;C.port1.onmessage=j,S=function(){ze.postMessage(null)}}else S=function(){se(j,0)};function vt(Q,oe){I=se(function(){Q(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(Q){switch(M){case 1:case 2:case 3:var oe=3;break;default:oe=M}var _e=M;M=oe;try{return Q()}finally{M=_e}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var _e=M;M=Q;try{return oe()}finally{M=_e}},r.unstable_scheduleCallback=function(Q,oe,_e){var Be=r.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Be+_e:Be):_e=Be,Q){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=_e+We,Q={id:A++,callback:oe,priorityLevel:Q,startTime:_e,expirationTime:We,sortIndex:-1},_e>Be?(Q.sortIndex=_e,e(_,Q),n(y)===null&&Q===n(_)&&(ne?(Te(I),I=-1):ne=!0,vt(we,_e-Be))):(Q.sortIndex=We,e(y,Q),te||G||(te=!0,Le||(Le=!0,S()))),Q},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Q){var oe=M;return function(){var _e=M;M=oe;try{return Q.apply(this,arguments)}finally{M=_e}}}})(sm)),sm}var Ev;function jT(){return Ev||(Ev=1,am.exports=OT()),am.exports}var om={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function MT(){if(bv)return Cn;bv=1;var r=tp();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,_,A){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Cn.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(y,_,null,A)},Cn.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},Cn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Cn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Cn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,x=g(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:M,fetchPriority:G}):A==="script"&&a.d.X(y,{crossOrigin:x,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Cn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Cn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,x=g(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Cn.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Cn.requestFormReset=function(y){a.d.r(y)},Cn.unstable_batchedUpdates=function(y,_){return y(_)},Cn.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Cn.version="19.2.3",Cn}var Tv;function VT(){if(Tv)return om.exports;Tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=MT(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function kT(){if(Sv)return eu;Sv=1;var r=jT(),e=tp(),n=VT();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(a(188))}function _(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,o=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===o)return y(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var v=!1,b=h.child;b;){if(b===s){v=!0,s=h,o=f;break}if(b===o){v=!0,o=h,s=f;break}b=b.sibling}if(!v){for(b=f.child;b;){if(b===s){v=!0,s=f,o=h;break}if(b===o){v=!0,o=f,s=h;break}b=b.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function A(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=A(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),Te=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Fe=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function S(t){return t===null||typeof t!="object"?null:(t=j&&t[j]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case se:return"Profiler";case ee:return"StrictMode";case we:return"Suspense";case Le:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case pe:return t.displayName||"Context";case Te:return(t._context.displayName||"Context")+".Consumer";case Fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ze(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ze(t(i))}catch{}}return null}var vt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Be=[],We=-1;function k(t){return{current:t}}function Y(t){0>We||(t.current=Be[We],Be[We]=null,We--)}function re(t,i){We++,Be[We]=t.current,t.current=i}var he=k(null),Se=k(null),Ne=k(null),Ve=k(null);function At(t,i){switch(re(Ne,i),re(Se,t),re(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?U0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=U0(i),t=L0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(he),re(he,t)}function pt(){Y(he),Y(Se),Y(Ne)}function cn(t){t.memoizedState!==null&&re(Ve,t);var i=he.current,s=L0(i,t.type);i!==s&&(re(Se,t),re(he,s))}function Sr(t){Se.current===t&&(Y(he),Y(Se)),Ve.current===t&&(Y(Ve),Xl._currentValue=_e)}var Ar,wr;function tn(t){if(Ar===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ar=i&&i[1]||"",wr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ar+t+wr}var ra=!1;function Di(t,i){if(!t||ra)return"";ra=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var q=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){q=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){q=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],b=f[1];if(v&&b){var D=v.split(`
`),B=b.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===B.length)for(o=D.length-1,h=B.length-1;1<=o&&0<=h&&D[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==B[h]){var K=`
`+D[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{ra=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?tn(s):""}function aa(t,i){switch(t.tag){case 26:case 27:case 5:return tn(t.type);case 16:return tn("Lazy");case 13:return t.child!==i&&i!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Di(t.type,!1);case 11:return Di(t.type.render,!1);case 1:return Di(t.type,!0);case 31:return tn("Activity");default:return""}}function sa(t){try{var i="",s=null;do i+=aa(t,s),s=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var wt=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,fi=r.unstable_cancelCallback,Oi=r.unstable_shouldYield,fs=r.unstable_requestPaint,an=r.unstable_now,Jn=r.unstable_getCurrentPriorityLevel,oa=r.unstable_ImmediatePriority,ms=r.unstable_UserBlockingPriority,Qi=r.unstable_NormalPriority,Ki=r.unstable_LowPriority,la=r.unstable_IdlePriority,xr=r.log,ua=r.unstable_setDisableYieldValue,ot=null,Gt=null;function En(t){if(typeof xr=="function"&&ua(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(ot,t)}catch{}}var Dt=Math.clz32?Math.clz32:Rr,ro=Math.log,Yi=Math.LN2;function Rr(t){return t>>>=0,t===0?32:31-(ro(t)/Yi|0)|0}var hn=256,Xi=262144,Ce=4194304;function dn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Zn(t,i,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=dn(o):(v&=b,v!==0?h=dn(v):s||(s=b&~t,s!==0&&(h=dn(s))))):(b=o&~f,b!==0?h=dn(b):v!==0?h=dn(v):s||(s=o&~t,s!==0&&(h=dn(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function bn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ca(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ps(){var t=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),t}function Tn(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function ji(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $i(t,i,s,o,h,f){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(s=v&~s;0<s;){var K=31-Dt(s),J=1<<K;b[K]=0,D[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var F=q[K];F!==null&&(F.lane&=-536870913)}s&=~J}o!==0&&Mi(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function Mi(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-Dt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Sn(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var o=31-Dt(s),h=1<<o;h&i|t[o]&i&&(t[o]|=i),s&=~h}}function ha(t,i){var s=i&-i;return s=(s&42)!==0?1:Ji(s),(s&(t.suspendedLanes|i))!==0?0:s}function Ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function mi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function sn(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:lv(t.type))}function on(t,i){var s=oe.p;try{return oe.p=t,i()}finally{oe.p=s}}var Ln=Math.random().toString(36).slice(2),ue="__reactFiber$"+Ln,zt="__reactProps$"+Ln,zn="__reactContainer$"+Ln,Cr="__reactEvents$"+Ln,ml="__reactListeners$"+Ln,gs="__reactHandles$"+Ln,ao="__reactResources$"+Ln,Wn="__reactMarker$"+Ln;function Ir(t){delete t[ue],delete t[zt],delete t[Cr],delete t[ml],delete t[gs]}function jn(t){var i=t[ue];if(i)return i;for(var s=t.parentNode;s;){if(i=s[zn]||s[ue]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=Q0(t);t!==null;){if(s=t[ue])return s;t=Q0(t)}return i}t=s,s=t.parentNode}return null}function Qt(t){if(t=t[ue]||t[zn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function ei(t){var i=t[ao];return i||(i=t[ao]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Et(t){t[Wn]=!0}var ys=new Set,Nr={};function pi(t,i){Mn(t,i),Mn(t+"Capture",i)}function Mn(t,i){for(Nr[t]=i,t=0;t<i.length;t++)ys.add(i[t])}var de=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fe={},vs={};function _s(t){return wt.call(vs,t)?!0:wt.call(fe,t)?!1:de.test(t)?vs[t]=!0:(fe[t]=!0,!1)}function da(t,i,s){if(_s(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Vn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function jt(t,i,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+o)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Es(t,i,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){s=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function it(t){if(!t._valueTracker){var i=Zi(t)?"checked":"value";t._valueTracker=Es(t,i,""+t[i])}}function Wi(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return t&&(o=Zi(t)?t.checked?"true":"false":t.value),t=o,t!==s?(i.setValue(t),!0):!1}function Bn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var er=/[\n"\\]/g;function wn(t){return t.replace(er,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fa(t,i,s,o,h,f,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Kt(i)):t.value!==""+Kt(i)&&(t.value=""+Kt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?bs(t,v,Kt(i)):s!=null?bs(t,v,Kt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Kt(b):t.removeAttribute("name")}function so(t,i,s,o,h,f,v,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){it(t);return}s=s!=null?""+Kt(s):"",i=i!=null?""+Kt(i):s,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),it(t)}function bs(t,i,s){i==="number"&&Bn(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function tr(t,i,s,o){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+Kt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ma(t,i,s){if(i!=null&&(i=""+Kt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Kt(s):""}function nr(t,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(a(92));if(vt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=Kt(i),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),it(t)}function xn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var oo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ts(t,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,s):typeof s!="number"||s===0||oo.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Ss(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&s[h]!==o&&Ts(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Ts(t,f,i[f])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ir=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return ir.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var As=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rr=null,gi=null;function ar(t){var i=Qt(t);if(i&&(t=i.stateNode)){var s=t[zt]||null;e:switch(t=i.stateNode,i.type){case"input":if(fa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+wn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==t&&o.form===t.form){var h=o[zt]||null;if(!h)throw Error(a(90));fa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===t.form&&Wi(o)}break e;case"textarea":ma(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&tr(t,!!s.multiple,i,!1)}}}var ya=!1;function sr(t,i,s){if(ya)return t(i,s);ya=!0;try{var o=t(i);return o}finally{if(ya=!1,(rr!==null||gi!==null)&&(Nc(),rr&&(i=rr,t=gi,gi=rr=null,ar(i),t)))for(i=0;i<t.length;i++)ar(t[i])}}function ni(t,i){var s=t.stateNode;if(s===null)return null;var o=s[zt]||null;if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dr=!1;if(Hn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Dr=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Dr=!1}var ii=null,va=null,O=null;function T(){if(O)return O;var t,i=va,s=i.length,o,h="value"in ii?ii.value:ii.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(o=1;o<=v&&i[s-o]===h[f-o];o++);return O=h.slice(t,1<o?1-o:void 0)}function $(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function le(){return!0}function Me(){return!1}function De(t){function i(s,o,h,f,v){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?le:Me,this.isPropagationStopped=Me,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=le)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=le)},persist:function(){},isPersistent:le}),i}var et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mt=De(et),ri=x({},et,{view:0,detail:0}),Rn=De(ri),rt,ws,or,uo=x({},ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==or&&(or&&t.type==="mousemove"?(rt=t.screenX-or.screenX,ws=t.screenY-or.screenY):ws=rt=0,or=t),rt)},movementY:function(t){return"movementY"in t?t.movementY:ws}}),pl=De(uo),xs=x({},uo,{dataTransfer:0}),Uu=De(xs),Lu=x({},ri,{relatedTarget:0}),Rs=De(Lu),gl=x({},et,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=De(gl),co=x({},et,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bu=De(co),qu=x({},et,{data:0}),lr=De(qu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function _a(){return Qu}var kn=x({},ri,{key:function(t){if(t.key){var i=Hu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=$(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(t){return t.type==="keypress"?$(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ku=De(kn),Yu=x({},uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Or=De(Yu),c=x({},ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),p=De(c),E=x({},et,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=De(E),L=x({},uo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=De(L),ie=x({},et,{newState:0,oldState:0}),ke=De(ie),Bt=[9,13,27,32],at=Hn&&"CompositionEvent"in window,xt=null;Hn&&"documentMode"in document&&(xt=document.documentMode);var yi=Hn&&"TextEvent"in window&&!xt,ur=Hn&&(!at||xt&&8<xt&&11>=xt),Vi=" ",ki=!1;function Cs(t,i){switch(t){case"keyup":return Bt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ho(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function WE(t,i){switch(t){case"compositionend":return ho(i);case"keypress":return i.which!==32?null:(ki=!0,Vi);case"textInput":return t=i.data,t===Vi&&ki?null:t;default:return null}}function eb(t,i){if(fo)return t==="compositionend"||!at&&Cs(t,i)?(t=T(),O=va=ii=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ur&&i.locale!=="ko"?null:i.data;default:return null}}var tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!tb[t.type]:i==="textarea"}function $p(t,i,s,o){rr?gi?gi.push(o):gi=[o]:rr=o,i=Pc(i,"onChange"),0<i.length&&(s=new Mt("onChange","change",null,s,o),t.push({event:s,listeners:i}))}var yl=null,vl=null;function nb(t){O0(t,0)}function Xu(t){var i=An(t);if(Wi(i))return t}function Jp(t,i){if(t==="change")return i}var Zp=!1;if(Hn){var ld;if(Hn){var ud="oninput"in document;if(!ud){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),ud=typeof Wp.oninput=="function"}ld=ud}else ld=!1;Zp=ld&&(!document.documentMode||9<document.documentMode)}function eg(){yl&&(yl.detachEvent("onpropertychange",tg),vl=yl=null)}function tg(t){if(t.propertyName==="value"&&Xu(vl)){var i=[];$p(i,vl,t,qn(t)),sr(nb,i)}}function ib(t,i,s){t==="focusin"?(eg(),yl=i,vl=s,yl.attachEvent("onpropertychange",tg)):t==="focusout"&&eg()}function rb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(vl)}function ab(t,i){if(t==="click")return Xu(i)}function sb(t,i){if(t==="input"||t==="change")return Xu(i)}function ob(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var ai=typeof Object.is=="function"?Object.is:ob;function _l(t,i){if(ai(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!wt.call(i,h)||!ai(t[h],i[h]))return!1}return!0}function ng(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ig(t,i){var s=ng(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=i&&o>=i)return{node:s,offset:i-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ng(s)}}function rg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?rg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Bn(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Bn(t.document)}return i}function cd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var lb=Hn&&"documentMode"in document&&11>=document.documentMode,mo=null,hd=null,El=null,dd=!1;function sg(t,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;dd||mo==null||mo!==Bn(o)||(o=mo,"selectionStart"in o&&cd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),El&&_l(El,o)||(El=o,o=Pc(hd,"onSelect"),0<o.length&&(i=new Mt("onSelect","select",null,i,s),t.push({event:i,listeners:o}),i.target=mo)))}function Is(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var po={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},fd={},og={};Hn&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete po.animationend.animation,delete po.animationiteration.animation,delete po.animationstart.animation),"TransitionEvent"in window||delete po.transitionend.transition);function Ns(t){if(fd[t])return fd[t];if(!po[t])return t;var i=po[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in og)return fd[t]=i[s];return t}var lg=Ns("animationend"),ug=Ns("animationiteration"),cg=Ns("animationstart"),ub=Ns("transitionrun"),cb=Ns("transitionstart"),hb=Ns("transitioncancel"),hg=Ns("transitionend"),dg=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function Pi(t,i){dg.set(t,i),pi(i,[t])}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},vi=[],go=0,pd=0;function Ju(){for(var t=go,i=pd=go=0;i<t;){var s=vi[i];vi[i++]=null;var o=vi[i];vi[i++]=null;var h=vi[i];vi[i++]=null;var f=vi[i];if(vi[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&fg(s,h,f)}}function Zu(t,i,s,o){vi[go++]=t,vi[go++]=i,vi[go++]=s,vi[go++]=o,pd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function gd(t,i,s,o){return Zu(t,i,s,o),Wu(t)}function Ds(t,i){return Zu(t,null,null,i),Wu(t)}function fg(t,i,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-Dt(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=s|536870912),f):null}function Wu(t){if(50<ql)throw ql=0,xf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var yo={};function db(t,i,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(t,i,s,o){return new db(t,i,s,o)}function yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jr(t,i){var s=t.alternate;return s===null?(s=si(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function mg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,s,o,h,f){var v=0;if(o=t,typeof t=="function")yd(t)&&(v=1);else if(typeof t=="string")v=yT(t,s,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=si(31,s,i,h),t.elementType=N,t.lanes=f,t;case ne:return Os(s.children,h,f,i);case ee:v=8,h|=24;break;case se:return t=si(12,s,i,h|2),t.elementType=se,t.lanes=f,t;case we:return t=si(13,s,i,h),t.elementType=we,t.lanes=f,t;case Le:return t=si(19,s,i,h),t.elementType=Le,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:v=10;break e;case Te:v=9;break e;case Fe:v=11;break e;case I:v=14;break e;case R:v=16,o=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=si(v,s,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function Os(t,i,s,o){return t=si(7,t,o,i),t.lanes=s,t}function vd(t,i,s){return t=si(6,t,null,i),t.lanes=s,t}function pg(t){var i=si(18,null,null,0);return i.stateNode=t,i}function _d(t,i,s){return i=si(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var gg=new WeakMap;function _i(t,i){if(typeof t=="object"&&t!==null){var s=gg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:sa(i)},gg.set(t,i),i)}return{value:t,source:i,stack:sa(i)}}var vo=[],_o=0,tc=null,bl=0,Ei=[],bi=0,Ea=null,cr=1,hr="";function Mr(t,i){vo[_o++]=bl,vo[_o++]=tc,tc=t,bl=i}function yg(t,i,s){Ei[bi++]=cr,Ei[bi++]=hr,Ei[bi++]=Ea,Ea=t;var o=cr;t=hr;var h=32-Dt(o)-1;o&=~(1<<h),s+=1;var f=32-Dt(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,cr=1<<32-Dt(i)+h|s<<h|o,hr=f+t}else cr=1<<f|s<<h|o,hr=t}function Ed(t){t.return!==null&&(Mr(t,1),yg(t,1,0))}function bd(t){for(;t===tc;)tc=vo[--_o],vo[_o]=null,bl=vo[--_o],vo[_o]=null;for(;t===Ea;)Ea=Ei[--bi],Ei[bi]=null,hr=Ei[--bi],Ei[bi]=null,cr=Ei[--bi],Ei[bi]=null}function vg(t,i){Ei[bi++]=cr,Ei[bi++]=hr,Ei[bi++]=Ea,cr=i.id,hr=i.overflow,Ea=t}var fn=null,bt=null,$e=!1,ba=null,Ti=!1,Td=Error(a(519));function Ta(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(_i(i,t)),Td}function _g(t){var i=t.stateNode,s=t.type,o=t.memoizedProps;switch(i[ue]=t,i[zt]=o,s){case"dialog":He("cancel",i),He("close",i);break;case"iframe":case"object":case"embed":He("load",i);break;case"video":case"audio":for(s=0;s<Fl.length;s++)He(Fl[s],i);break;case"source":He("error",i);break;case"img":case"image":case"link":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"input":He("invalid",i),so(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":He("invalid",i);break;case"textarea":He("invalid",i),nr(i,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||k0(i.textContent,s)?(o.popover!=null&&(He("beforetoggle",i),He("toggle",i)),o.onScroll!=null&&He("scroll",i),o.onScrollEnd!=null&&He("scrollend",i),o.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||Ta(t,!0)}function Eg(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:fn=fn.return}}function Eo(t){if(t!==fn)return!1;if(!$e)return Eg(t),$e=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Bf(t.type,t.memoizedProps)),s=!s),s&&bt&&Ta(t),Eg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=G0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));bt=G0(t)}else i===27?(i=bt,ka(t.type)?(t=Qf,Qf=null,bt=t):bt=i):bt=fn?Ai(t.stateNode.nextSibling):null;return!0}function js(){bt=fn=null,$e=!1}function Sd(){var t=ba;return t!==null&&(Kn===null?Kn=t:Kn.push.apply(Kn,t),ba=null),t}function Tl(t){ba===null?ba=[t]:ba.push(t)}var Ad=k(null),Ms=null,Vr=null;function Sa(t,i,s){re(Ad,i._currentValue),i._currentValue=s}function kr(t){t._currentValue=Ad.current,Y(Ad)}function wd(t,i,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===s)break;t=t.return}}function xd(t,i,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var D=0;D<i.length;D++)if(b.context===i[D]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),wd(f.return,s,t),o||(v=null);break e}f=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),wd(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function bo(t,i,s,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var b=h.type;ai(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Ve.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Xl):t=[Xl])}h=h.return}t!==null&&xd(i,t,s,o),i.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!ai(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ms=t,Vr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return bg(Ms,t)}function ic(t,i){return Ms===null&&Vs(t),bg(t,i)}function bg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Vr===null){if(t===null)throw Error(a(308));Vr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Vr=Vr.next=i;return s}var fb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},mb=r.unstable_scheduleCallback,pb=r.unstable_NormalPriority,Yt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rd(){return{controller:new fb,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&mb(pb,function(){t.controller.abort()})}var Al=null,Cd=0,To=0,So=null;function gb(t,i){if(Al===null){var s=Al=[];Cd=0,To=Of(),So={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Cd++,i.then(Tg,Tg),i}function Tg(){if(--Cd===0&&Al!==null){So!==null&&(So.status="fulfilled");var t=Al;Al=null,To=0,So=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function yb(t,i){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Sg=Q.S;Q.S=function(t,i){s0=an(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&gb(t,i),Sg!==null&&Sg(t,i)};var ks=k(null);function Id(){var t=ks.current;return t!==null?t:gt.pooledCache}function rc(t,i){i===null?re(ks,ks.current):re(ks,i.pool)}function Ag(){var t=Id();return t===null?null:{parent:Yt._currentValue,pool:t}}var Ao=Error(a(460)),Nd=Error(a(474)),ac=Error(a(542)),sc={then:function(){}};function wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(ti,ti),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cg(t),t;default:if(typeof i.status=="string")i.then(ti,ti);else{if(t=gt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Cg(t),t}throw Us=i,Ao}}function Ps(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Us=s,Ao):s}}var Us=null;function Rg(){if(Us===null)throw Error(a(459));var t=Us;return Us=null,t}function Cg(t){if(t===Ao||t===ac)throw Error(a(483))}var wo=null,wl=0;function oc(t){var i=wl;return wl+=1,wo===null&&(wo=[]),xg(wo,t,i)}function xl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ig(t){function i(U,V){if(t){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function s(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function o(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=jr(U,V),U.index=0,U.sibling=null,U}function f(U,V,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=67108866,V):z):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,z,X){return V===null||V.tag!==6?(V=vd(z,U.mode,X),V.return=U,V):(V=h(V,z),V.return=U,V)}function D(U,V,z,X){var Ee=z.type;return Ee===ne?K(U,V,z.props.children,X,z.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Ps(Ee)===V.type)?(V=h(V,z.props),xl(V,z),V.return=U,V):(V=ec(z.type,z.key,z.props,null,U.mode,X),xl(V,z),V.return=U,V)}function B(U,V,z,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=_d(z,U.mode,X),V.return=U,V):(V=h(V,z.children||[]),V.return=U,V)}function K(U,V,z,X,Ee){return V===null||V.tag!==7?(V=Os(z,U.mode,X,Ee),V.return=U,V):(V=h(V,z),V.return=U,V)}function J(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=vd(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case G:return z=ec(V.type,V.key,V.props,null,U.mode,z),xl(z,V),z.return=U,z;case te:return V=_d(V,U.mode,z),V.return=U,V;case R:return V=Ps(V),J(U,V,z)}if(vt(V)||S(V))return V=Os(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return J(U,oc(V),z);if(V.$$typeof===pe)return J(U,ic(U,V),z);lc(U,V)}return null}function q(U,V,z,X){var Ee=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return Ee!==null?null:b(U,V,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case G:return z.key===Ee?D(U,V,z,X):null;case te:return z.key===Ee?B(U,V,z,X):null;case R:return z=Ps(z),q(U,V,z,X)}if(vt(z)||S(z))return Ee!==null?null:K(U,V,z,X,null);if(typeof z.then=="function")return q(U,V,oc(z),X);if(z.$$typeof===pe)return q(U,V,ic(U,z),X);lc(U,z)}return null}function F(U,V,z,X,Ee){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,b(V,U,""+X,Ee);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return U=U.get(X.key===null?z:X.key)||null,D(V,U,X,Ee);case te:return U=U.get(X.key===null?z:X.key)||null,B(V,U,X,Ee);case R:return X=Ps(X),F(U,V,z,X,Ee)}if(vt(X)||S(X))return U=U.get(z)||null,K(V,U,X,Ee,null);if(typeof X.then=="function")return F(U,V,z,oc(X),Ee);if(X.$$typeof===pe)return F(U,V,z,ic(V,X),Ee);lc(V,X)}return null}function ye(U,V,z,X){for(var Ee=null,tt=null,ve=V,Ue=V=0,Qe=null;ve!==null&&Ue<z.length;Ue++){ve.index>Ue?(Qe=ve,ve=null):Qe=ve.sibling;var nt=q(U,ve,z[Ue],X);if(nt===null){ve===null&&(ve=Qe);break}t&&ve&&nt.alternate===null&&i(U,ve),V=f(nt,V,Ue),tt===null?Ee=nt:tt.sibling=nt,tt=nt,ve=Qe}if(Ue===z.length)return s(U,ve),$e&&Mr(U,Ue),Ee;if(ve===null){for(;Ue<z.length;Ue++)ve=J(U,z[Ue],X),ve!==null&&(V=f(ve,V,Ue),tt===null?Ee=ve:tt.sibling=ve,tt=ve);return $e&&Mr(U,Ue),Ee}for(ve=o(ve);Ue<z.length;Ue++)Qe=F(ve,U,Ue,z[Ue],X),Qe!==null&&(t&&Qe.alternate!==null&&ve.delete(Qe.key===null?Ue:Qe.key),V=f(Qe,V,Ue),tt===null?Ee=Qe:tt.sibling=Qe,tt=Qe);return t&&ve.forEach(function(Ba){return i(U,Ba)}),$e&&Mr(U,Ue),Ee}function Ae(U,V,z,X){if(z==null)throw Error(a(151));for(var Ee=null,tt=null,ve=V,Ue=V=0,Qe=null,nt=z.next();ve!==null&&!nt.done;Ue++,nt=z.next()){ve.index>Ue?(Qe=ve,ve=null):Qe=ve.sibling;var Ba=q(U,ve,nt.value,X);if(Ba===null){ve===null&&(ve=Qe);break}t&&ve&&Ba.alternate===null&&i(U,ve),V=f(Ba,V,Ue),tt===null?Ee=Ba:tt.sibling=Ba,tt=Ba,ve=Qe}if(nt.done)return s(U,ve),$e&&Mr(U,Ue),Ee;if(ve===null){for(;!nt.done;Ue++,nt=z.next())nt=J(U,nt.value,X),nt!==null&&(V=f(nt,V,Ue),tt===null?Ee=nt:tt.sibling=nt,tt=nt);return $e&&Mr(U,Ue),Ee}for(ve=o(ve);!nt.done;Ue++,nt=z.next())nt=F(ve,U,Ue,nt.value,X),nt!==null&&(t&&nt.alternate!==null&&ve.delete(nt.key===null?Ue:nt.key),V=f(nt,V,Ue),tt===null?Ee=nt:tt.sibling=nt,tt=nt);return t&&ve.forEach(function(CT){return i(U,CT)}),$e&&Mr(U,Ue),Ee}function mt(U,V,z,X){if(typeof z=="object"&&z!==null&&z.type===ne&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case G:e:{for(var Ee=z.key;V!==null;){if(V.key===Ee){if(Ee=z.type,Ee===ne){if(V.tag===7){s(U,V.sibling),X=h(V,z.props.children),X.return=U,U=X;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===R&&Ps(Ee)===V.type){s(U,V.sibling),X=h(V,z.props),xl(X,z),X.return=U,U=X;break e}s(U,V);break}else i(U,V);V=V.sibling}z.type===ne?(X=Os(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=ec(z.type,z.key,z.props,null,U.mode,X),xl(X,z),X.return=U,U=X)}return v(U);case te:e:{for(Ee=z.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){s(U,V.sibling),X=h(V,z.children||[]),X.return=U,U=X;break e}else{s(U,V);break}else i(U,V);V=V.sibling}X=_d(z,U.mode,X),X.return=U,U=X}return v(U);case R:return z=Ps(z),mt(U,V,z,X)}if(vt(z))return ye(U,V,z,X);if(S(z)){if(Ee=S(z),typeof Ee!="function")throw Error(a(150));return z=Ee.call(z),Ae(U,V,z,X)}if(typeof z.then=="function")return mt(U,V,oc(z),X);if(z.$$typeof===pe)return mt(U,V,ic(U,z),X);lc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(s(U,V.sibling),X=h(V,z),X.return=U,U=X):(s(U,V),X=vd(z,U.mode,X),X.return=U,U=X),v(U)):s(U,V)}return function(U,V,z,X){try{wl=0;var Ee=mt(U,V,z,X);return wo=null,Ee}catch(ve){if(ve===Ao||ve===ac)throw ve;var tt=si(29,ve,null,U.mode);return tt.lanes=X,tt.return=U,tt}finally{}}}var Ls=Ig(!0),Ng=Ig(!1),Aa=!1;function Dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Od(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function xa(t,i,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(st&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Wu(t),fg(t,null,s),i}return Zu(t,o,i,s),Wu(t)}function Rl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,Sn(t,s)}}function jd(t,i){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Md=!1;function Cl(){if(Md){var t=So;if(t!==null)throw t}}function Il(t,i,s,o){Md=!1;var h=t.updateQueue;Aa=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,B=D.next;D.next=null,v===null?f=B:v.next=B,v=D;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==v&&(b===null?K.firstBaseUpdate=B:b.next=B,K.lastBaseUpdate=D))}if(f!==null){var J=h.baseState;v=0,K=B=D=null,b=f;do{var q=b.lane&-536870913,F=q!==b.lane;if(F?(Ge&q)===q:(o&q)===q){q!==0&&q===To&&(Md=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ye=t,Ae=b;q=i;var mt=s;switch(Ae.tag){case 1:if(ye=Ae.payload,typeof ye=="function"){J=ye.call(mt,J,q);break e}J=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=Ae.payload,q=typeof ye=="function"?ye.call(mt,J,q):ye,q==null)break e;J=x({},J,q);break e;case 2:Aa=!0}}q=b.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(B=K=F,D=J):K=K.next=F,v|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(D=J),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Da|=v,t.lanes=v,t.memoizedState=J}}function Dg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Og(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Dg(s[t],i)}var xo=k(null),uc=k(0);function jg(t,i){t=Gr,re(uc,t),re(xo,i),Gr=t|i.baseLanes}function Vd(){re(uc,Gr),re(xo,xo.current)}function kd(){Gr=uc.current,Y(xo),Y(uc)}var oi=k(null),Si=null;function Ra(t){var i=t.alternate;re(qt,qt.current&1),re(oi,t),Si===null&&(i===null||xo.current!==null||i.memoizedState!==null)&&(Si=t)}function Pd(t){re(qt,qt.current),re(oi,t),Si===null&&(Si=t)}function Mg(t){t.tag===22?(re(qt,qt.current),re(oi,t),Si===null&&(Si=t)):Ca()}function Ca(){re(qt,qt.current),re(oi,oi.current)}function li(t){Y(oi),Si===t&&(Si=null),Y(qt)}var qt=k(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ff(s)||Gf(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Pr=0,Pe=null,dt=null,Xt=null,hc=!1,Ro=!1,zs=!1,dc=0,Nl=0,Co=null,vb=0;function Vt(){throw Error(a(321))}function Ud(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!ai(t[s],i[s]))return!1;return!0}function Ld(t,i,s,o,h,f){return Pr=f,Pe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?yy:ef,zs=!1,f=s(o,h),zs=!1,Ro&&(f=kg(i,s,o,h)),Vg(t),f}function Vg(t){Q.H=jl;var i=dt!==null&&dt.next!==null;if(Pr=0,Xt=dt=Pe=null,hc=!1,Nl=0,Co=null,i)throw Error(a(300));t===null||$t||(t=t.dependencies,t!==null&&nc(t)&&($t=!0))}function kg(t,i,s,o){Pe=t;var h=0;do{if(Ro&&(Co=null),Nl=0,Ro=!1,25<=h)throw Error(a(301));if(h+=1,Xt=dt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=vy,f=i(s,o)}while(Ro);return f}function _b(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Dl(i):i,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(Pe.flags|=1024),i}function zd(){var t=dc!==0;return dc=0,t}function Bd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function qd(t){if(hc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}hc=!1}Pr=0,Xt=dt=Pe=null,Ro=!1,Nl=dc=0,Co=null}function Pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Pe.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Ht(){if(dt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var i=Xt===null?Pe.memoizedState:Xt.next;if(i!==null)Xt=i,dt=t;else{if(t===null)throw Pe.alternate===null?Error(a(467)):Error(a(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Xt===null?Pe.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dl(t){var i=Nl;return Nl+=1,Co===null&&(Co=[]),t=xg(Co,t,i),i=Pe,(Xt===null?i.memoizedState:Xt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?yy:ef),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Dl(t);if(t.$$typeof===pe)return mn(t)}throw Error(a(438,String(t)))}function Hd(t){var i=null,s=Pe.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=Pe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=fc(),Pe.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),o=0;o<t;o++)s[o]=P;return i.index++,s}function Ur(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=Ht();return Fd(i,dt,t)}function Fd(t,i,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var b=v=null,D=null,B=i,K=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(Ge&J)===J:(Pr&J)===J){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===To&&(K=!0);else if((Pr&q)===q){B=B.next,q===To&&(K=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=J,v=f):D=D.next=J,Pe.lanes|=q,Da|=q;J=B.action,zs&&s(f,J),f=B.hasEagerState?B.eagerState:s(f,J)}else q={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=q,v=f):D=D.next=q,Pe.lanes|=J,Da|=J;B=B.next}while(B!==null&&B!==i);if(D===null?v=f:D.next=b,!ai(f,t.memoizedState)&&($t=!0,K&&(s=So,s!==null)))throw s;t.memoizedState=f,t.baseState=v,t.baseQueue=D,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Gd(t){var i=Ht(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);ai(f,i.memoizedState)||($t=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,o]}function Pg(t,i,s){var o=Pe,h=Ht(),f=$e;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!ai((dt||h).memoizedState,s);if(v&&(h.memoizedState=s,$t=!0),h=h.queue,Yd(zg.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||Xt!==null&&Xt.memoizedState.tag&1){if(o.flags|=2048,Io(9,{destroy:void 0},Lg.bind(null,o,h,s,i),null),gt===null)throw Error(a(349));f||(Pr&127)!==0||Ug(o,i,s)}return s}function Ug(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Pe.updateQueue,i===null?(i=fc(),Pe.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Lg(t,i,s,o){i.value=s,i.getSnapshot=o,Bg(i)&&qg(t)}function zg(t,i,s){return s(function(){Bg(i)&&qg(t)})}function Bg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!ai(t,s)}catch{return!0}}function qg(t){var i=Ds(t,2);i!==null&&Yn(i,t,2)}function Qd(t){var i=Pn();if(typeof t=="function"){var s=t;if(t=s(),zs){En(!0);try{s()}finally{En(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:t},i}function Hg(t,i,s,o){return t.baseState=s,Fd(t,dt,typeof o=="function"?o:Ur)}function Eb(t,i,s,o,h){if(vc(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?s(!0):f.isTransition=!1,o(f),s=i.pending,s===null?(f.next=i.pending=f,Fg(i,f)):(f.next=s.next,i.pending=s.next=f)}}function Fg(t,i){var s=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=Q.T,v={};Q.T=v;try{var b=s(h,o),D=Q.S;D!==null&&D(v,b),Gg(t,i,b)}catch(B){Kd(t,i,B)}finally{f!==null&&v.types!==null&&(f.types=v.types),Q.T=f}}else try{f=s(h,o),Gg(t,i,f)}catch(B){Kd(t,i,B)}}function Gg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Qg(t,i,o)},function(o){return Kd(t,i,o)}):Qg(t,i,s)}function Qg(t,i,s){i.status="fulfilled",i.value=s,Kg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Fg(t,s)))}function Kd(t,i,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,Kg(i),i=i.next;while(i!==o)}t.action=null}function Kg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Yg(t,i){return i}function Xg(t,i){if($e){var s=gt.formState;if(s!==null){e:{var o=Pe;if($e){if(bt){t:{for(var h=bt,f=Ti;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ai(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){bt=Ai(h.nextSibling),o=h.data==="F!";break e}}Ta(o)}o=!1}o&&(i=s[0])}}return s=Pn(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:i},s.queue=o,s=my.bind(null,Pe,o),o.dispatch=s,o=Qd(!1),f=Wd.bind(null,Pe,!1,o.queue),o=Pn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,s=Eb.bind(null,Pe,h,f,s),h.dispatch=s,o.memoizedState=t,[i,s,!1]}function $g(t){var i=Ht();return Jg(i,dt,t)}function Jg(t,i,s){if(i=Fd(t,i,Yg)[0],t=pc(Ur)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Dl(i)}catch(v){throw v===Ao?ac:v}else o=i;i=Ht();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(Pe.flags|=2048,Io(9,{destroy:void 0},bb.bind(null,h,s),null)),[o,f,t]}function bb(t,i){t.action=i}function Zg(t){var i=Ht(),s=dt;if(s!==null)return Jg(i,s,t);Ht(),i=i.memoizedState,s=Ht();var o=s.queue.dispatch;return s.memoizedState=t,[i,o,!1]}function Io(t,i,s,o){return t={tag:t,create:s,deps:o,inst:i,next:null},i=Pe.updateQueue,i===null&&(i=fc(),Pe.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,i.lastEffect=t),t}function Wg(){return Ht().memoizedState}function gc(t,i,s,o){var h=Pn();Pe.flags|=t,h.memoizedState=Io(1|i,{destroy:void 0},s,o===void 0?null:o)}function yc(t,i,s,o){var h=Ht();o=o===void 0?null:o;var f=h.memoizedState.inst;dt!==null&&o!==null&&Ud(o,dt.memoizedState.deps)?h.memoizedState=Io(i,f,s,o):(Pe.flags|=t,h.memoizedState=Io(1|i,f,s,o))}function ey(t,i){gc(8390656,8,t,i)}function Yd(t,i){yc(2048,8,t,i)}function Tb(t){Pe.flags|=4;var i=Pe.updateQueue;if(i===null)i=fc(),Pe.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function ty(t){var i=Ht().memoizedState;return Tb({ref:i,nextImpl:t}),function(){if((st&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function ny(t,i){return yc(4,2,t,i)}function iy(t,i){return yc(4,4,t,i)}function ry(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ay(t,i,s){s=s!=null?s.concat([t]):null,yc(4,4,ry.bind(null,i,t),s)}function Xd(){}function sy(t,i){var s=Ht();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&Ud(i,o[1])?o[0]:(s.memoizedState=[t,i],t)}function oy(t,i){var s=Ht();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&Ud(i,o[1]))return o[0];if(o=t(),zs){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[o,i],o}function $d(t,i,s){return s===void 0||(Pr&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=l0(),Pe.lanes|=t,Da|=t,s)}function ly(t,i,s,o){return ai(s,i)?s:xo.current!==null?(t=$d(t,s,o),ai(t,i)||($t=!0),t):(Pr&42)===0||(Pr&1073741824)!==0&&(Ge&261930)===0?($t=!0,t.memoizedState=s):(t=l0(),Pe.lanes|=t,Da|=t,i)}function uy(t,i,s,o,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var v=Q.T,b={};Q.T=b,Wd(t,!1,i,s);try{var D=h(),B=Q.S;if(B!==null&&B(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=yb(D,o);Ol(t,i,K,hi(t))}else Ol(t,i,o,hi(t))}catch(J){Ol(t,i,{then:function(){},status:"rejected",reason:J},hi())}finally{oe.p=f,v!==null&&b.types!==null&&(v.types=b.types),Q.T=v}}function Sb(){}function Jd(t,i,s,o){if(t.tag!==5)throw Error(a(476));var h=cy(t).queue;uy(t,h,i,_e,s===null?Sb:function(){return hy(t),s(o)})}function cy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:_e},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function hy(t){var i=cy(t);i.next===null&&(i=t.alternate.memoizedState),Ol(t,i.next.queue,{},hi())}function Zd(){return mn(Xl)}function dy(){return Ht().memoizedState}function fy(){return Ht().memoizedState}function Ab(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=hi();t=wa(s);var o=xa(i,t,s);o!==null&&(Yn(o,i,s),Rl(o,i,s)),i={cache:Rd()},t.payload=i;return}i=i.return}}function wb(t,i,s){var o=hi();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},vc(t)?py(i,s):(s=gd(t,i,s,o),s!==null&&(Yn(s,t,o),gy(s,i,o)))}function my(t,i,s){var o=hi();Ol(t,i,s,o)}function Ol(t,i,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(vc(t))py(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,b=f(v,s);if(h.hasEagerState=!0,h.eagerState=b,ai(b,v))return Zu(t,i,h,0),gt===null&&Ju(),!1}catch{}finally{}if(s=gd(t,i,h,o),s!==null)return Yn(s,t,o),gy(s,i,o),!0}return!1}function Wd(t,i,s,o){if(o={lane:2,revertLane:Of(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vc(t)){if(i)throw Error(a(479))}else i=gd(t,s,o,2),i!==null&&Yn(i,t,2)}function vc(t){var i=t.alternate;return t===Pe||i!==null&&i===Pe}function py(t,i){Ro=hc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function gy(t,i,s){if((s&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,Sn(t,s)}}var jl={readContext:mn,use:mc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};jl.useEffectEvent=Vt;var yy={readContext:mn,use:mc,useCallback:function(t,i){return Pn().memoizedState=[t,i===void 0?null:i],t},useContext:mn,useEffect:ey,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,gc(4194308,4,ry.bind(null,i,t),s)},useLayoutEffect:function(t,i){return gc(4194308,4,t,i)},useInsertionEffect:function(t,i){gc(4,2,t,i)},useMemo:function(t,i){var s=Pn();i=i===void 0?null:i;var o=t();if(zs){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[o,i],o},useReducer:function(t,i,s){var o=Pn();if(s!==void 0){var h=s(i);if(zs){En(!0);try{s(i)}finally{En(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=wb.bind(null,Pe,t),[o.memoizedState,t]},useRef:function(t){var i=Pn();return t={current:t},i.memoizedState=t},useState:function(t){t=Qd(t);var i=t.queue,s=my.bind(null,Pe,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Xd,useDeferredValue:function(t,i){var s=Pn();return $d(s,t,i)},useTransition:function(){var t=Qd(!1);return t=uy.bind(null,Pe,t.queue,!0,!1),Pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var o=Pe,h=Pn();if($e){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),gt===null)throw Error(a(349));(Ge&127)!==0||Ug(o,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,ey(zg.bind(null,o,f,t),[t]),o.flags|=2048,Io(9,{destroy:void 0},Lg.bind(null,o,f,s,i),null),s},useId:function(){var t=Pn(),i=gt.identifierPrefix;if($e){var s=hr,o=cr;s=(o&~(1<<32-Dt(o)-1)).toString(32)+s,i="_"+i+"R_"+s,s=dc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=vb++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Zd,useFormState:Xg,useActionState:Xg,useOptimistic:function(t){var i=Pn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Wd.bind(null,Pe,!0,s),s.dispatch=i,[t,i]},useMemoCache:Hd,useCacheRefresh:function(){return Pn().memoizedState=Ab.bind(null,Pe)},useEffectEvent:function(t){var i=Pn(),s={impl:t};return i.memoizedState=s,function(){if((st&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},ef={readContext:mn,use:mc,useCallback:sy,useContext:mn,useEffect:Yd,useImperativeHandle:ay,useInsertionEffect:ny,useLayoutEffect:iy,useMemo:oy,useReducer:pc,useRef:Wg,useState:function(){return pc(Ur)},useDebugValue:Xd,useDeferredValue:function(t,i){var s=Ht();return ly(s,dt.memoizedState,t,i)},useTransition:function(){var t=pc(Ur)[0],i=Ht().memoizedState;return[typeof t=="boolean"?t:Dl(t),i]},useSyncExternalStore:Pg,useId:dy,useHostTransitionStatus:Zd,useFormState:$g,useActionState:$g,useOptimistic:function(t,i){var s=Ht();return Hg(s,dt,t,i)},useMemoCache:Hd,useCacheRefresh:fy};ef.useEffectEvent=ty;var vy={readContext:mn,use:mc,useCallback:sy,useContext:mn,useEffect:Yd,useImperativeHandle:ay,useInsertionEffect:ny,useLayoutEffect:iy,useMemo:oy,useReducer:Gd,useRef:Wg,useState:function(){return Gd(Ur)},useDebugValue:Xd,useDeferredValue:function(t,i){var s=Ht();return dt===null?$d(s,t,i):ly(s,dt.memoizedState,t,i)},useTransition:function(){var t=Gd(Ur)[0],i=Ht().memoizedState;return[typeof t=="boolean"?t:Dl(t),i]},useSyncExternalStore:Pg,useId:dy,useHostTransitionStatus:Zd,useFormState:Zg,useActionState:Zg,useOptimistic:function(t,i){var s=Ht();return dt!==null?Hg(s,dt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:fy};vy.useEffectEvent=ty;function tf(t,i,s,o){i=t.memoizedState,s=s(o,i),s=s==null?i:x({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var nf={enqueueSetState:function(t,i,s){t=t._reactInternals;var o=hi(),h=wa(o);h.payload=i,s!=null&&(h.callback=s),i=xa(t,h,o),i!==null&&(Yn(i,t,o),Rl(i,t,o))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var o=hi(),h=wa(o);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=xa(t,h,o),i!==null&&(Yn(i,t,o),Rl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=hi(),o=wa(s);o.tag=2,i!=null&&(o.callback=i),i=xa(t,o,s),i!==null&&(Yn(i,t,s),Rl(i,t,s))}};function _y(t,i,s,o,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!_l(s,o)||!_l(h,f):!0}function Ey(t,i,s,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==t&&nf.enqueueReplaceState(i,i.state,null)}function Bs(t,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(t=t.defaultProps){s===i&&(s=x({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function by(t){$u(t)}function Ty(t){console.error(t)}function Sy(t){$u(t)}function _c(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ay(t,i,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rf(t,i,s){return s=wa(s),s.tag=3,s.payload={element:null},s.callback=function(){_c(t,i)},s}function wy(t){return t=wa(t),t.tag=3,t}function xy(t,i,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Ay(i,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ay(i,s,o),typeof h!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function xb(t,i,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&bo(i,s,h,!0),s=oi.current,s!==null){switch(s.tag){case 31:case 13:return Si===null?Dc():s.alternate===null&&kt===0&&(kt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===sc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),If(t,o,h)),!1;case 22:return s.flags|=65536,o===sc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),If(t,o,h)),!1}throw Error(a(435,s.tag))}return If(t,o,h),Dc(),!1}if($e)return i=oi.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Td&&(t=Error(a(422),{cause:o}),Tl(_i(t,s)))):(o!==Td&&(i=Error(a(423),{cause:o}),Tl(_i(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=_i(o,s),h=rf(t.stateNode,o,h),jd(t,h),kt!==4&&(kt=2)),!1;var f=Error(a(520),{cause:o});if(f=_i(f,s),Bl===null?Bl=[f]:Bl.push(f),kt!==4&&(kt=2),i===null)return!0;o=_i(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=rf(s.stateNode,o,t),jd(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Oa===null||!Oa.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=wy(h),xy(h,t,s,o),jd(s,h),!1}s=s.return}while(s!==null);return!1}var af=Error(a(461)),$t=!1;function pn(t,i,s,o){i.child=t===null?Ng(i,null,s,o):Ls(i,t.child,s,o)}function Ry(t,i,s,o,h){s=s.render;var f=i.ref;if("ref"in o){var v={};for(var b in o)b!=="ref"&&(v[b]=o[b])}else v=o;return Vs(i),o=Ld(t,i,s,v,f,h),b=zd(),t!==null&&!$t?(Bd(t,i,h),Lr(t,i,h)):($e&&b&&Ed(i),i.flags|=1,pn(t,i,o,h),i.child)}function Cy(t,i,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!yd(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,Iy(t,i,f,o,h)):(t=ec(s.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!ff(t,h)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:_l,s(v,o)&&t.ref===i.ref)return Lr(t,i,h)}return i.flags|=1,t=jr(f,o),t.ref=i.ref,t.return=i,i.child=t}function Iy(t,i,s,o,h){if(t!==null){var f=t.memoizedProps;if(_l(f,o)&&t.ref===i.ref)if($t=!1,i.pendingProps=o=f,ff(t,h))(t.flags&131072)!==0&&($t=!0);else return i.lanes=t.lanes,Lr(t,i,h)}return sf(t,i,s,o,h)}function Ny(t,i,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Dy(t,i,f,s,o)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,f!==null?f.cachePool:null),f!==null?jg(i,f):Vd(),Mg(i);else return o=i.lanes=536870912,Dy(t,i,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(rc(i,f.cachePool),jg(i,f),Ca(),i.memoizedState=null):(t!==null&&rc(i,null),Vd(),Ca());return pn(t,i,h,s),i.child}function Ml(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Dy(t,i,s,o,h){var f=Id();return f=f===null?null:{parent:Yt._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&rc(i,null),Vd(),Mg(i),t!==null&&bo(t,i,o,!0),i.childLanes=h,null}function Ec(t,i){return i=Tc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Oy(t,i,s){return Ls(i,t.child,null,s),t=Ec(i,i.pendingProps),t.flags|=2,li(i),i.memoizedState=null,t}function Rb(t,i,s){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if($e){if(o.mode==="hidden")return t=Ec(i,o),i.lanes=536870912,Ml(null,t);if(Pd(i),(t=bt)?(t=F0(t,Ti),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ea!==null?{id:cr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},s=pg(t),s.return=i,i.child=s,fn=i,bt=null)):t=null,t===null)throw Ta(i);return i.lanes=536870912,null}return Ec(i,o)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Pd(i),h)if(i.flags&256)i.flags&=-257,i=Oy(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if($t||bo(t,i,s,!1),h=(s&t.childLanes)!==0,$t||h){if(o=gt,o!==null&&(v=ha(o,s),v!==0&&v!==f.retryLane))throw f.retryLane=v,Ds(t,v),Yn(o,t,v),af;Dc(),i=Oy(t,i,s)}else t=f.treeContext,bt=Ai(v.nextSibling),fn=i,$e=!0,ba=null,Ti=!1,t!==null&&vg(i,t),i=Ec(i,o),i.flags|=4096;return i}return t=jr(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function bc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function sf(t,i,s,o,h){return Vs(i),s=Ld(t,i,s,o,void 0,h),o=zd(),t!==null&&!$t?(Bd(t,i,h),Lr(t,i,h)):($e&&o&&Ed(i),i.flags|=1,pn(t,i,s,h),i.child)}function jy(t,i,s,o,h,f){return Vs(i),i.updateQueue=null,s=kg(i,o,s,h),Vg(t),o=zd(),t!==null&&!$t?(Bd(t,i,f),Lr(t,i,f)):($e&&o&&Ed(i),i.flags|=1,pn(t,i,s,f),i.child)}function My(t,i,s,o,h){if(Vs(i),i.stateNode===null){var f=yo,v=s.contextType;typeof v=="object"&&v!==null&&(f=mn(v)),f=new s(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Dd(i),v=s.contextType,f.context=typeof v=="object"&&v!==null?mn(v):yo,f.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(tf(i,s,v,o),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&nf.enqueueReplaceState(f,f.state,null),Il(i,o,f,h),Cl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,D=Bs(s,b);f.props=D;var B=f.context,K=s.contextType;v=yo,typeof K=="object"&&K!==null&&(v=mn(K));var J=s.getDerivedStateFromProps;K=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||B!==v)&&Ey(i,f,o,v),Aa=!1;var q=i.memoizedState;f.state=q,Il(i,o,f,h),Cl(),B=i.memoizedState,b||q!==B||Aa?(typeof J=="function"&&(tf(i,s,J,o),B=i.memoizedState),(D=Aa||_y(i,s,D,o,q,B,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=v,o=D):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Od(t,i),v=i.memoizedProps,K=Bs(s,v),f.props=K,J=i.pendingProps,q=f.context,B=s.contextType,D=yo,typeof B=="object"&&B!==null&&(D=mn(B)),b=s.getDerivedStateFromProps,(B=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==J||q!==D)&&Ey(i,f,o,D),Aa=!1,q=i.memoizedState,f.state=q,Il(i,o,f,h),Cl();var F=i.memoizedState;v!==J||q!==F||Aa||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof b=="function"&&(tf(i,s,b,o),F=i.memoizedState),(K=Aa||_y(i,s,K,o,q,F,D)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,D)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),f.props=o,f.state=F,f.context=D,o=K):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,bc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=Ls(i,t.child,null,h),i.child=Ls(i,null,s,h)):pn(t,i,s,h),i.memoizedState=f.state,t=i.child):t=Lr(t,i,h),t}function Vy(t,i,s,o){return js(),i.flags|=256,pn(t,i,s,o),i.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(t){return{baseLanes:t,cachePool:Ag()}}function uf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=ci),t}function ky(t,i,s){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if($e){if(h?Ra(i):Ca(),(t=bt)?(t=F0(t,Ti),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ea!==null?{id:cr,overflow:hr}:null,retryLane:536870912,hydrationErrors:null},s=pg(t),s.return=i,i.child=s,fn=i,bt=null)):t=null,t===null)throw Ta(i);return Gf(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Ca(),h=i.mode,b=Tc({mode:"hidden",children:b},h),o=Os(o,h,s,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=lf(s),o.childLanes=uf(t,v,s),i.memoizedState=of,Ml(null,o)):(Ra(i),cf(i,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(f)i.flags&256?(Ra(i),i.flags&=-257,i=hf(t,i,s)):i.memoizedState!==null?(Ca(),i.child=t.child,i.flags|=128,i=null):(Ca(),b=o.fallback,h=i.mode,o=Tc({mode:"visible",children:o.children},h),b=Os(b,h,s,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,Ls(i,t.child,null,s),o=i.child,o.memoizedState=lf(s),o.childLanes=uf(t,v,s),i.memoizedState=of,i=Ml(null,o));else if(Ra(i),Gf(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var B=v.dgst;v=B,o=Error(a(419)),o.stack="",o.digest=v,Tl({value:o,source:null,stack:null}),i=hf(t,i,s)}else if($t||bo(t,i,s,!1),v=(s&t.childLanes)!==0,$t||v){if(v=gt,v!==null&&(o=ha(v,s),o!==0&&o!==D.retryLane))throw D.retryLane=o,Ds(t,o),Yn(v,t,o),af;Ff(b)||Dc(),i=hf(t,i,s)}else Ff(b)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,bt=Ai(b.nextSibling),fn=i,$e=!0,ba=null,Ti=!1,t!==null&&vg(i,t),i=cf(i,o.children),i.flags|=4096);return i}return h?(Ca(),b=o.fallback,h=i.mode,D=t.child,B=D.sibling,o=jr(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,B!==null?b=jr(B,b):(b=Os(b,h,s,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,Ml(null,o),o=i.child,b=t.child.memoizedState,b===null?b=lf(s):(h=b.cachePool,h!==null?(D=Yt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Ag(),b={baseLanes:b.baseLanes|s,cachePool:h}),o.memoizedState=b,o.childLanes=uf(t,v,s),i.memoizedState=of,Ml(t.child,o)):(Ra(i),s=t.child,t=s.sibling,s=jr(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function cf(t,i){return i=Tc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Tc(t,i){return t=si(22,t,null,i),t.lanes=0,t}function hf(t,i,s){return Ls(i,t.child,null,s),t=cf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Py(t,i,s){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),wd(t.return,i,s)}function df(t,i,s,o,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=s,v.tailMode=h,v.treeForkCount=f)}function Uy(t,i,s){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var v=qt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,re(qt,v),pn(t,i,o,s),o=$e?bl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,s,i);else if(t.tag===19)Py(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&cc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),df(i,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}df(i,!0,s,null,f,o);break;case"together":df(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Lr(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Da|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(bo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=jr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=jr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function ff(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function Cb(t,i,s){switch(i.tag){case 3:At(i,i.stateNode.containerInfo),Sa(i,Yt,t.memoizedState.cache),js();break;case 27:case 5:cn(i);break;case 4:At(i,i.stateNode.containerInfo);break;case 10:Sa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Pd(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ra(i),i.flags|=128,null):(s&i.child.childLanes)!==0?ky(t,i,s):(Ra(i),t=Lr(t,i,s),t!==null?t.sibling:null);Ra(i);break;case 19:var h=(t.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(bo(t,i,s,!1),o=(s&i.childLanes)!==0),h){if(o)return Uy(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(qt,qt.current),o)break;return null;case 22:return i.lanes=0,Ny(t,i,s,i.pendingProps);case 24:Sa(i,Yt,t.memoizedState.cache)}return Lr(t,i,s)}function Ly(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)$t=!0;else{if(!ff(t,s)&&(i.flags&128)===0)return $t=!1,Cb(t,i,s);$t=(t.flags&131072)!==0}else $t=!1,$e&&(i.flags&1048576)!==0&&yg(i,bl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Ps(i.elementType),i.type=t,typeof t=="function")yd(t)?(o=Bs(t,o),i.tag=1,i=My(null,i,t,o,s)):(i.tag=0,i=sf(null,i,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===Fe){i.tag=11,i=Ry(null,i,t,o,s);break e}else if(h===I){i.tag=14,i=Cy(null,i,t,o,s);break e}}throw i=ze(t)||t,Error(a(306,i,""))}}return i;case 0:return sf(t,i,i.type,i.pendingProps,s);case 1:return o=i.type,h=Bs(o,i.pendingProps),My(t,i,o,h,s);case 3:e:{if(At(i,i.stateNode.containerInfo),t===null)throw Error(a(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Od(t,i),Il(i,o,null,s);var v=i.memoizedState;if(o=v.cache,Sa(i,Yt,o),o!==f.cache&&xd(i,[Yt],s,!0),Cl(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Vy(t,i,o,s);break e}else if(o!==h){h=_i(Error(a(424)),i),Tl(h),i=Vy(t,i,o,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=Ai(t.firstChild),fn=i,$e=!0,ba=null,Ti=!0,s=Ng(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(js(),o===h){i=Lr(t,i,s);break e}pn(t,i,o,s)}i=i.child}return i;case 26:return bc(t,i),t===null?(s=$0(i.type,null,i.pendingProps,null))?i.memoizedState=s:$e||(s=i.type,t=i.pendingProps,o=Uc(Ne.current).createElement(s),o[ue]=i,o[zt]=t,gn(o,s,t),Et(o),i.stateNode=o):i.memoizedState=$0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return cn(i),t===null&&$e&&(o=i.stateNode=K0(i.type,i.pendingProps,Ne.current),fn=i,Ti=!0,h=bt,ka(i.type)?(Qf=h,bt=Ai(o.firstChild)):bt=h),pn(t,i,i.pendingProps.children,s),bc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&$e&&((h=o=bt)&&(o=rT(o,i.type,i.pendingProps,Ti),o!==null?(i.stateNode=o,fn=i,bt=Ai(o.firstChild),Ti=!1,h=!0):h=!1),h||Ta(i)),cn(i),h=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,Bf(h,f)?o=null:v!==null&&Bf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Ld(t,i,_b,null,null,s),Xl._currentValue=h),bc(t,i),pn(t,i,o,s),i.child;case 6:return t===null&&$e&&((t=s=bt)&&(s=aT(s,i.pendingProps,Ti),s!==null?(i.stateNode=s,fn=i,bt=null,t=!0):t=!1),t||Ta(i)),null;case 13:return ky(t,i,s);case 4:return At(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ls(i,null,o,s):pn(t,i,o,s),i.child;case 11:return Ry(t,i,i.type,i.pendingProps,s);case 7:return pn(t,i,i.pendingProps,s),i.child;case 8:return pn(t,i,i.pendingProps.children,s),i.child;case 12:return pn(t,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,Sa(i,i.type,o.value),pn(t,i,o.children,s),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Vs(i),h=mn(h),o=o(h),i.flags|=1,pn(t,i,o,s),i.child;case 14:return Cy(t,i,i.type,i.pendingProps,s);case 15:return Iy(t,i,i.type,i.pendingProps,s);case 19:return Uy(t,i,s);case 31:return Rb(t,i,s);case 22:return Ny(t,i,s,i.pendingProps);case 24:return Vs(i),o=mn(Yt),t===null?(h=Id(),h===null&&(h=gt,f=Rd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:o,cache:h},Dd(i),Sa(i,Yt,h)):((t.lanes&s)!==0&&(Od(t,i),Il(i,null,null,s),Cl()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sa(i,Yt,o)):(o=f.cache,Sa(i,Yt,o),o!==h.cache&&xd(i,[Yt],s,!0))),pn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function zr(t){t.flags|=4}function mf(t,i,s,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(d0())t.flags|=8192;else throw Us=sc,Nd}else t.flags&=-16777217}function zy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!tv(i))if(d0())t.flags|=8192;else throw Us=sc,Nd}function Sc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ps():536870912,t.lanes|=i,jo|=i)}function Vl(t,i){if(!$e)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Tt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,i}function Ib(t,i,s){var o=i.pendingProps;switch(bd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(i),null;case 1:return Tt(i),null;case 3:return s=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),kr(Yt),pt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Eo(i)?zr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Sd())),Tt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(zr(i),f!==null?(Tt(i),zy(i,f)):(Tt(i),mf(i,h,null,o,s))):f?f!==t.memoizedState?(zr(i),Tt(i),zy(i,f)):(Tt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&zr(i),Tt(i),mf(i,h,t,o,s)),null;case 27:if(Sr(i),s=Ne.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&zr(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return Tt(i),null}t=he.current,Eo(i)?_g(i):(t=K0(h,o,s),i.stateNode=t,zr(i))}return Tt(i),null;case 5:if(Sr(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&zr(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return Tt(i),null}if(f=he.current,Eo(i))_g(i);else{var v=Uc(Ne.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}f[ue]=i,f[zt]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=f;e:switch(gn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&zr(i)}}return Tt(i),mf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&zr(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=Ne.current,Eo(i)){if(t=i.stateNode,s=i.memoizedProps,o=null,h=fn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[ue]=i,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||k0(t.nodeValue,s)),t||Ta(i,!0)}else t=Uc(t).createTextNode(o),t[ue]=i,i.stateNode=t}return Tt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(o=Eo(i),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[ue]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),t=!1}else s=Sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(li(i),i):(li(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Tt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Eo(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ue]=i}else js(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),h=!1}else h=Sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(li(i),i):(li(i),null)}return li(i),(i.flags&128)!==0?(i.lanes=s,i):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Sc(i,i.updateQueue),Tt(i),null);case 4:return pt(),t===null&&kf(i.stateNode.containerInfo),Tt(i),null;case 10:return kr(i.type),Tt(i),null;case 19:if(Y(qt),o=i.memoizedState,o===null)return Tt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)Vl(o,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=cc(t),f!==null){for(i.flags|=128,Vl(o,!1),t=f.updateQueue,i.updateQueue=t,Sc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)mg(s,t),s=s.sibling;return re(qt,qt.current&1|2),$e&&Mr(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&an()>Cc&&(i.flags|=128,h=!0,Vl(o,!1),i.lanes=4194304)}else{if(!h)if(t=cc(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Sc(i,t),Vl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!$e)return Tt(i),null}else 2*an()-o.renderingStartTime>Cc&&s!==536870912&&(i.flags|=128,h=!0,Vl(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=an(),t.sibling=null,s=qt.current,re(qt,h?s&1|2:s&1),$e&&Mr(i,o.treeForkCount),t):(Tt(i),null);case 22:case 23:return li(i),kd(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(s&536870912)!==0&&(i.flags&128)===0&&(Tt(i),i.subtreeFlags&6&&(i.flags|=8192)):Tt(i),s=i.updateQueue,s!==null&&Sc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),t!==null&&Y(ks),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),kr(Yt),Tt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function Nb(t,i){switch(bd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return kr(Yt),pt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Sr(i),null;case 31:if(i.memoizedState!==null){if(li(i),i.alternate===null)throw Error(a(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(li(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));js()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(qt),null;case 4:return pt(),null;case 10:return kr(i.type),null;case 22:case 23:return li(i),kd(),t!==null&&Y(ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return kr(Yt),null;case 25:return null;default:return null}}function By(t,i){switch(bd(i),i.tag){case 3:kr(Yt),pt();break;case 26:case 27:case 5:Sr(i);break;case 4:pt();break;case 31:i.memoizedState!==null&&li(i);break;case 13:li(i);break;case 19:Y(qt);break;case 10:kr(i.type);break;case 22:case 23:li(i),kd(),t!==null&&Y(ks);break;case 24:kr(Yt)}}function kl(t,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,v=s.inst;o=f(),v.destroy=o}s=s.next}while(s!==h)}}catch(b){ht(i,i.return,b)}}function Ia(t,i,s){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var v=o.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var D=s,B=b;try{B()}catch(K){ht(h,D,K)}}}o=o.next}while(o!==f)}}catch(K){ht(i,i.return,K)}}function qy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Og(i,s)}catch(o){ht(t,t.return,o)}}}function Hy(t,i,s){s.props=Bs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){ht(t,i,o)}}function Pl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){ht(t,i,h)}}function dr(t,i){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ht(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ht(t,i,h)}else s.current=null}function Fy(t){var i=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ht(t,t.return,h)}}function pf(t,i,s){try{var o=t.stateNode;Zb(o,t.type,s,i),o[zt]=i}catch(h){ht(t,t.return,h)}}function Gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ka(t.type)||t.tag===4}function gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ka(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yf(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ti));else if(o!==4&&(o===27&&ka(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(yf(t,i,s),t=t.sibling;t!==null;)yf(t,i,s),t=t.sibling}function Ac(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(o!==4&&(o===27&&ka(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ac(t,i,s),t=t.sibling;t!==null;)Ac(t,i,s),t=t.sibling}function Qy(t){var i=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);gn(i,o,s),i[ue]=t,i[zt]=s}catch(f){ht(t,t.return,f)}}var Br=!1,Jt=!1,vf=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Db(t,i){if(t=t.containerInfo,Lf=Gc,t=ag(t),cd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,b=-1,D=-1,B=0,K=0,J=t,q=null;t:for(;;){for(var F;J!==s||h!==0&&J.nodeType!==3||(b=v+h),J!==f||o!==0&&J.nodeType!==3||(D=v+o),J.nodeType===3&&(v+=J.nodeValue.length),(F=J.firstChild)!==null;)q=J,J=F;for(;;){if(J===t)break t;if(q===s&&++B===h&&(b=v),q===f&&++K===o&&(D=v),(F=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=F}s=b===-1||D===-1?null:{start:b,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(zf={focusedElem:t,selectionRange:s},Gc=!1,ln=i;ln!==null;)if(i=ln,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,ln=t;else for(;ln!==null;){switch(i=ln,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ye=Bs(s.type,h);t=o.getSnapshotBeforeUpdate(ye,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ht(s,s.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Hf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,ln=t;break}ln=i.return}}function Yy(t,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hr(t,s),o&4&&kl(5,s);break;case 1:if(Hr(t,s),o&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){ht(s,s.return,v)}else{var h=Bs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ht(s,s.return,v)}}o&64&&qy(s),o&512&&Pl(s,s.return);break;case 3:if(Hr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Og(t,i)}catch(v){ht(s,s.return,v)}}break;case 27:i===null&&o&4&&Qy(s);case 26:case 5:Hr(t,s),i===null&&o&4&&Fy(s),o&512&&Pl(s,s.return);break;case 12:Hr(t,s);break;case 31:Hr(t,s),o&4&&Jy(t,s);break;case 13:Hr(t,s),o&4&&Zy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=zb.bind(null,s),sT(t,s))));break;case 22:if(o=s.memoizedState!==null||Br,!o){i=i!==null&&i.memoizedState!==null||Jt,h=Br;var f=Jt;Br=o,(Jt=i)&&!f?Fr(t,s,(s.subtreeFlags&8772)!==0):Hr(t,s),Br=h,Jt=f}break;case 30:break;default:Hr(t,s)}}function Xy(t){var i=t.alternate;i!==null&&(t.alternate=null,Xy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ir(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Fn=!1;function qr(t,i,s){for(s=s.child;s!==null;)$y(t,i,s),s=s.sibling}function $y(t,i,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:Jt||dr(s,i),qr(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Jt||dr(s,i);var o=Rt,h=Fn;ka(s.type)&&(Rt=s.stateNode,Fn=!1),qr(t,i,s),Ql(s.stateNode),Rt=o,Fn=h;break;case 5:Jt||dr(s,i);case 6:if(o=Rt,h=Fn,Rt=null,qr(t,i,s),Rt=o,Fn=h,Rt!==null)if(Fn)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(f){ht(s,i,f)}else try{Rt.removeChild(s.stateNode)}catch(f){ht(s,i,f)}break;case 18:Rt!==null&&(Fn?(t=Rt,q0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Bo(t)):q0(Rt,s.stateNode));break;case 4:o=Rt,h=Fn,Rt=s.stateNode.containerInfo,Fn=!0,qr(t,i,s),Rt=o,Fn=h;break;case 0:case 11:case 14:case 15:Ia(2,s,i),Jt||Ia(4,s,i),qr(t,i,s);break;case 1:Jt||(dr(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Hy(s,i,o)),qr(t,i,s);break;case 21:qr(t,i,s);break;case 22:Jt=(o=Jt)||s.memoizedState!==null,qr(t,i,s),Jt=o;break;default:qr(t,i,s)}}function Jy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Bo(t)}catch(s){ht(i,i.return,s)}}}function Zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bo(t)}catch(s){ht(i,i.return,s)}}function Ob(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ky),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ky),i;default:throw Error(a(435,t.tag))}}function wc(t,i){var s=Ob(t);i.forEach(function(o){if(!s.has(o)){s.add(o);var h=Bb.bind(null,t,o);o.then(h,h)}})}function Gn(t,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(ka(b.type)){Rt=b.stateNode,Fn=!1;break e}break;case 5:Rt=b.stateNode,Fn=!1;break e;case 3:case 4:Rt=b.stateNode.containerInfo,Fn=!0;break e}b=b.return}if(Rt===null)throw Error(a(160));$y(f,v,h),Rt=null,Fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Wy(i,t),i=i.sibling}var Ui=null;function Wy(t,i){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gn(i,t),Qn(t),o&4&&(Ia(3,t,t.return),kl(3,t),Ia(5,t,t.return));break;case 1:Gn(i,t),Qn(t),o&512&&(Jt||s===null||dr(s,s.return)),o&64&&Br&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Ui;if(Gn(i,t),Qn(t),o&512&&(Jt||s===null||dr(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Wn]||f[ue]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),gn(f,o,s),f[ue]=t,Et(f),o=f;break e;case"link":var v=W0("link","href",h).get(o+(s.href||""));if(v){for(var b=0;b<v.length;b++)if(f=v[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(b,1);break t}}f=h.createElement(o),gn(f,o,s),h.head.appendChild(f);break;case"meta":if(v=W0("meta","content",h).get(o+(s.content||""))){for(b=0;b<v.length;b++)if(f=v[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(b,1);break t}}f=h.createElement(o),gn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ue]=t,Et(f),o=f}t.stateNode=o}else ev(h,t.type,t.stateNode);else t.stateNode=Z0(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?ev(h,t.type,t.stateNode):Z0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&pf(t,t.memoizedProps,s.memoizedProps)}break;case 27:Gn(i,t),Qn(t),o&512&&(Jt||s===null||dr(s,s.return)),s!==null&&o&4&&pf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Gn(i,t),Qn(t),o&512&&(Jt||s===null||dr(s,s.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(ye){ht(t,t.return,ye)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,pf(t,h,s!==null?s.memoizedProps:h)),o&1024&&(vf=!0);break;case 6:if(Gn(i,t),Qn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(ye){ht(t,t.return,ye)}}break;case 3:if(Bc=null,h=Ui,Ui=Lc(i.containerInfo),Gn(i,t),Ui=h,Qn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Bo(i.containerInfo)}catch(ye){ht(t,t.return,ye)}vf&&(vf=!1,e0(t));break;case 4:o=Ui,Ui=Lc(t.stateNode.containerInfo),Gn(i,t),Qn(t),Ui=o;break;case 12:Gn(i,t),Qn(t);break;case 31:Gn(i,t),Qn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 13:Gn(i,t),Qn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Rc=an()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,B=Br,K=Jt;if(Br=B||h,Jt=K||D,Gn(i,t),Jt=K,Br=B,Qn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||D||Br||Jt||qs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){D=s=i;try{if(f=D.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=D.stateNode;var J=D.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ye){ht(D,D.return,ye)}}}else if(i.tag===6){if(s===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(ye){ht(D,D.return,ye)}}}else if(i.tag===18){if(s===null){D=i;try{var F=D.stateNode;h?H0(F,!0):H0(D.stateNode,!1)}catch(ye){ht(D,D.return,ye)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,wc(t,s))));break;case 19:Gn(i,t),Qn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 30:break;case 21:break;default:Gn(i,t),Qn(t)}}function Qn(t){var i=t.flags;if(i&2){try{for(var s,o=t.return;o!==null;){if(Gy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=gf(t);Ac(t,f,h);break;case 5:var v=s.stateNode;s.flags&32&&(xn(v,""),s.flags&=-33);var b=gf(t);Ac(t,b,v);break;case 3:case 4:var D=s.stateNode.containerInfo,B=gf(t);yf(t,B,D);break;default:throw Error(a(161))}}catch(K){ht(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function e0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;e0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Hr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yy(t,i.alternate,i),i=i.sibling}function qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ia(4,i,i.return),qs(i);break;case 1:dr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Hy(i,i.return,s),qs(i);break;case 27:Ql(i.stateNode);case 26:case 5:dr(i,i.return),qs(i);break;case 22:i.memoizedState===null&&qs(i);break;case 30:qs(i);break;default:qs(i)}t=t.sibling}}function Fr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:Fr(h,f,s),kl(4,f);break;case 1:if(Fr(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ht(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Dg(D[h],b)}catch(B){ht(o,o.return,B)}}s&&v&64&&qy(f),Pl(f,f.return);break;case 27:Qy(f);case 26:case 5:Fr(h,f,s),s&&o===null&&v&4&&Fy(f),Pl(f,f.return);break;case 12:Fr(h,f,s);break;case 31:Fr(h,f,s),s&&v&4&&Jy(h,f);break;case 13:Fr(h,f,s),s&&v&4&&Zy(h,f);break;case 22:f.memoizedState===null&&Fr(h,f,s),Pl(f,f.return);break;case 30:break;default:Fr(h,f,s)}i=i.sibling}}function _f(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Sl(s))}function Ef(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Sl(t))}function Li(t,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)t0(t,i,s,o),i=i.sibling}function t0(t,i,s,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Li(t,i,s,o),h&2048&&kl(9,i);break;case 1:Li(t,i,s,o);break;case 3:Li(t,i,s,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Sl(t)));break;case 12:if(h&2048){Li(t,i,s,o),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,b=f.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ht(i,i.return,D)}}else Li(t,i,s,o);break;case 31:Li(t,i,s,o);break;case 13:Li(t,i,s,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?Li(t,i,s,o):Ul(t,i):f._visibility&2?Li(t,i,s,o):(f._visibility|=2,No(t,i,s,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&_f(v,i);break;case 24:Li(t,i,s,o),h&2048&&Ef(i.alternate,i);break;default:Li(t,i,s,o)}}function No(t,i,s,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,v=i,b=s,D=o,B=v.flags;switch(v.tag){case 0:case 11:case 15:No(f,v,b,D,h),kl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?No(f,v,b,D,h):Ul(f,v):(K._visibility|=2,No(f,v,b,D,h)),h&&B&2048&&_f(v.alternate,v);break;case 24:No(f,v,b,D,h),h&&B&2048&&Ef(v.alternate,v);break;default:No(f,v,b,D,h)}i=i.sibling}}function Ul(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,o=i,h=o.flags;switch(o.tag){case 22:Ul(s,o),h&2048&&_f(o.alternate,o);break;case 24:Ul(s,o),h&2048&&Ef(o.alternate,o);break;default:Ul(s,o)}i=i.sibling}}var Ll=8192;function Do(t,i,s){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)n0(t,i,s),t=t.sibling}function n0(t,i,s){switch(t.tag){case 26:Do(t,i,s),t.flags&Ll&&t.memoizedState!==null&&vT(s,Ui,t.memoizedState,t.memoizedProps);break;case 5:Do(t,i,s);break;case 3:case 4:var o=Ui;Ui=Lc(t.stateNode.containerInfo),Do(t,i,s),Ui=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ll,Ll=16777216,Do(t,i,s),Ll=o):Do(t,i,s));break;default:Do(t,i,s)}}function i0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function zl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];ln=o,a0(o,t)}i0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)r0(t),t=t.sibling}function r0(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&Ia(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):zl(t);break;default:zl(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];ln=o,a0(o,t)}i0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ia(8,i,i.return),xc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function a0(t,i){for(;ln!==null;){var s=ln;switch(s.tag){case 0:case 11:case 15:Ia(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Sl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ln=o;else e:for(s=t;ln!==null;){o=ln;var h=o.sibling,f=o.return;if(Xy(o),o===s){ln=null;break e}if(h!==null){h.return=f,ln=h;break e}ln=f}}}var jb={getCacheForType:function(t){var i=mn(Yt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return mn(Yt).controller.signal}},Mb=typeof WeakMap=="function"?WeakMap:Map,st=0,gt=null,qe=null,Ge=0,ct=0,ui=null,Na=!1,Oo=!1,bf=!1,Gr=0,kt=0,Da=0,Hs=0,Tf=0,ci=0,jo=0,Bl=null,Kn=null,Sf=!1,Rc=0,s0=0,Cc=1/0,Ic=null,Oa=null,nn=0,ja=null,Mo=null,Qr=0,Af=0,wf=null,o0=null,ql=0,xf=null;function hi(){return(st&2)!==0&&Ge!==0?Ge&-Ge:Q.T!==null?Of():sn()}function l0(){if(ci===0)if((Ge&536870912)===0||$e){var t=Xi;Xi<<=1,(Xi&3932160)===0&&(Xi=262144),ci=t}else ci=536870912;return t=oi.current,t!==null&&(t.flags|=32),ci}function Yn(t,i,s){(t===gt&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(Vo(t,0),Ma(t,Ge,ci,!1)),ji(t,s),((st&2)===0||t!==gt)&&(t===gt&&((st&2)===0&&(Hs|=s),kt===4&&Ma(t,Ge,ci,!1)),fr(t))}function u0(t,i,s){if((st&6)!==0)throw Error(a(327));var o=!s&&(i&127)===0&&(i&t.expiredLanes)===0||bn(t,i),h=o?Pb(t,i):Cf(t,i,!0),f=o;do{if(h===0){Oo&&!o&&Ma(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!Vb(s)){h=Cf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=Bl;var D=b.current.memoizedState.isDehydrated;if(D&&(Vo(b,v).flags|=256),v=Cf(b,v,!1),v!==2){if(bf&&!D){b.errorRecoveryDisabledLanes|=f,Hs|=f,h=4;break e}f=Kn,Kn=h,f!==null&&(Kn===null?Kn=f:Kn.push.apply(Kn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Vo(t,0),Ma(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ma(o,i,ci,!Na);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Rc+300-an(),10<h)){if(Ma(o,i,ci,!Na),Zn(o,0,!0)!==0)break e;Qr=i,o.timeoutHandle=z0(c0.bind(null,o,s,Kn,Ic,Sf,i,ci,Hs,jo,Na,f,"Throttled",-0,0),h);break e}c0(o,s,Kn,Ic,Sf,i,ci,Hs,jo,Na,f,null,-0,0)}}break}while(!0);fr(t)}function c0(t,i,s,o,h,f,v,b,D,B,K,J,q,F){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},n0(i,f,J);var ye=(f&62914560)===f?Rc-an():(f&4194048)===f?s0-an():0;if(ye=_T(J,ye),ye!==null){Qr=f,t.cancelPendingCommit=ye(v0.bind(null,t,i,f,s,o,h,v,b,D,K,J,null,q,F)),Ma(t,f,v,!B);return}}v0(t,i,f,s,o,h,v,b,D)}function Vb(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!ai(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ma(t,i,s,o){i&=~Tf,i&=~Hs,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-Dt(h),v=1<<f;o[f]=-1,h&=~v}s!==0&&Mi(t,s,i)}function Nc(){return(st&6)===0?(Hl(0),!1):!0}function Rf(){if(qe!==null){if(ct===0)var t=qe.return;else t=qe,Vr=Ms=null,qd(t),wo=null,wl=0,t=qe;for(;t!==null;)By(t.alternate,t),t=t.return;qe=null}}function Vo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,tT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Qr=0,Rf(),gt=t,qe=s=jr(t.current,null),Ge=i,ct=0,ui=null,Na=!1,Oo=bn(t,i),bf=!1,jo=ci=Tf=Hs=Da=kt=0,Kn=Bl=null,Sf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-Dt(o),f=1<<h;i|=t[h],o&=~f}return Gr=i,Ju(),s}function h0(t,i){Pe=null,Q.H=jl,i===Ao||i===ac?(i=Rg(),ct=3):i===Nd?(i=Rg(),ct=4):ct=i===af?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ui=i,qe===null&&(kt=1,_c(t,_i(i,t.current)))}function d0(){var t=oi.current;return t===null?!0:(Ge&4194048)===Ge?Si===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===Si:!1}function f0(){var t=Q.H;return Q.H=jl,t===null?jl:t}function m0(){var t=Q.A;return Q.A=jb,t}function Dc(){kt=4,Na||(Ge&4194048)!==Ge&&oi.current!==null||(Oo=!0),(Da&134217727)===0&&(Hs&134217727)===0||gt===null||Ma(gt,Ge,ci,!1)}function Cf(t,i,s){var o=st;st|=2;var h=f0(),f=m0();(gt!==t||Ge!==i)&&(Ic=null,Vo(t,i)),i=!1;var v=kt;e:do try{if(ct!==0&&qe!==null){var b=qe,D=ui;switch(ct){case 8:Rf(),v=6;break e;case 3:case 2:case 9:case 6:oi.current===null&&(i=!0);var B=ct;if(ct=0,ui=null,ko(t,b,D,B),s&&Oo){v=0;break e}break;default:B=ct,ct=0,ui=null,ko(t,b,D,B)}}kb(),v=kt;break}catch(K){h0(t,K)}while(!0);return i&&t.shellSuspendCounter++,Vr=Ms=null,st=o,Q.H=h,Q.A=f,qe===null&&(gt=null,Ge=0,Ju()),v}function kb(){for(;qe!==null;)p0(qe)}function Pb(t,i){var s=st;st|=2;var o=f0(),h=m0();gt!==t||Ge!==i?(Ic=null,Cc=an()+500,Vo(t,i)):Oo=bn(t,i);e:do try{if(ct!==0&&qe!==null){i=qe;var f=ui;t:switch(ct){case 1:ct=0,ui=null,ko(t,i,f,1);break;case 2:case 9:if(wg(f)){ct=0,ui=null,g0(i);break}i=function(){ct!==2&&ct!==9||gt!==t||(ct=7),fr(t)},f.then(i,i);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:wg(f)?(ct=0,ui=null,g0(i)):(ct=0,ui=null,ko(t,i,f,7));break;case 5:var v=null;switch(qe.tag){case 26:v=qe.memoizedState;case 5:case 27:var b=qe;if(v?tv(v):b.stateNode.complete){ct=0,ui=null;var D=b.sibling;if(D!==null)qe=D;else{var B=b.return;B!==null?(qe=B,Oc(B)):qe=null}break t}}ct=0,ui=null,ko(t,i,f,5);break;case 6:ct=0,ui=null,ko(t,i,f,6);break;case 8:Rf(),kt=6;break e;default:throw Error(a(462))}}Ub();break}catch(K){h0(t,K)}while(!0);return Vr=Ms=null,Q.H=o,Q.A=h,st=s,qe!==null?0:(gt=null,Ge=0,Ju(),kt)}function Ub(){for(;qe!==null&&!Oi();)p0(qe)}function p0(t){var i=Ly(t.alternate,t,Gr);t.memoizedProps=t.pendingProps,i===null?Oc(t):qe=i}function g0(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=jy(s,i,i.pendingProps,i.type,void 0,Ge);break;case 11:i=jy(s,i,i.pendingProps,i.type.render,i.ref,Ge);break;case 5:qd(i);default:By(s,i),i=qe=mg(i,Gr),i=Ly(s,i,Gr)}t.memoizedProps=t.pendingProps,i===null?Oc(t):qe=i}function ko(t,i,s,o){Vr=Ms=null,qd(i),wo=null,wl=0;var h=i.return;try{if(xb(t,h,i,s,Ge)){kt=1,_c(t,_i(s,t.current)),qe=null;return}}catch(f){if(h!==null)throw qe=h,f;kt=1,_c(t,_i(s,t.current)),qe=null;return}i.flags&32768?($e||o===1?t=!0:Oo||(Ge&536870912)!==0?t=!1:(Na=t=!0,(o===2||o===9||o===3||o===6)&&(o=oi.current,o!==null&&o.tag===13&&(o.flags|=16384))),y0(i,t)):Oc(i)}function Oc(t){var i=t;do{if((i.flags&32768)!==0){y0(i,Na);return}t=i.return;var s=Ib(i.alternate,i,Gr);if(s!==null){qe=s;return}if(i=i.sibling,i!==null){qe=i;return}qe=i=t}while(i!==null);kt===0&&(kt=5)}function y0(t,i){do{var s=Nb(t.alternate,t);if(s!==null){s.flags&=32767,qe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){qe=t;return}qe=t=s}while(t!==null);kt=6,qe=null}function v0(t,i,s,o,h,f,v,b,D){t.cancelPendingCommit=null;do jc();while(nn!==0);if((st&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=pd,$i(t,s,f,v,b,D),t===gt&&(qe=gt=null,Ge=0),Mo=i,ja=t,Qr=s,Af=f,wf=h,o0=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qb(Qi,function(){return S0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=oe.p,oe.p=2,v=st,st|=4;try{Db(t,i,s)}finally{st=v,oe.p=h,Q.T=o}}nn=1,_0(),E0(),b0()}}function _0(){if(nn===1){nn=0;var t=ja,i=Mo,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=oe.p;oe.p=2;var h=st;st|=4;try{Wy(i,t);var f=zf,v=ag(t.containerInfo),b=f.focusedElem,D=f.selectionRange;if(v!==b&&b&&b.ownerDocument&&rg(b.ownerDocument.documentElement,b)){if(D!==null&&cd(b)){var B=D.start,K=D.end;if(K===void 0&&(K=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(K,b.value.length);else{var J=b.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var F=q.getSelection(),ye=b.textContent.length,Ae=Math.min(D.start,ye),mt=D.end===void 0?Ae:Math.min(D.end,ye);!F.extend&&Ae>mt&&(v=mt,mt=Ae,Ae=v);var U=ig(b,Ae),V=ig(b,mt);if(U&&V&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var z=J.createRange();z.setStart(U.node,U.offset),F.removeAllRanges(),Ae>mt?(F.addRange(z),F.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),F.addRange(z))}}}}for(J=[],F=b;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var X=J[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Gc=!!Lf,zf=Lf=null}finally{st=h,oe.p=o,Q.T=s}}t.current=i,nn=2}}function E0(){if(nn===2){nn=0;var t=ja,i=Mo,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=oe.p;oe.p=2;var h=st;st|=4;try{Yy(t,i.alternate,i)}finally{st=h,oe.p=o,Q.T=s}}nn=3}}function b0(){if(nn===4||nn===3){nn=0,fs();var t=ja,i=Mo,s=Qr,o=o0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nn=5:(nn=0,Mo=ja=null,T0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Oa=null),mi(s),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=Q.T,h=oe.p,oe.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var b=o[v];f(b.value,{componentStack:b.stack})}}finally{Q.T=i,oe.p=h}}(Qr&3)!==0&&jc(),fr(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===xf?ql++:(ql=0,xf=t):ql=0,Hl(0)}}function T0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Sl(i)))}function jc(){return _0(),E0(),b0(),S0()}function S0(){if(nn!==5)return!1;var t=ja,i=Af;Af=0;var s=mi(Qr),o=Q.T,h=oe.p;try{oe.p=32>s?32:s,Q.T=null,s=wf,wf=null;var f=ja,v=Qr;if(nn=0,Mo=ja=null,Qr=0,(st&6)!==0)throw Error(a(331));var b=st;if(st|=4,r0(f.current),t0(f,f.current,v,s),st=b,Hl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ot,f)}catch{}return!0}finally{oe.p=h,Q.T=o,T0(t,i)}}function A0(t,i,s){i=_i(s,i),i=rf(t.stateNode,i,2),t=xa(t,i,2),t!==null&&(ji(t,2),fr(t))}function ht(t,i,s){if(t.tag===3)A0(t,t,s);else for(;i!==null;){if(i.tag===3){A0(i,t,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Oa===null||!Oa.has(o))){t=_i(s,t),s=wy(2),o=xa(i,s,2),o!==null&&(xy(s,o,i,t),ji(o,2),fr(o));break}}i=i.return}}function If(t,i,s){var o=t.pingCache;if(o===null){o=t.pingCache=new Mb;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(s)||(bf=!0,h.add(s),t=Lb.bind(null,t,i,s),i.then(t,t))}function Lb(t,i,s){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,gt===t&&(Ge&s)===s&&(kt===4||kt===3&&(Ge&62914560)===Ge&&300>an()-Rc?(st&2)===0&&Vo(t,0):Tf|=s,jo===Ge&&(jo=0)),fr(t)}function w0(t,i){i===0&&(i=ps()),t=Ds(t,i),t!==null&&(ji(t,i),fr(t))}function zb(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),w0(t,s)}function Bb(t,i){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),w0(t,s)}function qb(t,i){return Nt(t,i)}var Mc=null,Po=null,Nf=!1,Vc=!1,Df=!1,Va=0;function fr(t){t!==Po&&t.next===null&&(Po===null?Mc=Po=t:Po=Po.next=t),Vc=!0,Nf||(Nf=!0,Fb())}function Hl(t,i){if(!Df&&Vc){Df=!0;do for(var s=!1,o=Mc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-Dt(42|t)+1)-1,f&=h&~(v&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,I0(o,f))}else f=Ge,f=Zn(o,o===gt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||bn(o,f)||(s=!0,I0(o,f));o=o.next}while(s);Df=!1}}function Hb(){x0()}function x0(){Vc=Nf=!1;var t=0;Va!==0&&eT()&&(t=Va);for(var i=an(),s=null,o=Mc;o!==null;){var h=o.next,f=R0(o,i);f===0?(o.next=null,s===null?Mc=h:s.next=h,h===null&&(Po=s)):(s=o,(t!==0||(f&3)!==0)&&(Vc=!0)),o=h}nn!==0&&nn!==5||Hl(t),Va!==0&&(Va=0)}function R0(t,i){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Dt(f),b=1<<v,D=h[v];D===-1?((b&s)===0||(b&o)!==0)&&(h[v]=ca(b,i)):D<=i&&(t.expiredLanes|=b),f&=~b}if(i=gt,s=Ge,s=Zn(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===i&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fi(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||bn(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(o!==null&&fi(o),mi(s)){case 2:case 8:s=ms;break;case 32:s=Qi;break;case 268435456:s=la;break;default:s=Qi}return o=C0.bind(null,t),s=Nt(s,o),t.callbackPriority=i,t.callbackNode=s,i}return o!==null&&o!==null&&fi(o),t.callbackPriority=2,t.callbackNode=null,2}function C0(t,i){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(jc()&&t.callbackNode!==s)return null;var o=Ge;return o=Zn(t,t===gt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(u0(t,o,i),R0(t,an()),t.callbackNode!=null&&t.callbackNode===s?C0.bind(null,t):null)}function I0(t,i){if(jc())return null;u0(t,i,!0)}function Fb(){nT(function(){(st&6)!==0?Nt(oa,Hb):x0()})}function Of(){if(Va===0){var t=To;t===0&&(t=hn,hn<<=1,(hn&261888)===0&&(hn=256)),Va=t}return Va}function N0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function D0(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Gb(t,i,s,o,h){if(i==="submit"&&s&&s.stateNode===h){var f=N0((h[zt]||null).action),v=o.submitter;v&&(i=(i=v[zt]||null)?N0(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var b=new Mt("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Va!==0){var D=v?D0(h,v):new FormData(h);Jd(s,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(b.preventDefault(),D=v?D0(h,v):new FormData(h),Jd(s,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var jf=0;jf<md.length;jf++){var Mf=md[jf],Qb=Mf.toLowerCase(),Kb=Mf[0].toUpperCase()+Mf.slice(1);Pi(Qb,"on"+Kb)}Pi(lg,"onAnimationEnd"),Pi(ug,"onAnimationIteration"),Pi(cg,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(ub,"onTransitionRun"),Pi(cb,"onTransitionStart"),Pi(hb,"onTransitionCancel"),Pi(hg,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function O0(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var b=o[v],D=b.instance,B=b.currentTarget;if(b=b.listener,D!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=B;try{f(h)}catch(K){$u(K)}h.currentTarget=null,f=D}else for(v=0;v<o.length;v++){if(b=o[v],D=b.instance,B=b.currentTarget,b=b.listener,D!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=B;try{f(h)}catch(K){$u(K)}h.currentTarget=null,f=D}}}}function He(t,i){var s=i[Cr];s===void 0&&(s=i[Cr]=new Set);var o=t+"__bubble";s.has(o)||(j0(i,t,2,!1),s.add(o))}function Vf(t,i,s){var o=0;i&&(o|=4),j0(s,t,o,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function kf(t){if(!t[kc]){t[kc]=!0,ys.forEach(function(s){s!=="selectionchange"&&(Yb.has(s)||Vf(s,!1,t),Vf(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[kc]||(i[kc]=!0,Vf("selectionchange",!1,i))}}function j0(t,i,s,o){switch(lv(i)){case 2:var h=TT;break;case 8:h=ST;break;default:h=Jf}s=h.bind(null,i,s,t),h=void 0,!Dr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Pf(t,i,s,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var b=o.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=o.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=jn(b),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){o=f=v;continue e}b=b.parentNode}}o=o.return}sr(function(){var B=f,K=qn(s),J=[];e:{var q=dg.get(t);if(q!==void 0){var F=Mt,ye=t;switch(t){case"keypress":if($(s)===0)break e;case"keydown":case"keyup":F=Ku;break;case"focusin":ye="focus",F=Rs;break;case"focusout":ye="blur",F=Rs;break;case"beforeblur":case"afterblur":F=Rs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case lg:case ug:case cg:F=zu;break;case hg:F=w;break;case"scroll":case"scrollend":F=Rn;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Or;break;case"toggle":case"beforetoggle":F=ke}var Ae=(i&4)!==0,mt=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?q!==null?q+"Capture":null:q;Ae=[];for(var V=B,z;V!==null;){var X=V;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=ni(V,U),X!=null&&Ae.push(Gl(V,X,z))),mt)break;V=V.return}0<Ae.length&&(q=new F(q,ye,null,s,K),J.push({event:q,listeners:Ae}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&s!==As&&(ye=s.relatedTarget||s.fromElement)&&(jn(ye)||ye[zn]))break e;if((F||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ye=s.relatedTarget||s.toElement,F=B,ye=ye?jn(ye):null,ye!==null&&(mt=u(ye),Ae=ye.tag,ye!==mt||Ae!==5&&Ae!==27&&Ae!==6)&&(ye=null)):(F=null,ye=B),F!==ye)){if(Ae=pl,X="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Or,X="onPointerLeave",U="onPointerEnter",V="pointer"),mt=F==null?q:An(F),z=ye==null?q:An(ye),q=new Ae(X,V+"leave",F,s,K),q.target=mt,q.relatedTarget=z,X=null,jn(K)===B&&(Ae=new Ae(U,V+"enter",ye,s,K),Ae.target=z,Ae.relatedTarget=mt,X=Ae),mt=X,F&&ye)t:{for(Ae=Xb,U=F,V=ye,z=0,X=U;X;X=Ae(X))z++;X=0;for(var Ee=V;Ee;Ee=Ae(Ee))X++;for(;0<z-X;)U=Ae(U),z--;for(;0<X-z;)V=Ae(V),X--;for(;z--;){if(U===V||V!==null&&U===V.alternate){Ae=U;break t}U=Ae(U),V=Ae(V)}Ae=null}else Ae=null;F!==null&&M0(J,q,F,Ae,!1),ye!==null&&mt!==null&&M0(J,mt,ye,Ae,!0)}}e:{if(q=B?An(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var tt=Jp;else if(Xp(q))if(Zp)tt=sb;else{tt=rb;var ve=ib}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&pa(B.elementType)&&(tt=Jp):tt=ab;if(tt&&(tt=tt(t,B))){$p(J,tt,s,K);break e}ve&&ve(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&bs(q,"number",q.value)}switch(ve=B?An(B):window,t){case"focusin":(Xp(ve)||ve.contentEditable==="true")&&(mo=ve,hd=B,El=null);break;case"focusout":El=hd=mo=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,sg(J,s,K);break;case"selectionchange":if(lb)break;case"keydown":case"keyup":sg(J,s,K)}var Ue;if(at)e:{switch(t){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else fo?Cs(t,s)&&(Qe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Qe="onCompositionStart");Qe&&(ur&&s.locale!=="ko"&&(fo||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&fo&&(Ue=T()):(ii=K,va="value"in ii?ii.value:ii.textContent,fo=!0)),ve=Pc(B,Qe),0<ve.length&&(Qe=new lr(Qe,t,null,s,K),J.push({event:Qe,listeners:ve}),Ue?Qe.data=Ue:(Ue=ho(s),Ue!==null&&(Qe.data=Ue)))),(Ue=yi?WE(t,s):eb(t,s))&&(Qe=Pc(B,"onBeforeInput"),0<Qe.length&&(ve=new lr("onBeforeInput","beforeinput",null,s,K),J.push({event:ve,listeners:Qe}),ve.data=Ue)),Gb(J,t,B,s,K)}O0(J,i)})}function Gl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Pc(t,i){for(var s=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(t,s),h!=null&&o.unshift(Gl(t,h,f)),h=ni(t,i),h!=null&&o.push(Gl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Xb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function M0(t,i,s,o,h){for(var f=i._reactName,v=[];s!==null&&s!==o;){var b=s,D=b.alternate,B=b.stateNode;if(b=b.tag,D!==null&&D===o)break;b!==5&&b!==26&&b!==27||B===null||(D=B,h?(B=ni(s,f),B!=null&&v.unshift(Gl(s,B,D))):h||(B=ni(s,f),B!=null&&v.push(Gl(s,B,D)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var $b=/\r\n?/g,Jb=/\u0000|\uFFFD/g;function V0(t){return(typeof t=="string"?t:""+t).replace($b,`
`).replace(Jb,"")}function k0(t,i){return i=V0(i),V0(t)===i}function ft(t,i,s,o,h,f){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||xn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&xn(t,""+o);break;case"className":Vn(t,"class",o);break;case"tabIndex":Vn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(t,s,o);break;case"style":Ss(t,o,f);break;case"data":if(i!=="object"){Vn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ga(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&ft(t,i,"name",h.name,h,null),ft(t,i,"formEncType",h.formEncType,h,null),ft(t,i,"formMethod",h.formMethod,h,null),ft(t,i,"formTarget",h.formTarget,h,null)):(ft(t,i,"encType",h.encType,h,null),ft(t,i,"method",h.method,h,null),ft(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=ga(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ti);break;case"onScroll":o!=null&&He("scroll",t);break;case"onScrollEnd":o!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=ga(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":He("beforetoggle",t),He("toggle",t),da(t,"popover",o);break;case"xlinkActuate":jt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":jt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":jt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":jt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":jt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":jt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":jt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":jt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":jt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":da(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=lo.get(s)||s,da(t,s,o))}}function Uf(t,i,s,o,h,f){switch(s){case"style":Ss(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?xn(t,o):(typeof o=="number"||typeof o=="bigint")&&xn(t,""+o);break;case"onScroll":o!=null&&He("scroll",t);break;case"onScrollEnd":o!=null&&He("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[zt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):da(t,s,o)}}}function gn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ft(t,i,f,v,s,null)}}h&&ft(t,i,"srcSet",s.srcSet,s,null),o&&ft(t,i,"src",s.src,s,null);return;case"input":He("invalid",t);var b=f=v=h=null,D=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":h=K;break;case"type":v=K;break;case"checked":D=K;break;case"defaultChecked":B=K;break;case"value":f=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:ft(t,i,o,K,s,null)}}so(t,f,b,D,B,v,h,!1);return;case"select":He("invalid",t),o=v=f=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":v=b;break;case"multiple":o=b;default:ft(t,i,h,b,s,null)}i=f,s=v,t.multiple=!!o,i!=null?tr(t,!!o,i,!1):s!=null&&tr(t,!!o,s,!0);return;case"textarea":He("invalid",t),f=h=o=null;for(v in s)if(s.hasOwnProperty(v)&&(b=s[v],b!=null))switch(v){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:ft(t,i,v,b,s,null)}nr(t,o,h,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(o=s[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ft(t,i,D,o,s,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(o=0;o<Fl.length;o++)He(Fl[o],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ft(t,i,B,o,s,null)}return;default:if(pa(i)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&Uf(t,i,K,o,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(o=s[b],o!=null&&ft(t,i,b,o,s,null))}function Zb(t,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,b=null,D=null,B=null,K=null;for(F in s){var J=s[F];if(s.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=J;default:o.hasOwnProperty(F)||ft(t,i,F,null,o,J)}}for(var q in o){var F=o[q];if(J=s[q],o.hasOwnProperty(q)&&(F!=null||J!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":K=F;break;case"value":v=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:F!==J&&ft(t,i,q,F,o,J)}}fa(t,v,b,D,B,K,f,h);return;case"select":F=v=b=q=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":F=D;default:o.hasOwnProperty(f)||ft(t,i,f,null,o,D)}for(h in o)if(f=o[h],D=s[h],o.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":q=f;break;case"defaultValue":b=f;break;case"multiple":v=f;default:f!==D&&ft(t,i,h,f,o,D)}i=b,s=v,o=F,q!=null?tr(t,!!s,q,!1):!!o!=!!s&&(i!=null?tr(t,!!s,i,!0):tr(t,!!s,s?[]:"",!1));return;case"textarea":F=q=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ft(t,i,b,null,o,h)}for(v in o)if(h=o[v],f=s[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ft(t,i,v,h,o,f)}ma(t,q,F);return;case"option":for(var ye in s)if(q=s[ye],s.hasOwnProperty(ye)&&q!=null&&!o.hasOwnProperty(ye))switch(ye){case"selected":t.selected=!1;break;default:ft(t,i,ye,null,o,q)}for(D in o)if(q=o[D],F=s[D],o.hasOwnProperty(D)&&q!==F&&(q!=null||F!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ft(t,i,D,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)q=s[Ae],s.hasOwnProperty(Ae)&&q!=null&&!o.hasOwnProperty(Ae)&&ft(t,i,Ae,null,o,q);for(B in o)if(q=o[B],F=s[B],o.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:ft(t,i,B,q,o,F)}return;default:if(pa(i)){for(var mt in s)q=s[mt],s.hasOwnProperty(mt)&&q!==void 0&&!o.hasOwnProperty(mt)&&Uf(t,i,mt,void 0,o,q);for(K in o)q=o[K],F=s[K],!o.hasOwnProperty(K)||q===F||q===void 0&&F===void 0||Uf(t,i,K,q,o,F);return}}for(var U in s)q=s[U],s.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&ft(t,i,U,null,o,q);for(J in o)q=o[J],F=s[J],!o.hasOwnProperty(J)||q===F||q==null&&F==null||ft(t,i,J,q,o,F)}function P0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,v=h.initiatorType,b=h.duration;if(f&&b&&P0(v)){for(v=0,b=h.responseEnd,o+=1;o<s.length;o++){var D=s[o],B=D.startTime;if(B>b)break;var K=D.transferSize,J=D.initiatorType;K&&P0(J)&&(D=D.responseEnd,v+=K*(D<b?1:(b-B)/(D-B)))}if(--o,i+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Lf=null,zf=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function U0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qf=null;function eT(){var t=window.event;return t&&t.type==="popstate"?t===qf?!1:(qf=t,!0):(qf=null,!1)}var z0=typeof setTimeout=="function"?setTimeout:void 0,tT=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,nT=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(t){return B0.resolve(null).then(t).catch(iT)}:z0;function iT(t){setTimeout(function(){throw t})}function ka(t){return t==="head"}function q0(t,i){var s=i,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Bo(i);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Ql(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Ql(s);for(var f=s.firstChild;f;){var v=f.nextSibling,b=f.nodeName;f[Wn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=v}}else s==="body"&&Ql(t.ownerDocument.body);s=h}while(s);Bo(i)}function H0(t,i){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function Hf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Hf(s),Ir(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function rT(t,i,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Wn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ai(t.nextSibling),t===null)break}return null}function aT(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ai(t.nextSibling),t===null))return null;return t}function F0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ai(t.nextSibling),t===null))return null;return t}function Ff(t){return t.data==="$?"||t.data==="$~"}function Gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function sT(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var o=function(){i(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ai(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Qf=null;function G0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Ai(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function Q0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function K0(t,i,s){switch(i=Uc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Ql(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ir(t)}var wi=new Map,Y0=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Kr=oe.d;oe.d={f:oT,r:lT,D:uT,C:cT,L:hT,m:dT,X:mT,S:fT,M:pT};function oT(){var t=Kr.f(),i=Nc();return t||i}function lT(t){var i=Qt(t);i!==null&&i.tag===5&&i.type==="form"?hy(i):Kr.r(t)}var Uo=typeof document>"u"?null:document;function X0(t,i,s){var o=Uo;if(o&&typeof i=="string"&&i){var h=wn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Y0.has(h)||(Y0.add(h),t={rel:t,crossOrigin:s,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),gn(i,"link",t),Et(i),o.head.appendChild(i)))}}function uT(t){Kr.D(t),X0("dns-prefetch",t,null)}function cT(t,i){Kr.C(t,i),X0("preconnect",t,i)}function hT(t,i,s){Kr.L(t,i,s);var o=Uo;if(o&&t&&i){var h='link[rel="preload"][as="'+wn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+wn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+wn(s.imageSizes)+'"]')):h+='[href="'+wn(t)+'"]';var f=h;switch(i){case"style":f=Lo(t);break;case"script":f=zo(t)}wi.has(f)||(t=x({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),wi.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Kl(f))||i==="script"&&o.querySelector(Yl(f))||(i=o.createElement("link"),gn(i,"link",t),Et(i),o.head.appendChild(i)))}}function dT(t,i){Kr.m(t,i);var s=Uo;if(s&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+wn(o)+'"][href="'+wn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=zo(t)}if(!wi.has(f)&&(t=x({rel:"modulepreload",href:t},i),wi.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Yl(f)))return}o=s.createElement("link"),gn(o,"link",t),Et(o),s.head.appendChild(o)}}}function fT(t,i,s){Kr.S(t,i,s);var o=Uo;if(o&&t){var h=ei(o).hoistableStyles,f=Lo(t);i=i||"default";var v=h.get(f);if(!v){var b={loading:0,preload:null};if(v=o.querySelector(Kl(f)))b.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},s),(s=wi.get(f))&&Kf(t,s);var D=v=o.createElement("link");Et(D),gn(D,"link",t),D._p=new Promise(function(B,K){D.onload=B,D.onerror=K}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,zc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(f,v)}}}function mT(t,i){Kr.X(t,i);var s=Uo;if(s&&t){var o=ei(s).hoistableScripts,h=zo(t),f=o.get(h);f||(f=s.querySelector(Yl(h)),f||(t=x({src:t,async:!0},i),(i=wi.get(h))&&Yf(t,i),f=s.createElement("script"),Et(f),gn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function pT(t,i){Kr.M(t,i);var s=Uo;if(s&&t){var o=ei(s).hoistableScripts,h=zo(t),f=o.get(h);f||(f=s.querySelector(Yl(h)),f||(t=x({src:t,async:!0,type:"module"},i),(i=wi.get(h))&&Yf(t,i),f=s.createElement("script"),Et(f),gn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function $0(t,i,s,o){var h=(h=Ne.current)?Lc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Lo(s.href),s=ei(h).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Lo(s.href);var f=ei(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Kl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),wi.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wi.set(t,s),f||gT(h,t,s,v.state))),i&&o===null)throw Error(a(528,""));return v}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=zo(s),s=ei(h).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Lo(t){return'href="'+wn(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function J0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function gT(t,i,s,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),gn(i,"link",s),Et(i),t.head.appendChild(i))}function zo(t){return'[src="'+wn(t)+'"]'}function Yl(t){return"script[async]"+t}function Z0(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+wn(s.href)+'"]');if(o)return i.instance=o,Et(o),o;var h=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Et(o),gn(o,"style",h),zc(o,s.precedence,t),i.instance=o;case"stylesheet":h=Lo(s.href);var f=t.querySelector(Kl(h));if(f)return i.state.loading|=4,i.instance=f,Et(f),f;o=J0(s),(h=wi.get(h))&&Kf(o,h),f=(t.ownerDocument||t).createElement("link"),Et(f);var v=f;return v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),gn(f,"link",o),i.state.loading|=4,zc(f,s.precedence,t),i.instance=f;case"script":return f=zo(s.src),(h=t.querySelector(Yl(f)))?(i.instance=h,Et(h),h):(o=s,(h=wi.get(f))&&(o=x({},s),Yf(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Et(h),gn(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,zc(o,s.precedence,t));return i.instance}function zc(t,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var b=o[v];if(b.dataset.precedence===i)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Kf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Yf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function W0(t,i,s){if(Bc===null){var o=new Map,h=Bc=new Map;h.set(s,o)}else h=Bc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Wn]||f[ue]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var b=o.get(v);b?b.push(f):o.set(v,[f])}}return o}function ev(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function yT(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function tv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function vT(t,i,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Lo(o.href),f=i.querySelector(Kl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=qc.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=f,Et(f);return}f=i.ownerDocument||i,o=J0(o),(h=wi.get(h))&&Kf(o,h),f=f.createElement("link"),Et(f);var v=f;v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),gn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=qc.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Xf=0;function _T(t,i){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Xf===0&&(Xf=62500*Wb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Xf?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Fc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(ET,t),Hc=null,qc.call(t))}function ET(t,i){if(!(i.state.loading&4)){var s=Hc.get(t);if(s)var o=s.get(null);else{s=new Map,Hc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=s.get(v)||o,f===o&&s.set(null,h),s.set(v,h),this.count++,o=qc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Xl={$$typeof:pe,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function bT(t,i,s,o,h,f,v,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tn(0),this.hiddenUpdates=Tn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function nv(t,i,s,o,h,f,v,b,D,B,K,J){return t=new bT(t,i,s,v,D,B,K,J,b),i=1,f===!0&&(i|=24),f=si(3,null,null,i),t.current=f,f.stateNode=t,i=Rd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:i},Dd(f),t}function iv(t){return t?(t=yo,t):yo}function rv(t,i,s,o,h,f){h=iv(h),o.context===null?o.context=h:o.pendingContext=h,o=wa(i),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=xa(t,o,i),s!==null&&(Yn(s,t,i),Rl(s,t,i))}function av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function $f(t,i){av(t,i),(t=t.alternate)&&av(t,i)}function sv(t){if(t.tag===13||t.tag===31){var i=Ds(t,67108864);i!==null&&Yn(i,t,67108864),$f(t,67108864)}}function ov(t){if(t.tag===13||t.tag===31){var i=hi();i=Ji(i);var s=Ds(t,i);s!==null&&Yn(s,t,i),$f(t,i)}}var Gc=!0;function TT(t,i,s,o){var h=Q.T;Q.T=null;var f=oe.p;try{oe.p=2,Jf(t,i,s,o)}finally{oe.p=f,Q.T=h}}function ST(t,i,s,o){var h=Q.T;Q.T=null;var f=oe.p;try{oe.p=8,Jf(t,i,s,o)}finally{oe.p=f,Q.T=h}}function Jf(t,i,s,o){if(Gc){var h=Zf(o);if(h===null)Pf(t,i,o,Qc,s),uv(t,o);else if(wT(h,t,i,s,o))o.stopPropagation();else if(uv(t,o),i&4&&-1<AT.indexOf(t)){for(;h!==null;){var f=Qt(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=dn(f.pendingLanes);if(v!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var D=1<<31-Dt(v);b.entanglements[1]|=D,v&=~D}fr(f),(st&6)===0&&(Cc=an()+500,Hl(0))}}break;case 31:case 13:b=Ds(f,2),b!==null&&Yn(b,f,2),Nc(),$f(f,2)}if(f=Zf(o),f===null&&Pf(t,i,o,Qc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Pf(t,i,o,null,s)}}function Zf(t){return t=qn(t),Wf(t)}var Qc=null;function Wf(t){if(Qc=null,t=jn(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=d(i),t!==null)return t;t=null}else if(s===31){if(t=g(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function lv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jn()){case oa:return 2;case ms:return 8;case Qi:case Ki:return 32;case la:return 268435456;default:return 32}default:return 32}}var em=!1,Pa=null,Ua=null,La=null,$l=new Map,Jl=new Map,za=[],AT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uv(t,i){switch(t){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":$l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(i.pointerId)}}function Zl(t,i,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=Qt(i),i!==null&&sv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function wT(t,i,s,o,h){switch(i){case"focusin":return Pa=Zl(Pa,t,i,s,o,h),!0;case"dragenter":return Ua=Zl(Ua,t,i,s,o,h),!0;case"mouseover":return La=Zl(La,t,i,s,o,h),!0;case"pointerover":var f=h.pointerId;return $l.set(f,Zl($l.get(f)||null,t,i,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Jl.set(f,Zl(Jl.get(f)||null,t,i,s,o,h)),!0}return!1}function cv(t){var i=jn(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){t.blockedOn=i,on(t.priority,function(){ov(s)});return}}else if(i===31){if(i=g(s),i!==null){t.blockedOn=i,on(t.priority,function(){ov(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Zf(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);As=o,s.target.dispatchEvent(o),As=null}else return i=Qt(s),i!==null&&sv(i),t.blockedOn=s,!1;i.shift()}return!0}function hv(t,i,s){Kc(t)&&s.delete(i)}function xT(){em=!1,Pa!==null&&Kc(Pa)&&(Pa=null),Ua!==null&&Kc(Ua)&&(Ua=null),La!==null&&Kc(La)&&(La=null),$l.forEach(hv),Jl.forEach(hv)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,em||(em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,xT)))}var Xc=null;function dv(t){Xc!==t&&(Xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var s=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Wf(o||s)===null)continue;break}var f=Qt(s);f!==null&&(t.splice(i,3),i-=3,Jd(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Bo(t){function i(D){return Yc(D,t)}Pa!==null&&Yc(Pa,t),Ua!==null&&Yc(Ua,t),La!==null&&Yc(La,t),$l.forEach(i),Jl.forEach(i);for(var s=0;s<za.length;s++){var o=za[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<za.length&&(s=za[0],s.blockedOn===null);)cv(s),s.blockedOn===null&&za.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],v=h[zt]||null;if(typeof f=="function")v||dv(s);else if(v){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[zt]||null)b=v.formAction;else if(Wf(h)!==null)continue}else b=v.action;typeof b=="function"?s[o+1]=b:(s.splice(o,3),o-=3),dv(s)}}}function fv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function tm(t){this._internalRoot=t}$c.prototype.render=tm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,o=hi();rv(s,o,t,i,null,null)},$c.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;rv(t.current,2,null,t,null,null),Nc(),i[zn]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var i=sn();t={blockedOn:null,target:t,priority:i};for(var s=0;s<za.length&&i!==0&&i<za[s].priority;s++);za.splice(s,0,t),s===0&&cv(t)}};var mv=e.version;if(mv!=="19.2.3")throw Error(a(527,mv,"19.2.3"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(i),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var RT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{ot=Jc.inject(RT),Gt=Jc}catch{}}return eu.createRoot=function(t,i){if(!l(t))throw Error(a(299));var s=!1,o="",h=by,f=Ty,v=Sy;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=nv(t,1,!1,null,null,s,o,null,h,f,v,fv),t[zn]=i.current,kf(t),new tm(i)},eu.hydrateRoot=function(t,i,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=by,v=Ty,b=Sy,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),i=nv(t,1,!0,i,s??null,o,h,D,f,v,b,fv),i.context=iv(null),s=i.current,o=hi(),o=Ji(o),h=wa(o),h.callback=null,xa(s,h,o),s=o,i.current.lanes=s,ji(i,s),fr(i),t[zn]=i.current,kf(t),new $c(i)},eu.version="19.2.3",eu}var Av;function PT(){if(Av)return rm.exports;Av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=kT(),rm.exports}var UT=PT();/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g2=(...r)=>r.filter((e,n,a)=>!!e&&a.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ae.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...g},y)=>ae.createElement("svg",{ref:y,...zT,width:e,height:e,stroke:r,strokeWidth:a?Number(n)*24/Number(e):n,className:g2("lucide",l),...g},[...d.map(([_,A])=>ae.createElement(_,A)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=(r,e)=>{const n=ae.forwardRef(({className:a,...l},u)=>ae.createElement(BT,{ref:u,iconNode:e,className:g2(`lucide-${LT(r)}`,a),...l}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=ta("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ta("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ta("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=ta("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=ta("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=ta("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=ta("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=ta("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=ta("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),KT=()=>{};var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},YT=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],g=r[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],d=r[n++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},b2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,A=u>>2,x=(u&3)<<4|g>>4;let M=(g&15)<<2|_>>6,G=_&63;y||(G=64,d||(M=64)),a.push(n[A],n[x],n[M],n[G])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(E2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):YT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const x=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||_==null||x==null)throw new XT;const M=u<<2|g>>4;if(a.push(M),_!==64){const G=g<<4&240|_>>2;if(a.push(G),x!==64){const te=_<<6&192|x;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class XT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $T=function(r){const e=E2(r);return b2.encodeByteArray(e,!0)},yh=function(r){return $T(r).replace(/\./g,"")},T2=function(r){try{return b2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=()=>JT().__FIREBASE_DEFAULTS__,WT=()=>{if(typeof process>"u"||typeof wv>"u")return;const r=wv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},eS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&T2(r[1]);return e&&JSON.parse(e)},zh=()=>{try{return KT()||ZT()||WT()||eS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},S2=r=>{var e,n;return(n=(e=zh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},tS=r=>{const e=S2(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},A2=()=>{var r;return(r=zh())==null?void 0:r.config},w2=r=>{var e;return(e=zh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x2(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[yh(JSON.stringify(n)),yh(JSON.stringify(d)),""].join(".")}const cu={};function rS(){const r={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?r.emulator.push(e):r.prod.push(e);return r}function aS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let xv=!1;function R2(r,e){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||cu[r]===e||cu[r]||xv)return;cu[r]=e;function n(M){return`__firebase__banner__${M}`}const a="__firebase__banner",u=rS().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{xv=!0,d()},M}function A(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function x(){const M=aS(a),G=n("text"),te=document.getElementById(G)||document.createElement("span"),ne=n("learnmore"),ee=document.getElementById(ne)||document.createElement("a"),se=n("preprendIcon"),Te=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pe=M.element;g(pe),A(ee,ne);const Fe=_();y(Te,se),pe.append(Te,te,ee,Fe),document.body.appendChild(pe)}u?(te.innerText="Preview backend disconnected.",Te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function oS(){var e;const r=(e=zh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function cS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hS(){const r=On();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function dS(){return!oS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function mS(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="FirebaseError";class na extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=pS,Object.setPrototypeOf(this,na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wu.prototype.create)}}class wu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?gS(u,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new na(l,g,a)}}function gS(r,e){return r.replace(yS,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const yS=/\{\$([^}]+)}/g;function vS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Xs(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const u=r[l],d=e[l];if(Rv(u)&&Rv(d)){if(!Xs(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Rv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function iu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function ru(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function _S(r,e){const n=new ES(r,e);return n.subscribe.bind(n)}class ES{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");bS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=lm),l.error===void 0&&(l.error=lm),l.complete===void 0&&(l.complete=lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r){return r&&r._delegate?r._delegate:r}class $s{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new nS;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AS(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&d.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:SS(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SS(r){return r===Fs?void 0:r}function AS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ke||(Ke={}));const xS={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},RS=Ke.INFO,CS={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},IS=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=CS[e];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=RS,this._logHandler=IS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const NS=(r,e)=>e.some(n=>r instanceof n);let Cv,Iv;function DS(){return Cv||(Cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return Iv||(Iv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C2=new WeakMap,xm=new WeakMap,I2=new WeakMap,um=new WeakMap,ip=new WeakMap;function jS(r){const e=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n($a(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&C2.set(n,r)}).catch(()=>{}),ip.set(e,r),e}function MS(r){if(xm.has(r))return;const e=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});xm.set(r,e)}let Rm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return xm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||I2.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $a(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function VS(r){Rm=r(Rm)}function kS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(cm(this),e,...n);return I2.set(a,e.sort?e.sort():[e]),$a(a)}:OS().includes(r)?function(...e){return r.apply(cm(this),e),$a(C2.get(this))}:function(...e){return $a(r.apply(cm(this),e))}}function PS(r){return typeof r=="function"?kS(r):(r instanceof IDBTransaction&&MS(r),NS(r,DS())?new Proxy(r,Rm):r)}function $a(r){if(r instanceof IDBRequest)return jS(r);if(um.has(r))return um.get(r);const e=PS(r);return e!==r&&(um.set(r,e),ip.set(e,r)),e}const cm=r=>ip.get(r);function US(r,e,{blocked:n,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),g=$a(d);return a&&d.addEventListener("upgradeneeded",y=>{a($a(d.result),y.oldVersion,y.newVersion,$a(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const LS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],hm=new Map;function Nv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=zS.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||LS.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&y.done]))[0]};return hm.set(e,u),u}VS(r=>({...r,get:(e,n,a)=>Nv(e,n)||r.get(e,n,a),has:(e,n)=>!!Nv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qS(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function qS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",Dv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new np("@firebase/app"),HS="@firebase/app-compat",FS="@firebase/analytics-compat",GS="@firebase/analytics",QS="@firebase/app-check-compat",KS="@firebase/app-check",YS="@firebase/auth",XS="@firebase/auth-compat",$S="@firebase/database",JS="@firebase/data-connect",ZS="@firebase/database-compat",WS="@firebase/functions",eA="@firebase/functions-compat",tA="@firebase/installations",nA="@firebase/installations-compat",iA="@firebase/messaging",rA="@firebase/messaging-compat",aA="@firebase/performance",sA="@firebase/performance-compat",oA="@firebase/remote-config",lA="@firebase/remote-config-compat",uA="@firebase/storage",cA="@firebase/storage-compat",hA="@firebase/firestore",dA="@firebase/ai",fA="@firebase/firestore-compat",mA="firebase",pA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",gA={[Cm]:"fire-core",[HS]:"fire-core-compat",[GS]:"fire-analytics",[FS]:"fire-analytics-compat",[KS]:"fire-app-check",[QS]:"fire-app-check-compat",[YS]:"fire-auth",[XS]:"fire-auth-compat",[$S]:"fire-rtdb",[JS]:"fire-data-connect",[ZS]:"fire-rtdb-compat",[WS]:"fire-fn",[eA]:"fire-fn-compat",[tA]:"fire-iid",[nA]:"fire-iid-compat",[iA]:"fire-fcm",[rA]:"fire-fcm-compat",[aA]:"fire-perf",[sA]:"fire-perf-compat",[oA]:"fire-rc",[lA]:"fire-rc-compat",[uA]:"fire-gcs",[cA]:"fire-gcs-compat",[hA]:"fire-fst",[fA]:"fire-fst-compat",[dA]:"fire-vertex","fire-js":"fire-js",[mA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,yA=new Map,Nm=new Map;function Ov(r,e){try{r.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Wo(r){const e=r.name;if(Nm.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of vh.values())Ov(n,r);for(const n of yA.values())Ov(n,r);return!0}function rp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Ii(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ja=new wu("app","Firebase",vA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ja.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=pA;function N2(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:Im,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Ja.create("bad-app-name",{appName:String(l)});if(n||(n=A2()),!n)throw Ja.create("no-options");const u=vh.get(l);if(u){if(Xs(n,u.options)&&Xs(a,u.config))return u;throw Ja.create("duplicate-app",{appName:l})}const d=new wS(l);for(const y of Nm.values())d.addComponent(y);const g=new _A(n,a,d);return vh.set(l,g),g}function D2(r=Im){const e=vh.get(r);if(!e&&r===Im&&A2())return N2();if(!e)throw Ja.create("no-app",{appName:r});return e}function Za(r,e,n){let a=gA[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(d.join(" "));return}Wo(new $s(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="firebase-heartbeat-database",bA=1,gu="firebase-heartbeat-store";let dm=null;function O2(){return dm||(dm=US(EA,bA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ja.create("idb-open",{originalErrorMessage:r.message})})),dm}async function TA(r){try{const n=(await O2()).transaction(gu),a=await n.objectStore(gu).get(j2(r));return await n.done,a}catch(e){if(e instanceof na)Jr.warn(e.message);else{const n=Ja.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function jv(r,e){try{const a=(await O2()).transaction(gu,"readwrite");await a.objectStore(gu).put(e,j2(r)),await a.done}catch(n){if(n instanceof na)Jr.warn(n.message);else{const a=Ja.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(a.message)}}}function j2(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=1024,AA=30;class wA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RA(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Mv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>AA){const d=CA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Jr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mv(),{heartbeatsToSend:a,unsentEntries:l}=xA(this._heartbeatsCache.heartbeats),u=yh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Jr.warn(n),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function xA(r,e=SA){const n=[];let a=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Vv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Vv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class RA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?mS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return jv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Vv(r){return yh(JSON.stringify({version:2,heartbeats:r})).length}function CA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){Wo(new $s("platform-logger",e=>new BS(e),"PRIVATE")),Wo(new $s("heartbeat",e=>new wA(e),"PRIVATE")),Za(Cm,Dv,r),Za(Cm,Dv,"esm2020"),Za("fire-js","")}IA("");var NA="firebase",DA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Za(NA,DA,"app");function M2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OA=M2,V2=new wu("auth","Firebase",M2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new np("@firebase/auth");function jA(r,...e){_h.logLevel<=Ke.WARN&&_h.warn(`Auth (${ll}): ${r}`,...e)}function oh(r,...e){_h.logLevel<=Ke.ERROR&&_h.error(`Auth (${ll}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(r,...e){throw ap(r,...e)}function pr(r,...e){return ap(r,...e)}function k2(r,e,n){const a={...OA(),[e]:n};return new wu("auth","Firebase",a).create(e,{appName:r.name})}function $r(r){return k2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ap(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return V2.create(r,...e)}function xe(r,e,...n){if(!r)throw ap(e,...n)}function Yr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function Zr(r,e){r||Yr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function MA(){return kv()==="http:"||kv()==="https:"}function kv(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MA()||uS()||"connection"in navigator)?navigator.onLine:!0}function kA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=sS()||cS()}get(){return VA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,e){Zr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LA=new Ru(3e4,6e4);function ia(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Tr(r,e,n,a,l={}){return U2(r,l,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const g=xu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...u};return lS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&ol(r.emulatorConfig.host)&&(_.credentials="include"),P2.fetch()(await L2(r,r.config.apiHost,n,g),_)})}async function U2(r,e,n){r._canInitEmulator=!1;const a={...PA,...e};try{const l=new BA(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Zc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Zc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw k2(r,A,_);Fi(r,A)}}catch(l){if(l instanceof na)throw l;Fi(r,"network-request-failed",{message:String(l)})}}async function Cu(r,e,n,a,l={}){const u=await Tr(r,e,n,a,l);return"mfaPendingCredential"in u&&Fi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function L2(r,e,n,a){const l=`${e}${n}?${a}`,u=r,d=u.config.emulator?sp(r.config,l):`${r.config.apiScheme}://${l}`;return UA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function zA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(pr(this.auth,"network-request-failed")),LA.get())})}}function Zc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=pr(r,e,a);return l.customData._tokenResponse=n,l}function Pv(r){return r!==void 0&&r.enterprise!==void 0}class qA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HA(r,e){return Tr(r,"GET","/v2/recaptchaConfig",ia(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(r,e){return Tr(r,"POST","/v1/accounts:delete",e)}async function Eh(r,e){return Tr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GA(r,e=!1){const n=It(r),a=await n.getIdToken(e),l=op(a);xe(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:hu(fm(l.auth_time)),issuedAtTime:hu(fm(l.iat)),expirationTime:hu(fm(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function fm(r){return Number(r)*1e3}function op(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const l=T2(n);return l?JSON.parse(l):(oh("Failed to decode base64 JWT payload"),null)}catch(l){return oh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Uv(r){const e=op(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof na&&QA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function QA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(r){var x;const e=r.auth,n=await r.getIdToken(),a=await el(r,Eh(e,{idToken:n}));xe(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const u=(x=l.providerUserInfo)!=null&&x.length?B2(l.providerUserInfo):[],d=YA(r.providerData,u),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),_=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Om(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function z2(r){const e=It(r);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function YA(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function B2(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(r,e){const n=await U2(r,{},async()=>{const a=xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await L2(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&ol(r.emulatorConfig.host)&&(y.credentials="include"),P2.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $A(r,e){return Tr(r,"POST","/v2/accounts:revokeToken",ia(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=Uv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:u}=await XA(e,n);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:u}=n,d=new Ko;return a&&(xe(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(xe(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(xe(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ko,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bi{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new KA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Om(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await el(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GA(this,e)}reload(){return z2(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ii(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await el(this,FA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,A=n.lastLoginAt??void 0,{uid:x,emailVerified:M,isAnonymous:G,providerData:te,stsTokenManager:ne}=n;xe(x&&ne,e,"internal-error");const ee=Ko.fromJSON(this.name,ne);xe(typeof x=="string",e,"internal-error"),qa(a,e.name),qa(l,e.name),xe(typeof M=="boolean",e,"internal-error"),xe(typeof G=="boolean",e,"internal-error"),qa(u,e.name),qa(d,e.name),qa(g,e.name),qa(y,e.name),qa(_,e.name),qa(A,e.name);const se=new Bi({uid:x,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:ee,createdAt:_,lastLoginAt:A});return te&&Array.isArray(te)&&(se.providerData=te.map(Te=>({...Te}))),y&&(se._redirectEventId=y),se}static async _fromIdTokenResponse(e,n,a=!1){const l=new Ko;l.updateFromServerResponse(n);const u=new Bi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await bh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];xe(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?B2(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Ko;g.updateFromIdToken(a);const y=new Bi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Om(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;function Xr(r){Zr(r instanceof Function,"Expected a class definition");let e=Lv.get(r);return e?(Zr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Lv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}q2.type="NONE";const zv=q2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(r,e,n){return`firebase:${r}:${e}:${n}`}class Yo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=lh(this.userKey,l.apiKey,u),this.fullPersistenceKey=lh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?Bi._fromGetAccountInfoResponse(this.auth,n,e):null}return Bi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Yo(Xr(zv),e,a);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||Xr(zv);const d=lh(a,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const A=await _._get(d);if(A){let x;if(typeof A=="string"){const M=await Eh(e,{idToken:A}).catch(()=>{});if(!M)break;x=await Bi._fromGetAccountInfoResponse(e,M,A)}else x=Bi._fromJSON(e,A);_!==u&&(g=x),u=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Yo(u,e,a):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Yo(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Q2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(H2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y2(e))return"Blackberry";if(X2(e))return"Webos";if(F2(e))return"Safari";if((e.includes("chrome/")||G2(e))&&!e.includes("edge/"))return"Chrome";if(K2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function H2(r=On()){return/firefox\//i.test(r)}function F2(r=On()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G2(r=On()){return/crios\//i.test(r)}function Q2(r=On()){return/iemobile/i.test(r)}function K2(r=On()){return/android/i.test(r)}function Y2(r=On()){return/blackberry/i.test(r)}function X2(r=On()){return/webos/i.test(r)}function lp(r=On()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function JA(r=On()){var e;return lp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function ZA(){return hS()&&document.documentMode===10}function $2(r=On()){return lp(r)||K2(r)||X2(r)||Y2(r)||/windows phone/i.test(r)||Q2(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(r,e=[]){let n;switch(r){case"Browser":n=Bv(On());break;case"Worker":n=`${Bv(On())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ll}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(r,e={}){return Tr(r,"GET","/v2/passwordPolicy",ia(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=6;class nw{constructor(e){var a;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??tw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qv(this),this.idTokenSubscription=new qv(this),this.beforeStateQueue=new WA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=V2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var a,l,u;if(!this._deleted&&(this.persistenceManager=await Yo.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),a=await Bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Ii(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=a==null?void 0:a._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===g)&&(y!=null&&y.user)&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ii(this.app))return Promise.reject($r(this));const n=e?It(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ii(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ii(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ew(this),n=new nw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await $A(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await Yo.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=J2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var n;if(Ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&jA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function cs(r){return It(r)}class qv{constructor(e){this.auth=e,this.observer=null,this.addObserver=_S(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rw(r){Bh=r}function Z2(r){return Bh.loadJS(r)}function aw(){return Bh.recaptchaEnterpriseScript}function sw(){return Bh.gapiScript}function ow(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class lw{constructor(){this.enterprise=new uw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cw="recaptcha-enterprise",W2="NO_RECAPTCHA";class hw{constructor(e){this.type=cw,this.auth=cs(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{HA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new qA(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;Pv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(W2)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(g=>{if(!n&&Pv(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=aw();y.length!==0&&(y+=g),Z2(y).then(()=>{l(g,u,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function Hv(r,e,n,a=!1,l=!1){const u=new hw(r);let d;if(l)d=W2;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Th(r,e,n,a,l){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Hv(r,e,n,n==="getOobCode");return a(r,d)}else return a(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Hv(r,e,n,n==="getOobCode");return a(r,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(r,e){const n=rp(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Xs(u,e??{}))return l;Fi(l,"already-initialized")}return n.initialize({options:e})}function fw(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function mw(r,e,n){const a=cs(r);xe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=e1(e),{host:d,port:g}=pw(e),y=g===null?"":`:${g}`,_={url:`${u}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){xe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xe(Xs(_,a.config.emulator)&&Xs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,ol(d)?(x2(`${u}//${d}${y}`),R2("Auth",!0)):gw()}function e1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pw(r){const e=e1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:Fv(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:Fv(d)}}}function Fv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function gw(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yr("not implemented")}_getIdTokenResponse(e){return Yr("not implemented")}_linkToIdToken(e,n){return Yr("not implemented")}_getReauthenticationResolver(e){return Yr("not implemented")}}async function yw(r,e){return Tr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(r,e){return Cu(r,"POST","/v1/accounts:signInWithPassword",ia(r,e))}async function t1(r,e){return Tr(r,"POST","/v1/accounts:sendOobCode",ia(r,e))}async function _w(r,e){return t1(r,e)}async function Ew(r,e){return t1(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,e))}async function Tw(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",ia(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends up{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new yu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new yu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,n,"signInWithPassword",vw);case"emailLink":return bw(e,{email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,a,"signUpPassword",yw);case"emailLink":return Tw(e,{idToken:n,email:this._email,oobCode:this._password});default:Fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(r,e){return Cu(r,"POST","/v1/accounts:signInWithIdp",ia(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="http://localhost";class Js extends up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...u}=n;if(!a||!l)return null;const d=new Js(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Xo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Xo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xo(e,n)}buildRequest(){const e={requestUri:Sw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ww(r){const e=iu(ru(r)).link,n=e?iu(ru(e)).deep_link_id:null,a=iu(ru(r)).deep_link_id;return(a?iu(ru(a)).link:null)||a||n||e||r}class cp{constructor(e){const n=iu(ru(e)),a=n.apiKey??null,l=n.oobCode??null,u=Aw(n.mode??null);xe(a&&l&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=ww(e);try{return new cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.providerId=is.PROVIDER_ID}static credential(e,n){return yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=cp.parseLink(n);return xe(a,"argument-error"),yu._fromEmailAndCode(e,a.code,a.tenantId)}}is.PROVIDER_ID="password";is.EMAIL_PASSWORD_SIGN_IN_METHOD="password";is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends n1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Iu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ga.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Qa.credential(n,a)}catch{return null}}}Qa.GOOGLE_SIGN_IN_METHOD="google.com";Qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Iu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ka.credential(e.oauthAccessToken)}catch{return null}}}Ka.GITHUB_SIGN_IN_METHOD="github.com";Ka.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Iu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ya.credential(n,a)}catch{return null}}}Ya.TWITTER_SIGN_IN_METHOD="twitter.com";Ya.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(r,e){return Cu(r,"POST","/v1/accounts:signUp",ia(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const u=await Bi._fromIdTokenResponse(e,a,l),d=Gv(a);return new Zs({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=Gv(a);return new Zs({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function Gv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends na{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Sh(e,n,a,l)}}function i1(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(r,u,e,a):u})}async function Rw(r,e,n=!1){const a=await el(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Zs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(r,e,n=!1){const{auth:a}=r;if(Ii(a.app))return Promise.reject($r(a));const l="reauthenticate";try{const u=await el(r,i1(a,l,e,r),n);xe(u.idToken,a,"internal-error");const d=op(u.idToken);xe(d,a,"internal-error");const{sub:g}=d;return xe(r.uid===g,a,"user-mismatch"),Zs._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Fi(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a1(r,e,n=!1){if(Ii(r.app))return Promise.reject($r(r));const a="signIn",l=await i1(r,a,e),u=await Zs._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(u.user),u}async function Cw(r,e){return a1(cs(r),e)}async function Qv(r,e){return r1(It(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(r){const e=cs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mm(r,e,n){const a=cs(r);await Th(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Ew)}async function Iw(r,e,n){if(Ii(r.app))return Promise.reject($r(r));const a=cs(r),d=await Th(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xw).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&s1(r),y}),g=await Zs._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function Nw(r,e,n){return Ii(r.app)?Promise.reject($r(r)):Cw(It(r),is.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&s1(r),a})}async function Kv(r,e){const n=It(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await _w(n.auth,l);u!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(r,e){return Tr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yv(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=It(r),u={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await el(a,Dw(a.auth,u));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const g=a.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=a.displayName,g.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(r,e){return It(r).setPersistence(e)}function Ow(r,e,n,a){return It(r).onIdTokenChanged(e,n,a)}function jw(r,e,n){return It(r).beforeAuthStateChanged(e,n)}function Mw(r,e,n,a){return It(r).onAuthStateChanged(e,n,a)}function Wc(r){return It(r).signOut()}async function Vw(r){return It(r).delete()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=1e3,Pw=10;class l1 extends o1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);ZA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Pw):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}l1.type="LOCAL";const jm=l1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1 extends o1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}u1.type="SESSION";const wh=u1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new qh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,u)),y=await Uw(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const _=hp("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(x){const M=x;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(M.data.response);break;default:clearTimeout(A),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function zw(r){gr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function Bw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Hw(){return c1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebaseLocalStorageDb",Fw=1,xh="firebaseLocalStorage",d1="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function Gw(){const r=indexedDB.deleteDatabase(h1);return new Nu(r).toPromise()}function Mm(){const r=indexedDB.open(h1,Fw);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(xh,{keyPath:d1})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(xh)?e(a):(a.close(),await Gw(),e(await Mm()))})})}async function $v(r,e,n){const a=Hh(r,!0).put({[d1]:e,value:n});return new Nu(a).toPromise()}async function Qw(r,e){const n=Hh(r,!1).get(e),a=await new Nu(n).toPromise();return a===void 0?null:a.value}function Jv(r,e){const n=Hh(r,!0).delete(e);return new Nu(n).toPromise()}const Kw=800,Yw=3;class f1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>Yw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(Hw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await Bw(),!this.activeServiceWorker)return;this.sender=new Lw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await $v(e,Ah,"1"),await Jv(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>$v(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Qw(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Hh(l,!1).getAll();return new Nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f1.type="LOCAL";const Xw=f1;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r,e){return e?Xr(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Jw(r){return a1(r.auth,new dp(r),r.bypassAuthState)}function Zw(r){const{auth:e,user:n}=r;return xe(n,e,"internal-error"),r1(n,new dp(r),r.bypassAuthState)}async function Ww(r){const{auth:e,user:n}=r;return xe(n,e,"internal-error"),Rw(n,new dp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jw;case"linkViaPopup":case"linkViaRedirect":return Ww;case"reauthViaPopup":case"reauthViaRedirect":return Zw;default:Fi(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=new Ru(2e3,1e4);class Qo extends m1{constructor(e,n,a,l,u){super(e,n,l,u),this.provider=a,this.authWindow=null,this.pollId=null,Qo.currentPopupAction&&Qo.currentPopupAction.cancel(),Qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ex.get())};e()}}Qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="pendingRedirect",uh=new Map;class nx extends m1{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const a=await ix(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ix(r,e){const n=sx(e),a=ax(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function rx(r,e){uh.set(r._key(),e)}function ax(r){return Xr(r._redirectPersistence)}function sx(r){return lh(tx,r.config.apiKey,r.name)}async function ox(r,e,n=!1){if(Ii(r.app))return Promise.reject($r(r));const a=cs(r),l=$w(a,e),d=await new nx(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=600*1e3;class ux{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!p1(e)){const l=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(e))}saveEventToCache(e){this.cachedEventUids.add(Zv(e)),this.lastProcessedEventTime=Date.now()}}function Zv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function p1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hx(r,e={}){return Tr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fx=/^https?/;async function mx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await hx(r);for(const n of e)try{if(px(n))return}catch{}Fi(r,"unauthorized-domain")}function px(r){const e=Dm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!fx.test(n))return!1;if(dx.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new Ru(3e4,6e4);function Wv(){const r=gr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function yx(r){return new Promise((e,n)=>{var l,u,d;function a(){Wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Wv(),n(pr(r,"network-request-failed"))},timeout:gx.get()})}if((u=(l=gr().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((d=gr().gapi)!=null&&d.load)a();else{const g=ow("iframefcb");return gr()[g]=()=>{gapi.load?a():n(pr(r,"network-request-failed"))},Z2(`${sw()}?onload=${g}`).catch(y=>n(y))}}).catch(e=>{throw ch=null,e})}let ch=null;function vx(r){return ch=ch||yx(r),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=new Ru(5e3,15e3),Ex="__/auth/iframe",bx="emulator/auth/iframe",Tx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ax(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?sp(e,bx):`https://${r.config.authDomain}/${Ex}`,a={apiKey:e.apiKey,appName:r.name,v:ll},l=Sx.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${xu(a).slice(1)}`}async function wx(r){const e=await vx(r),n=gr().gapi;return xe(n,r,"internal-error"),e.open({where:document.body,url:Ax(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Tx,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=pr(r,"network-request-failed"),g=gr().setTimeout(()=>{u(d)},_x.get());function y(){gr().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Rx=500,Cx=600,Ix="_blank",Nx="http://localhost";class e_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Dx(r,e,n,a=Rx,l=Cx){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...xx,width:a.toString(),height:l.toString(),top:u,left:d},_=On().toLowerCase();n&&(g=G2(_)?Ix:n),H2(_)&&(e=e||Nx,y.scrollbars="yes");const A=Object.entries(y).reduce((M,[G,te])=>`${M}${G}=${te},`,"");if(JA(_)&&g!=="_self")return Ox(e||"",g),new e_(null);const x=window.open(e||"",g,A);xe(x,r,"popup-blocked");try{x.focus()}catch{}return new e_(x)}function Ox(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="__/auth/handler",Mx="emulator/auth/handler",Vx=encodeURIComponent("fac");async function t_(r,e,n,a,l,u){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:ll,eventId:l};if(e instanceof n1){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",vS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,x]of Object.entries({}))d[A]=x}if(e instanceof Iu){const A=e.getScopes().filter(x=>x!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await r._getAppCheckToken(),_=y?`#${Vx}=${encodeURIComponent(y)}`:"";return`${kx(r)}?${xu(g).slice(1)}${_}`}function kx({config:r}){return r.emulator?sp(r,Mx):`https://${r.authDomain}/${jx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class Px{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wh,this._completeRedirectFn=ox,this._overrideRedirectResult=rx}async _openPopup(e,n,a,l){var d;Zr((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await t_(e,n,a,Dm(),l);return Dx(e,u,hp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const u=await t_(e,n,a,Dm(),l);return zw(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Zr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await wx(e),a=new ux(e);return n.register("authEvent",l=>(xe(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pm,{type:pm},l=>{var d;const u=(d=l==null?void 0:l[0])==null?void 0:d[pm];u!==void 0&&n(!!u),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $2()||F2()||lp()}}const Ux=Px;var n_="@firebase/auth",i_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bx(r){Wo(new $s("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;xe(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:J2(r)},_=new iw(a,l,u,y);return fw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Wo(new $s("auth-internal",e=>{const n=cs(e.getProvider("auth").getImmediate());return(a=>new Lx(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Za(n_,i_,zx(r)),Za(n_,i_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=300,Hx=w2("authIdTokenMaxAge")||qx;let r_=null;const Fx=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Hx)return;const l=n==null?void 0:n.token;r_!==l&&(r_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Gx(r=D2()){const e=rp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=dw(r,{popupRedirectResolver:Ux,persistence:[Xw,jm,wh]}),a=w2("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=Fx(u.toString());jw(n,d,()=>d(n.currentUser)),Ow(n,g=>d(g))}}const l=S2("auth");return l&&mw(n,`http://${l}`),n}function Qx(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}rw({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const u=pr("internal-error");u.customData=l,n(u)},a.type="text/javascript",a.charset="UTF-8",Qx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bx("Browser");var a_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,g1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function N(){}N.prototype=R.prototype,I.F=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(P,j,S){for(var C=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)C[ze-2]=arguments[ze];return R.prototype[j].apply(P,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,R,N){N||(N=0);const P=Array(16);if(typeof R=="string")for(var j=0;j<16;++j)P[j]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(j=0;j<16;++j)P[j]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],j=I.g[2];let S=I.g[3],C;C=R+(S^N&(j^S))+P[0]+3614090360&4294967295,R=N+(C<<7&4294967295|C>>>25),C=S+(j^R&(N^j))+P[1]+3905402710&4294967295,S=R+(C<<12&4294967295|C>>>20),C=j+(N^S&(R^N))+P[2]+606105819&4294967295,j=S+(C<<17&4294967295|C>>>15),C=N+(R^j&(S^R))+P[3]+3250441966&4294967295,N=j+(C<<22&4294967295|C>>>10),C=R+(S^N&(j^S))+P[4]+4118548399&4294967295,R=N+(C<<7&4294967295|C>>>25),C=S+(j^R&(N^j))+P[5]+1200080426&4294967295,S=R+(C<<12&4294967295|C>>>20),C=j+(N^S&(R^N))+P[6]+2821735955&4294967295,j=S+(C<<17&4294967295|C>>>15),C=N+(R^j&(S^R))+P[7]+4249261313&4294967295,N=j+(C<<22&4294967295|C>>>10),C=R+(S^N&(j^S))+P[8]+1770035416&4294967295,R=N+(C<<7&4294967295|C>>>25),C=S+(j^R&(N^j))+P[9]+2336552879&4294967295,S=R+(C<<12&4294967295|C>>>20),C=j+(N^S&(R^N))+P[10]+4294925233&4294967295,j=S+(C<<17&4294967295|C>>>15),C=N+(R^j&(S^R))+P[11]+2304563134&4294967295,N=j+(C<<22&4294967295|C>>>10),C=R+(S^N&(j^S))+P[12]+1804603682&4294967295,R=N+(C<<7&4294967295|C>>>25),C=S+(j^R&(N^j))+P[13]+4254626195&4294967295,S=R+(C<<12&4294967295|C>>>20),C=j+(N^S&(R^N))+P[14]+2792965006&4294967295,j=S+(C<<17&4294967295|C>>>15),C=N+(R^j&(S^R))+P[15]+1236535329&4294967295,N=j+(C<<22&4294967295|C>>>10),C=R+(j^S&(N^j))+P[1]+4129170786&4294967295,R=N+(C<<5&4294967295|C>>>27),C=S+(N^j&(R^N))+P[6]+3225465664&4294967295,S=R+(C<<9&4294967295|C>>>23),C=j+(R^N&(S^R))+P[11]+643717713&4294967295,j=S+(C<<14&4294967295|C>>>18),C=N+(S^R&(j^S))+P[0]+3921069994&4294967295,N=j+(C<<20&4294967295|C>>>12),C=R+(j^S&(N^j))+P[5]+3593408605&4294967295,R=N+(C<<5&4294967295|C>>>27),C=S+(N^j&(R^N))+P[10]+38016083&4294967295,S=R+(C<<9&4294967295|C>>>23),C=j+(R^N&(S^R))+P[15]+3634488961&4294967295,j=S+(C<<14&4294967295|C>>>18),C=N+(S^R&(j^S))+P[4]+3889429448&4294967295,N=j+(C<<20&4294967295|C>>>12),C=R+(j^S&(N^j))+P[9]+568446438&4294967295,R=N+(C<<5&4294967295|C>>>27),C=S+(N^j&(R^N))+P[14]+3275163606&4294967295,S=R+(C<<9&4294967295|C>>>23),C=j+(R^N&(S^R))+P[3]+4107603335&4294967295,j=S+(C<<14&4294967295|C>>>18),C=N+(S^R&(j^S))+P[8]+1163531501&4294967295,N=j+(C<<20&4294967295|C>>>12),C=R+(j^S&(N^j))+P[13]+2850285829&4294967295,R=N+(C<<5&4294967295|C>>>27),C=S+(N^j&(R^N))+P[2]+4243563512&4294967295,S=R+(C<<9&4294967295|C>>>23),C=j+(R^N&(S^R))+P[7]+1735328473&4294967295,j=S+(C<<14&4294967295|C>>>18),C=N+(S^R&(j^S))+P[12]+2368359562&4294967295,N=j+(C<<20&4294967295|C>>>12),C=R+(N^j^S)+P[5]+4294588738&4294967295,R=N+(C<<4&4294967295|C>>>28),C=S+(R^N^j)+P[8]+2272392833&4294967295,S=R+(C<<11&4294967295|C>>>21),C=j+(S^R^N)+P[11]+1839030562&4294967295,j=S+(C<<16&4294967295|C>>>16),C=N+(j^S^R)+P[14]+4259657740&4294967295,N=j+(C<<23&4294967295|C>>>9),C=R+(N^j^S)+P[1]+2763975236&4294967295,R=N+(C<<4&4294967295|C>>>28),C=S+(R^N^j)+P[4]+1272893353&4294967295,S=R+(C<<11&4294967295|C>>>21),C=j+(S^R^N)+P[7]+4139469664&4294967295,j=S+(C<<16&4294967295|C>>>16),C=N+(j^S^R)+P[10]+3200236656&4294967295,N=j+(C<<23&4294967295|C>>>9),C=R+(N^j^S)+P[13]+681279174&4294967295,R=N+(C<<4&4294967295|C>>>28),C=S+(R^N^j)+P[0]+3936430074&4294967295,S=R+(C<<11&4294967295|C>>>21),C=j+(S^R^N)+P[3]+3572445317&4294967295,j=S+(C<<16&4294967295|C>>>16),C=N+(j^S^R)+P[6]+76029189&4294967295,N=j+(C<<23&4294967295|C>>>9),C=R+(N^j^S)+P[9]+3654602809&4294967295,R=N+(C<<4&4294967295|C>>>28),C=S+(R^N^j)+P[12]+3873151461&4294967295,S=R+(C<<11&4294967295|C>>>21),C=j+(S^R^N)+P[15]+530742520&4294967295,j=S+(C<<16&4294967295|C>>>16),C=N+(j^S^R)+P[2]+3299628645&4294967295,N=j+(C<<23&4294967295|C>>>9),C=R+(j^(N|~S))+P[0]+4096336452&4294967295,R=N+(C<<6&4294967295|C>>>26),C=S+(N^(R|~j))+P[7]+1126891415&4294967295,S=R+(C<<10&4294967295|C>>>22),C=j+(R^(S|~N))+P[14]+2878612391&4294967295,j=S+(C<<15&4294967295|C>>>17),C=N+(S^(j|~R))+P[5]+4237533241&4294967295,N=j+(C<<21&4294967295|C>>>11),C=R+(j^(N|~S))+P[12]+1700485571&4294967295,R=N+(C<<6&4294967295|C>>>26),C=S+(N^(R|~j))+P[3]+2399980690&4294967295,S=R+(C<<10&4294967295|C>>>22),C=j+(R^(S|~N))+P[10]+4293915773&4294967295,j=S+(C<<15&4294967295|C>>>17),C=N+(S^(j|~R))+P[1]+2240044497&4294967295,N=j+(C<<21&4294967295|C>>>11),C=R+(j^(N|~S))+P[8]+1873313359&4294967295,R=N+(C<<6&4294967295|C>>>26),C=S+(N^(R|~j))+P[15]+4264355552&4294967295,S=R+(C<<10&4294967295|C>>>22),C=j+(R^(S|~N))+P[6]+2734768916&4294967295,j=S+(C<<15&4294967295|C>>>17),C=N+(S^(j|~R))+P[13]+1309151649&4294967295,N=j+(C<<21&4294967295|C>>>11),C=R+(j^(N|~S))+P[4]+4149444226&4294967295,R=N+(C<<6&4294967295|C>>>26),C=S+(N^(R|~j))+P[11]+3174756917&4294967295,S=R+(C<<10&4294967295|C>>>22),C=j+(R^(S|~N))+P[2]+718787259&4294967295,j=S+(C<<15&4294967295|C>>>17),C=N+(S^(j|~R))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+S&4294967295}a.prototype.v=function(I,R){R===void 0&&(R=I.length);const N=R-this.blockSize,P=this.C;let j=this.h,S=0;for(;S<R;){if(j==0)for(;S<=N;)l(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<R;)if(P[j++]=I.charCodeAt(S++),j==this.blockSize){l(this,P),j=0;break}}else for(;S<R;)if(P[j++]=I[S++],j==this.blockSize){l(this,P),j=0;break}}this.h=j,this.o+=R},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)I[R++]=this.g[N]>>>P&255;return I};function u(I,R){var N=g;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function d(I,R){this.h=R;const N=[];let P=!0;for(let j=I.length-1;j>=0;j--){const S=I[j]|0;P&&S==R||(N[j]=S,P=!1)}this.g=N}var g={};function y(I){return-128<=I&&I<128?u(I,function(R){return new d([R|0],R<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return ee(_(-I));const R=[];let N=1;for(let P=0;I>=N;P++)R[P]=I/N|0,N*=4294967296;return new d(R,0)}function A(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return ee(A(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(R,8));let P=x;for(let S=0;S<I.length;S+=8){var j=Math.min(8,I.length-S);const C=parseInt(I.substring(S,S+j),R);j<8?(j=_(Math.pow(R,j)),P=P.j(j).add(_(C))):(P=P.j(N),P=P.add(_(C)))}return P}var x=y(0),M=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(ne(this))return-ee(this).m();let I=0,R=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);I+=(P>=0?P:4294967296+P)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(te(this))return"0";if(ne(this))return"-"+ee(this).toString(I);const R=_(Math.pow(I,6));var N=this;let P="";for(;;){const j=Fe(N,R).g;N=se(N,j.j(R));let S=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=j,te(N))return S+P;for(;S.length<6;)S="0"+S;P=S+P}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function te(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function ne(I){return I.h==-1}r.l=function(I){return I=se(this,I),ne(I)?-1:te(I)?0:1};function ee(I){const R=I.g.length,N=[];for(let P=0;P<R;P++)N[P]=~I.g[P];return new d(N,~I.h).add(M)}r.abs=function(){return ne(this)?ee(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),N=[];let P=0;for(let j=0;j<=R;j++){let S=P+(this.i(j)&65535)+(I.i(j)&65535),C=(S>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);P=C>>>16,S&=65535,C&=65535,N[j]=C<<16|S}return new d(N,N[N.length-1]&-2147483648?-1:0)};function se(I,R){return I.add(ee(R))}r.j=function(I){if(te(this)||te(I))return x;if(ne(this))return ne(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(ne(I))return ee(this.j(ee(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const R=this.g.length+I.g.length,N=[];for(var P=0;P<2*R;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let j=0;j<I.g.length;j++){const S=this.i(P)>>>16,C=this.i(P)&65535,ze=I.i(j)>>>16,vt=I.i(j)&65535;N[2*P+2*j]+=C*vt,Te(N,2*P+2*j),N[2*P+2*j+1]+=S*vt,Te(N,2*P+2*j+1),N[2*P+2*j+1]+=C*ze,Te(N,2*P+2*j+1),N[2*P+2*j+2]+=S*ze,Te(N,2*P+2*j+2)}for(I=0;I<R;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=R;I<2*R;I++)N[I]=0;return new d(N,0)};function Te(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function pe(I,R){this.g=I,this.h=R}function Fe(I,R){if(te(R))throw Error("division by zero");if(te(I))return new pe(x,x);if(ne(I))return R=Fe(ee(I),R),new pe(ee(R.g),ee(R.h));if(ne(R))return R=Fe(I,ee(R)),new pe(ee(R.g),R.h);if(I.g.length>30){if(ne(I)||ne(R))throw Error("slowDivide_ only works with positive integers.");for(var N=M,P=R;P.l(I)<=0;)N=we(N),P=we(P);var j=Le(N,1),S=Le(P,1);for(P=Le(P,2),N=Le(N,2);!te(P);){var C=S.add(P);C.l(I)<=0&&(j=j.add(N),S=C),P=Le(P,1),N=Le(N,1)}return R=se(I,j.j(R)),new pe(j,R)}for(j=x;I.l(R)>=0;){for(N=Math.max(1,Math.floor(I.m()/R.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),S=_(N),C=S.j(R);ne(C)||C.l(I)>0;)N-=P,S=_(N),C=S.j(R);te(S)&&(S=M),j=j.add(S),I=se(I,C)}return new pe(j,I)}r.B=function(I){return Fe(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<R;P++)N[P]=this.i(P)&I.i(P);return new d(N,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<R;P++)N[P]=this.i(P)|I.i(P);return new d(N,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<R;P++)N[P]=this.i(P)^I.i(P);return new d(N,this.h^I.h)};function we(I){const R=I.g.length+1,N=[];for(let P=0;P<R;P++)N[P]=I.i(P)<<1|I.i(P-1)>>>31;return new d(N,I.h)}function Le(I,R){const N=R>>5;R%=32;const P=I.g.length-N,j=[];for(let S=0;S<P;S++)j[S]=R>0?I.i(S+N)>>>R|I.i(S+N+1)<<32-R:I.i(S+N);return new d(j,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,g1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Wa=d}).apply(typeof a_<"u"?a_:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y1,au,v1,hh,Vm,_1,E1,b1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var p=0;p<c.length;++p){var E=c[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function l(c,p){if(p)e:{var E=a;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in E))break e;E=E[L]}c=c[c.length-1],w=E[c],p=p(w),p!=w&&p!=null&&e(E,c,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(p){var E=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&E.push([w,p[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,E){return c.call.apply(c.bind,arguments)}function _(c,p,E){return _=y,_.apply(null,arguments)}function A(c,p){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function x(c,p){function E(){}E.prototype=p.prototype,c.Z=p.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,L,H){for(var ie=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ie[ke-2]=arguments[ke];return p.prototype[L].apply(w,ie)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function G(c){const p=c.length;if(p>0){const E=Array(p);for(let w=0;w<p;w++)E[w]=c[w];return E}return[]}function te(c,p){for(let w=1;w<arguments.length;w++){const L=arguments[w];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=c.length||0;const H=L.length||0;c.length=E+H;for(let ie=0;ie<H;ie++)c[E+ie]=L[ie]}else c.push(L)}}class ne{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(c){d.setTimeout(()=>{throw c},0)}function se(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Te{constructor(){this.h=this.g=null}add(p,E){const w=pe.get();w.set(p,E),this.h?this.h.next=w:this.g=w,this.h=w}}var pe=new ne(()=>new Fe,c=>c.reset());class Fe{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let we,Le=!1,I=new Te,R=()=>{const c=Promise.resolve(void 0);we=()=>{c.then(N)}};function N(){for(var c;c=se();){try{c.h.call(c.g)}catch(E){ee(E)}var p=pe;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Le=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var S=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,p),d.removeEventListener("test",E,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function ze(c,p){j.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}x(ze,j),ze.prototype.init=function(c,p){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(E=="mouseover"?p=c.fromElement:E=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function oe(c,p,E,w,L){this.listener=c,this.proxy=null,this.src=p,this.type=E,this.capture=!!w,this.ha=L,this.key=++Q,this.da=this.fa=!1}function _e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,p,E){for(const w in c)p.call(E,c[w],w,c)}function We(c,p){for(const E in c)p.call(void 0,c[E],E,c)}function k(c){const p={};for(const E in c)p[E]=c[E];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,p){let E,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(E in w)c[E]=w[E];for(let H=0;H<Y.length;H++)E=Y[H],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,p,E,w,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ie=Ne(c,p,w,L);return ie>-1?(p=c[ie],E||(p.fa=!1)):(p=new oe(p,this.src,H,!!w,L),p.fa=E,c.push(p)),p};function Se(c,p){const E=p.type;if(E in c.g){var w=c.g[E],L=Array.prototype.indexOf.call(w,p,void 0),H;(H=L>=0)&&Array.prototype.splice.call(w,L,1),H&&(_e(p),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Ne(c,p,E,w){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==p&&H.capture==!!E&&H.ha==w)return L}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),At={};function pt(c,p,E,w,L){if(Array.isArray(p)){for(let H=0;H<p.length;H++)pt(c,p[H],E,w,L);return null}return E=sa(E),c&&c[vt]?c.J(p,E,g(w)?!!w.capture:!1,L):cn(c,p,E,!1,w,L)}function cn(c,p,E,w,L,H){if(!p)throw Error("Invalid event type");const ie=g(L)?!!L.capture:!!L;let ke=Di(c);if(ke||(c[Ve]=ke=new he(c)),E=ke.add(p,E,w,ie,H),E.proxy)return E;if(w=Sr(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)S||(L=ie),L===void 0&&(L=!1),c.addEventListener(p.toString(),w,L);else if(c.attachEvent)c.attachEvent(tn(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Sr(){function c(E){return p.call(c.src,c.listener,E)}const p=ra;return c}function Ar(c,p,E,w,L){if(Array.isArray(p))for(var H=0;H<p.length;H++)Ar(c,p[H],E,w,L);else w=g(w)?!!w.capture:!!w,E=sa(E),c&&c[vt]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],E=Ne(p,E,w,L),E>-1&&(_e(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=Di(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ne(p,E,w,L)),(E=c>-1?p[c]:null)&&wr(E))}function wr(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[vt])Se(p.i,c);else{var E=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(E,w,c.capture):p.detachEvent?p.detachEvent(tn(E),w):p.addListener&&p.removeListener&&p.removeListener(w),(E=Di(p))?(Se(E,c),E.h==0&&(E.src=null,p[Ve]=null)):_e(c)}}}function tn(c){return c in At?At[c]:At[c]="on"+c}function ra(c,p){if(c.da)c=!0;else{p=new ze(p,this);const E=c.listener,w=c.ha||c.src;c.fa&&wr(c),c=E.call(w,p)}return c}function Di(c){return c=c[Ve],c instanceof he?c:null}var aa="__closure_events_fn_"+(Math.random()*1e9>>>0);function sa(c){return typeof c=="function"?c:(c[aa]||(c[aa]=function(p){return c.handleEvent(p)}),c[aa])}function wt(){P.call(this),this.i=new he(this),this.M=this,this.G=null}x(wt,P),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(c,p,E,w){Ar(this,c,p,E,w)};function Nt(c,p){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new j(p,c);else if(p instanceof j)p.target=p.target||c;else{var L=p;p=new j(w,c),re(p,L)}L=!0;let H,ie;if(E)for(ie=E.length-1;ie>=0;ie--)H=p.g=E[ie],L=fi(H,w,!0,p)&&L;if(H=p.g=c,L=fi(H,w,!0,p)&&L,L=fi(H,w,!1,p)&&L,E)for(ie=0;ie<E.length;ie++)H=p.g=E[ie],L=fi(H,w,!1,p)&&L}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const E=c.g[p];for(let w=0;w<E.length;w++)_e(E[w]);delete c.g[p],c.h--}}this.G=null},wt.prototype.J=function(c,p,E,w){return this.i.add(String(c),p,!1,E,w)},wt.prototype.K=function(c,p,E,w){return this.i.add(String(c),p,!0,E,w)};function fi(c,p,E,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let H=0;H<p.length;++H){const ie=p[H];if(ie&&!ie.da&&ie.capture==E){const ke=ie.listener,Bt=ie.ha||ie.src;ie.fa&&Se(c.i,ie),L=ke.call(Bt,w)!==!1&&L}}return L&&!w.defaultPrevented}function Oi(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(c,p||0)}function fs(c){c.g=Oi(()=>{c.g=null,c.i&&(c.i=!1,fs(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class an extends P{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:fs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jn(c){P.call(this),this.h=c,this.g={}}x(Jn,P);var oa=[];function ms(c){Be(c.g,function(p,E){this.g.hasOwnProperty(E)&&wr(p)},c),c.g={}}Jn.prototype.N=function(){Jn.Z.N.call(this),ms(this)},Jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qi=d.JSON.stringify,Ki=d.JSON.parse,la=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function xr(){}function ua(){}var ot={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){j.call(this,"d")}x(Gt,j);function En(){j.call(this,"c")}x(En,j);var Dt={},ro=null;function Yi(){return ro=ro||new wt}Dt.Ia="serverreachability";function Rr(c){j.call(this,Dt.Ia,c)}x(Rr,j);function hn(c){const p=Yi();Nt(p,new Rr(p))}Dt.STAT_EVENT="statevent";function Xi(c,p){j.call(this,Dt.STAT_EVENT,c),this.stat=p}x(Xi,j);function Ce(c){const p=Yi();Nt(p,new Xi(p,c))}Dt.Ja="timingevent";function dn(c,p){j.call(this,Dt.Ja,c),this.size=p}x(dn,j);function Zn(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},p)}function bn(){this.g=!0}bn.prototype.ua=function(){this.g=!1};function ca(c,p,E,w,L,H){c.info(function(){if(c.g)if(H){var ie="",ke=H.split("&");for(let at=0;at<ke.length;at++){var Bt=ke[at].split("=");if(Bt.length>1){const xt=Bt[0];Bt=Bt[1];const yi=xt.split("_");ie=yi.length>=2&&yi[1]=="type"?ie+(xt+"="+Bt+"&"):ie+(xt+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+p+`
`+E+`
`+ie})}function ps(c,p,E,w,L,H,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+p+`
`+E+`
`+H+" "+ie})}function Tn(c,p,E,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+$i(c,E)+(w?" "+w:"")})}function ji(c,p){c.info(function(){return"TIMEOUT: "+p})}bn.prototype.info=function(){};function $i(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var E=H[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var L=w[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return Qi(H)}catch{return p}}var Mi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ha;function Ji(){}x(Ji,xr),Ji.prototype.g=function(){return new XMLHttpRequest},ha=new Ji;function mi(c){return encodeURIComponent(String(c))}function sn(c){var p=1;c=c.split(":");const E=[];for(;p>0&&c.length;)E.push(c.shift()),p--;return c.length&&E.push(c.join(":")),E}function on(c,p,E,w){this.j=c,this.i=p,this.l=E,this.S=w||1,this.V=new Jn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var ue={},zt={};function zn(c,p,E){c.M=1,c.A=Wi(jt(p)),c.u=E,c.R=!0,Cr(c,null)}function Cr(c,p){c.F=Date.now(),Wn(c),c.B=jt(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),pa(E.i,"t",w),c.C=0,E=c.j.L,c.h=new Ln,c.g=Gu(c.j,E?p:null,!c.u),c.P>0&&(c.O=new an(_(c.Y,c,c.g),c.P)),p=c.V,E=c.g,w=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(oa[0]=L.toString()),L=oa);for(let H=0;H<L.length;H++){const ie=pt(E,L[H],w||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),hn(),ca(c.i,c.v,c.B,c.l,c.S,c.u)}on.prototype.ba=function(c){c=c.target;const p=this.O;p&&Me(c)==3?p.j():this.Y(c)},on.prototype.Y=function(c){try{if(c==this.g)e:{const ke=Me(this.g),Bt=this.g.ya(),at=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||De(this.g)))){this.K||ke!=4||Bt==7||(Bt==8||at<=0?hn(3):hn(2)),jn(this);var p=this.g.ca();this.X=p;var E=ml(this);if(this.o=p==200,ps(this.i,this.v,this.B,this.l,this.S,ke,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,L=this.g;if((w=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var H=w;break t}}H=null}if(c=H)Tn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ei(this,c);else{this.o=!1,this.m=3,Ce(12),An(this),Qt(this);break e}}if(this.R){c=!0;let xt;for(;!this.K&&this.C<E.length;)if(xt=ao(this,E),xt==zt){ke==4&&(this.m=4,Ce(14),c=!1),Tn(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==ue){this.m=4,Ce(15),Tn(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Tn(this.i,this.l,xt,null),ei(this,xt);if(gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||E.length!=0||this.h.h||(this.m=1,Ce(16),c=!1),this.o=this.o&&c,!c)Tn(this.i,this.l,E,"[Invalid Chunked Response]"),An(this),Qt(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),gl(ie),ie.P=!0,Ce(11))}}else Tn(this.i,this.l,E,null),ei(this,E);ke==4&&An(this),this.o&&!this.K&&(ke==4?Bu(this.j,this):(this.o=!1,Wn(this)))}else et(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),An(this),Qt(this)}}}catch{}finally{}};function ml(c){if(!gs(c))return c.g.la();const p=De(c.g);if(p==="")return"";let E="";const w=p.length,L=Me(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),Qt(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<w;H++)c.h.h=!0,E+=c.h.i.decode(p[H],{stream:!(L&&H==w-1)});return p.length=0,c.h.g+=E,c.C=0,c.h.g}function gs(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ao(c,p){var E=c.C,w=p.indexOf(`
`,E);return w==-1?zt:(E=Number(p.substring(E,w)),isNaN(E)?ue:(w+=1,w+E>p.length?zt:(p=p.slice(w,w+E),c.C=w+E,p)))}on.prototype.cancel=function(){this.K=!0,An(this)};function Wn(c){c.T=Date.now()+c.H,Ir(c,c.H)}function Ir(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Zn(_(c.aa,c),p)}function jn(c){c.D&&(d.clearTimeout(c.D),c.D=null)}on.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ji(this.i,this.B),this.M!=2&&(hn(),Ce(17)),An(this),this.m=2,Qt(this)):Ir(this,this.T-c)};function Qt(c){c.j.I==0||c.K||Bu(c.j,c)}function An(c){jn(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,ms(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function ei(c,p){try{var E=c.j;if(E.I!=0&&(E.g==c||Mn(E.h,c))){if(!c.L&&Mn(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)co(E),rt(E);else break e;Rs(E),Ce(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Zn(_(E.Va,E),6e3));pi(E.h)<=1&&E.ta&&(E.ta=void 0)}else lr(E,11)}else if((c.L||E.g==c)&&co(E),!C(p))for(L=E.Ba.g.parse(p),p=0;p<L.length;p++){let at=L[p];const xt=at[0];if(!(xt<=E.K))if(E.K=xt,at=at[1],E.I==2)if(at[0]=="c"){E.M=at[1],E.ba=at[2];const yi=at[3];yi!=null&&(E.ka=yi,E.j.info("VER="+E.ka));const ur=at[4];ur!=null&&(E.za=ur,E.j.info("SVER="+E.za));const Vi=at[5];Vi!=null&&typeof Vi=="number"&&Vi>0&&(w=1.5*Vi,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const ki=c.g;if(ki){const Cs=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var H=w.h;H.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(de(H,H.h),H.h=null))}if(w.G){const ho=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(w.wa=ho,it(w.J,w.G,ho))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ie=c;if(w.na=Fu(w,w.L?w.ba:null,w.W),ie.L){fe(w.h,ie);var ke=ie,Bt=w.O;Bt&&(ke.H=Bt),ke.D&&(jn(ke),Wn(ke)),w.g=ie}else Lu(w);E.i.length>0&&or(E)}else at[0]!="stop"&&at[0]!="close"||lr(E,7);else E.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?lr(E,7):Rn(E):at[0]!="noop"&&E.l&&E.l.qa(at),E.A=0)}}hn(4)}catch{}}var Et=class{constructor(c,p){this.g=c,this.map=p}};function ys(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function Mn(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function de(c,p){c.g?c.g.add(p):c.h=p}function fe(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}ys.prototype.cancel=function(){if(this.i=vs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function vs(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const E of c.g.values())p=p.concat(E.G);return p}return G(c.i)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,p){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let L,H=null;w>=0?(L=c[E].substring(0,w),H=c[E].substring(w+1)):L=c[E],p(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Vn?(this.l=c.l,Kt(this,c.j),this.o=c.o,this.g=c.g,Zi(this,c.u),this.h=c.h,Es(this,lo(c.i)),this.m=c.m):c&&(p=String(c).match(_s))?(this.l=!1,Kt(this,p[1]||"",!0),this.o=Bn(p[2]||""),this.g=Bn(p[3]||"",!0),Zi(this,p[4]),this.h=Bn(p[5]||"",!0),Es(this,p[6]||"",!0),this.m=Bn(p[7]||"")):(this.l=!1,this.i=new nr(null,this.l))}Vn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(er(p,fa,!0),":");var E=this.g;return(E||p=="file")&&(c.push("//"),(p=this.o)&&c.push(er(p,fa,!0),"@"),c.push(mi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(er(E,E.charAt(0)=="/"?bs:so,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",er(E,ma)),c.join("")},Vn.prototype.resolve=function(c){const p=jt(this);let E=!!c.j;E?Kt(p,c.j):E=!!c.o,E?p.o=c.o:E=!!c.g,E?p.g=c.g:E=c.u!=null;var w=c.h;if(E)Zi(p,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var L=p.h.lastIndexOf("/");L!=-1&&(w=p.h.slice(0,L+1)+w)}if(L=w,L==".."||L==".")w="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){w=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let ie=0;ie<L.length;){const ke=L[ie++];ke=="."?w&&ie==L.length&&H.push(""):ke==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),w&&ie==L.length&&H.push("")):(H.push(ke),w=!0)}w=H.join("/")}else w=L}return E?p.h=w:E=c.i.toString()!=="",E?Es(p,lo(c.i)):E=!!c.m,E&&(p.m=c.m),p};function jt(c){return new Vn(c)}function Kt(c,p,E){c.j=E?Bn(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Zi(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Es(c,p,E){p instanceof nr?(c.i=p,ga(c.i,c.l)):(E||(p=er(p,tr)),c.i=new nr(p,c.l))}function it(c,p,E){c.i.set(p,E)}function Wi(c){return it(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Bn(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function er(c,p,E){return typeof c=="string"?(c=encodeURI(c).replace(p,wn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fa=/[#\/\?@]/g,so=/[#\?:]/g,bs=/[#\?]/g,tr=/[#\?@]/g,ma=/#/g;function nr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(p,E){c.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}r=nr.prototype,r.add=function(c,p){xn(this),this.i=null,c=ir(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(p),this.h+=1,this};function oo(c,p){xn(c),p=ir(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ts(c,p){return xn(c),p=ir(c,p),c.g.has(p)}r.forEach=function(c,p){xn(this),this.g.forEach(function(E,w){E.forEach(function(L){c.call(p,L,w,this)},this)},this)};function Ss(c,p){xn(c);let E=[];if(typeof p=="string")Ts(c,p)&&(E=E.concat(c.g.get(ir(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)E=E.concat(c[p]);return E}r.set=function(c,p){return xn(this),this.i=null,c=ir(this,c),Ts(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Ss(this,c),c.length>0?String(c[0]):p):p};function pa(c,p,E){oo(c,p),E.length>0&&(c.i=null,c.g.set(ir(c,p),G(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var E=p[w];const L=mi(E);E=Ss(this,E);for(let H=0;H<E.length;H++){let ie=L;E[H]!==""&&(ie+="="+mi(E[H])),c.push(ie)}}return this.i=c.join("&")};function lo(c){const p=new nr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function ir(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ga(c,p){p&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(E,w){const L=w.toLowerCase();w!=L&&(oo(this,w),pa(this,L,E))},c)),c.j=p}function ti(c,p){const E=new bn;if(d.Image){const w=new Image;w.onload=A(qn,E,"TestLoadImage: loaded",!0,p,w),w.onerror=A(qn,E,"TestLoadImage: error",!1,p,w),w.onabort=A(qn,E,"TestLoadImage: abort",!1,p,w),w.ontimeout=A(qn,E,"TestLoadImage: timeout",!1,p,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function As(c,p){const E=new bn,w=new AbortController,L=setTimeout(()=>{w.abort(),qn(E,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(H=>{clearTimeout(L),H.ok?qn(E,"TestPingServer: ok",!0,p):qn(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),qn(E,"TestPingServer: error",!1,p)})}function qn(c,p,E,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(E)}catch{}}function rr(){this.g=new la}function gi(c){this.i=c.Sb||null,this.h=c.ab||!1}x(gi,xr),gi.prototype.g=function(){return new ar(this.i,this.h)};function ar(c,p){wt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(ar,wt),r=ar.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,sr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?sr(this):ni(this),this.readyState==3&&ya(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,sr(this))},r.Na=function(c){this.g&&(this.response=c,sr(this))},r.ga=function(){this.g&&sr(this)};function sr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ni(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=p.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Hn(c){let p="";return Be(c,function(E,w){p+=w,p+=":",p+=E,p+=`\r
`}),p}function Dr(c,p,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Hn(E),typeof c=="string"?E!=null&&mi(E):it(c,p,E))}function lt(c){wt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(lt,wt);var ii=/^https?$/i,va=["POST","PUT"];r=lt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ha.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){O(this,H);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)E.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const H of w.keys())E.set(H,w.get(H));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(va,p,void 0)>=0)||w||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of E)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){O(this,H)}};function O(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,T(c),le(c)}function T(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Nt(this,"complete"),Nt(this,"abort"),le(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),le(this,!0)),lt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?$(this):this.Xa())},r.Xa=function(){$(this)};function $(c){if(c.h&&typeof u<"u"){if(c.v&&Me(c)==4)setTimeout(c.Ca.bind(c),0);else if(Nt(c,"readystatechange"),Me(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var w;if(w=H===0){let ie=String(c.D).match(_s)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),w=!ii.test(ie?ie.toLowerCase():"")}E=w}if(E)Nt(c,"complete"),Nt(c,"success");else{c.o=6;try{var L=Me(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",T(c)}}finally{le(c)}}}}function le(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,p||Nt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Me(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Me(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Ki(p)}};function De(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function et(c){const p={};c=(c.g&&Me(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var E=sn(c[w]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const H=p[L]||[];p[L]=H,H.push(E)}We(p,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mt(c,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||p}function ri(c){this.za=0,this.i=[],this.j=new bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mt("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mt("baseRetryDelayMs",5e3,c),this.Za=Mt("retryDelaySeedMs",1e4,c),this.Ta=Mt("forwardChannelMaxRetries",2,c),this.va=Mt("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ys(c&&c.concurrentRequestLimit),this.Ba=new rr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ri.prototype,r.ka=8,r.I=1,r.connect=function(c,p,E,w){Ce(0),this.W=c,this.H=p||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Fu(this,null,this.W),or(this)};function Rn(c){if(ws(c),c.I==3){var p=c.V++,E=jt(c.J);if(it(E,"SID",c.M),it(E,"RID",p),it(E,"TYPE","terminate"),xs(c,E),p=new on(c,c.j,p),p.M=2,p.A=Wi(jt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=p.A,E=!0),E||(p.g=Gu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Wn(p)}Hu(c)}function rt(c){c.g&&(gl(c),c.g.cancel(),c.g=null)}function ws(c){rt(c),c.v&&(d.clearTimeout(c.v),c.v=null),co(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function or(c){if(!Nr(c.h)&&!c.m){c.m=!0;var p=c.Ea;we||R(),Le||(we(),Le=!0),I.add(p,c),c.D=0}}function uo(c,p){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Zn(_(c.Ea,c,p),qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new on(this,this.j,c);let H=this.o;if(this.U&&(H?(H=k(H),re(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Uu(this,L,p),E=jt(this.J),it(E,"RID",c),it(E,"CVER",22),this.G&&it(E,"X-HTTP-Session-Id",this.G),xs(this,E),H&&(this.R?p="headers="+mi(Hn(H))+"&"+p:this.u&&Dr(E,this.u,H)),de(this.h,L),this.Ra&&it(E,"TYPE","init"),this.S?(it(E,"$req",p),it(E,"SID","null"),L.U=!0,zn(L,E,null)):zn(L,E,p),this.I=2}}else this.I==3&&(c?pl(this,c):this.i.length==0||Nr(this.h)||pl(this))};function pl(c,p){var E;p?E=p.l:E=c.V++;const w=jt(c.J);it(w,"SID",c.M),it(w,"RID",E),it(w,"AID",c.K),xs(c,w),c.u&&c.o&&Dr(w,c.u,c.o),E=new on(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Uu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),de(c.h,E),zn(E,w,p)}function xs(c,p){c.H&&Be(c.H,function(E,w){it(p,w,E)}),c.l&&Be({},function(E,w){it(p,w,E)})}function Uu(c,p,E){E=Math.min(c.i.length,E);const w=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let ke=-1;for(;;){const Bt=["count="+E];ke==-1?E>0?(ke=L[0].g,Bt.push("ofs="+ke)):ke=0:Bt.push("ofs="+ke);let at=!0;for(let xt=0;xt<E;xt++){var H=L[xt].g;const yi=L[xt].map;if(H-=ke,H<0)ke=Math.max(0,L[xt].g-100),at=!1;else try{H="req"+H+"_"||"";try{var ie=yi instanceof Map?yi:Object.entries(yi);for(const[ur,Vi]of ie){let ki=Vi;g(Vi)&&(ki=Qi(Vi)),Bt.push(H+ur+"="+encodeURIComponent(ki))}}catch(ur){throw Bt.push(H+"type="+encodeURIComponent("_badmap")),ur}}catch{w&&w(yi)}}if(at){ie=Bt.join("&");break e}}ie=void 0}return c=c.i.splice(0,E),p.G=c,ie}function Lu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;we||R(),Le||(we(),Le=!0),I.add(p,c),c.A=0}}function Rs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Zn(_(c.Da,c),qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Zn(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),rt(this),zu(this))};function gl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new on(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=jt(c.na);it(p,"RID","rpc"),it(p,"SID",c.M),it(p,"AID",c.K),it(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&it(p,"TO",c.ia),it(p,"TYPE","xmlhttp"),xs(c,p),c.u&&c.o&&Dr(p,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Wi(jt(p)),E.u=null,E.R=!0,Cr(E,c)}r.Va=function(){this.C!=null&&(this.C=null,rt(this),Rs(this),Ce(19))};function co(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Bu(c,p){var E=null;if(c.g==p){co(c),gl(c),c.g=null;var w=2}else if(Mn(c.h,p))E=p.G,fe(c.h,p),w=1;else return;if(c.I!=0){if(p.o)if(w==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;w=Yi(),Nt(w,new dn(w,E)),or(c)}else Lu(c);else if(L=p.m,L==3||L==0&&p.X>0||!(w==1&&uo(c,p)||w==2&&Rs(c)))switch(E&&E.length>0&&(p=c.h,p.i=p.i.concat(E)),L){case 1:lr(c,5);break;case 4:lr(c,10);break;case 3:lr(c,6);break;default:lr(c,2)}}}function qu(c,p){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*p}function lr(c,p){if(c.j.info("Error code "+p),p==2){var E=_(c.bb,c),w=c.Ua;const L=!w;w=new Vn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Kt(w,"https"),Wi(w),L?ti(w.toString(),E):As(w.toString(),E)}else Ce(2);c.I=0,c.l&&c.l.pa(p),Hu(c),ws(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Hu(c){if(c.I=0,c.ja=[],c.l){const p=vs(c.h);(p.length!=0||c.i.length!=0)&&(te(c.ja,p),te(c.ja,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.oa()}}function Fu(c,p,E){var w=E instanceof Vn?jt(E):new Vn(E);if(w.g!="")p&&(w.g=p+"."+w.g),Zi(w,w.u);else{var L=d.location;w=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const H=new Vn(null);w&&Kt(H,w),p&&(H.g=p),L&&Zi(H,L),E&&(H.h=E),w=H}return E=c.G,p=c.wa,E&&p&&it(w,E,p),it(w,"VER",c.ka),xs(c,w),w}function Gu(c,p,E){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new lt(new gi({ab:E})):new lt(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _a(){}_a.prototype.g=function(c,p){return new kn(c,p)};function kn(c,p){wt.call(this),this.g=new ri(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Or(this)}x(kn,wt),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){Rn(this.g)},kn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Qi(c),c=E);p.i.push(new Et(p.Ya++,c)),p.I==3&&or(p)},kn.prototype.N=function(){this.g.l=null,delete this.j,Rn(this.g),delete this.g,kn.Z.N.call(this)};function Ku(c){Gt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const E in p){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}x(Ku,Gt);function Yu(){En.call(this),this.status=1}x(Yu,En);function Or(c){this.g=c}x(Or,Qu),Or.prototype.ra=function(){Nt(this.g,"a")},Or.prototype.qa=function(c){Nt(this.g,new Ku(c))},Or.prototype.pa=function(c){Nt(this.g,new Yu)},Or.prototype.oa=function(){Nt(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,b1=function(){return new _a},E1=function(){return Yi()},_1=Dt,Vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mi.NO_ERROR=0,Mi.TIMEOUT=8,Mi.HTTP_ERROR=6,hh=Mi,Sn.COMPLETE="complete",v1=Sn,ua.EventType=ot,ot.OPEN="a",ot.CLOSE="b",ot.ERROR="c",ot.MESSAGE="d",wt.prototype.listen=wt.prototype.J,au=ua,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,y1=lt}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const s_="@firebase/firestore",o_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new np("@firebase/firestore");function qo(){return Ws.logLevel}function ge(r,...e){if(Ws.logLevel<=Ke.DEBUG){const n=e.map(fp);Ws.debug(`Firestore (${ul}): ${r}`,...n)}}function Wr(r,...e){if(Ws.logLevel<=Ke.ERROR){const n=e.map(fp);Ws.error(`Firestore (${ul}): ${r}`,...n)}}function tl(r,...e){if(Ws.logLevel<=Ke.WARN){const n=e.map(fp);Ws.warn(`Firestore (${ul}): ${r}`,...n)}}function fp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,T1(r,a,n)}function T1(r,e,n){let a=`FIRESTORE (${ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Wr(a),new Error(a)}function ut(r,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||T1(e,l,a)}function je(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends na{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Nn.UNAUTHENTICATED)))}shutdown(){}}class Yx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Xx{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let u=new es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new es,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new es)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ut(typeof a.accessToken=="string",31837,{l:a}),new S1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class $x{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Jx{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new $x(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class l_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const a=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new l_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new l_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Wx(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<n&&(a+=e.charAt(l[u]%62))}return a}}function Ye(r,e){return r<e?-1:r>e?1:0}function km(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const l=r.charAt(a),u=e.charAt(a);if(l!==u)return gm(l)===gm(u)?Ye(l,u):gm(l)?1:-1}return Ye(r.length,e.length)}const eR=55296,tR=57343;function gm(r){const e=r.charCodeAt(0);return e>=eR&&e<=tR}function nl(r,e,n){return r.length===e.length&&r.every(((a,l)=>n(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="__name__";class mr{constructor(e,n,a){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Re(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const u=mr.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ye(e.length,n.length)}static compareSegments(e,n){const a=mr.isNumericId(e),l=mr.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?mr.extractNumericId(e).compare(mr.extractNumericId(n)):km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wa.fromString(e.substring(4,e.length-2))}}class _t extends mr{construct(e,n,a){return new _t(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const nR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends mr{construct(e,n,a){return new vn(e,n,a)}static isValidIdentifier(e){return nR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u_}static keyField(){return new vn([u_])}static fromServerFormat(e){const n=[];let a="",l=0;const u=()=>{if(a.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(u(),l++)}if(u(),d)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(_t.fromString(e))}static fromName(e){return new be(_t.fromString(e).popFirst(5))}static empty(){return new be(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new _t(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r,e,n){if(!n)throw new me(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function iR(r,e,n,a){if(e===!0&&a===!0)throw new me(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function c_(r){if(!be.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function h_(r){if(be.isDocumentKey(r))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function w1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Re(12329,{type:typeof r})}function qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(r);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r,e){const n={typeString:r};return e&&(n.value=e),n}function Du(r,e){if(!w1(r))throw new me(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new me(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_=-62135596800,f_=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*f_);return new St(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<d_)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f_}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Du(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-d_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:en("string",St._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new St(0,0))}static max(){return new Ie(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=-1;function rR(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(a===1e9?new St(n+1,0):new St(n,a));return new rs(l,be.empty(),e)}function aR(r){return new rs(r.readTime,r.key,vu)}class rs{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new rs(Ie.min(),be.empty(),vu)}static max(){return new rs(Ie.max(),be.empty(),vu)}}function sR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(r.documentKey,e.documentKey),n!==0?n:Ye(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==oR)throw r;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,a)=>{n(e)}))}static reject(e){return new W(((n,a)=>{a(e)}))}static waitFor(e){return new W(((n,a)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>a(y)))})),d=!0,u===l&&n()}))}static or(e){let n=W.resolve(!1);for(const a of e)n=n.next((l=>l?W.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,u)=>{a.push(n.call(this,l,u))})),this.waitFor(a)}static mapArray(e,n){return new W(((a,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const _=y;n(e[_]).next((A=>{d[_]=A,++g,g===u&&a(d)}),(A=>l(A)))}}))}static doWhile(e,n){return new W(((a,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):a()};u()}))}}function uR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-1;function Qh(r){return r==null}function Rh(r){return r===0&&1/r==-1/0}function cR(r){return typeof r=="number"&&Number.isInteger(r)&&!Rh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="";function hR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=m_(e)),e=dR(r.get(n),e);return m_(e)}function dR(r,e){let n=e;const a=r.length;for(let l=0;l<a;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case x1:n+="";break;default:n+=u}}return n}function m_(r){return r+x1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function hs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function R1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,a,l,u){this.key=e,this.value=n,this.color=a??yn.RED,this.left=l??yn.EMPTY,this.right=u??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,u){return new yn(e??this.key,n??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,a),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return yn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,a,l,u){return this}insert(e,n,a){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(e){return new g_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new rn(this.comparator);return n.data=e,n}}class g_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new di([])}unionWith(e){let n=new rn(vn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new C1("Invalid base64 string: "+u):u}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const fR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if(ut(!!r,39018),typeof r=="string"){let e=0;const n=fR.exec(r);if(ut(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ft(r.seconds),nanos:Ft(r.nanos)}}function Ft(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?_n.fromBase64String(r):_n.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="server_timestamp",N1="__type__",D1="__previous_value__",O1="__local_write_time__";function gp(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[N1])==null?void 0:a.stringValue)===I1}function Kh(r){const e=r.mapValue.fields[D1];return gp(e)?Kh(e):e}function _u(r){const e=as(r.mapValue.fields[O1].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,a,l,u,d,g,y,_,A){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Ch="(default)";class Eu{constructor(e,n){this.projectId=e,this.database=n||Ch}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Ch}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="__type__",pR="__max__",nh={mapValue:{}},M1="__vector__",Ih="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:yR(r)?9007199254740991:gR(r)?10:11:Re(28295,{value:r})}function br(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _u(r).isEqual(_u(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=as(l.timestampValue),g=as(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return ss(l.bytesValue).isEqual(ss(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return Ft(l.geoPointValue.latitude)===Ft(u.geoPointValue.latitude)&&Ft(l.geoPointValue.longitude)===Ft(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Ft(l.integerValue)===Ft(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Ft(l.doubleValue),g=Ft(u.doubleValue);return d===g?Rh(d)===Rh(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return nl(r.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(p_(d)!==p_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!br(d[y],g[y])))return!1;return!0})(r,e);default:return Re(52216,{left:r})}}function bu(r,e){return(r.values||[]).find((n=>br(n,e)))!==void 0}function il(r,e){if(r===e)return 0;const n=os(r),a=os(e);if(n!==a)return Ye(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Ft(u.integerValue||u.doubleValue),y=Ft(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return y_(r.timestampValue,e.timestampValue);case 4:return y_(_u(r),_u(e));case 5:return km(r.stringValue,e.stringValue);case 6:return(function(u,d){const g=ss(u),y=ss(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Ye(g[_],y[_]);if(A!==0)return A}return Ye(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Ye(Ft(u.latitude),Ft(d.latitude));return g!==0?g:Ye(Ft(u.longitude),Ft(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return v_(r.arrayValue,e.arrayValue);case 10:return(function(u,d){var M,G,te,ne;const g=u.fields||{},y=d.fields||{},_=(M=g[Ih])==null?void 0:M.arrayValue,A=(G=y[Ih])==null?void 0:G.arrayValue,x=Ye(((te=_==null?void 0:_.values)==null?void 0:te.length)||0,((ne=A==null?void 0:A.values)==null?void 0:ne.length)||0);return x!==0?x:v_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===nh.mapValue&&d===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(d===nh.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let x=0;x<y.length&&x<A.length;++x){const M=km(y[x],A[x]);if(M!==0)return M;const G=il(g[y[x]],_[A[x]]);if(G!==0)return G}return Ye(y.length,A.length)})(r.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function y_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ye(r,e);const n=as(r),a=as(e),l=Ye(n.seconds,a.seconds);return l!==0?l:Ye(n.nanos,a.nanos)}function v_(r,e){const n=r.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const u=il(n[l],a[l]);if(u)return u}return Ye(n.length,a.length)}function rl(r){return Pm(r)}function Pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=as(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return be.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const u of n.values||[])l?l=!1:a+=",",a+=Pm(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${Pm(n.fields[d])}`;return l+"}"})(r.mapValue):Re(61005,{value:r})}function dh(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(r);return e?16+dh(e):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return hs(a.fields,((u,d)=>{l+=u.length+dh(d)})),l})(r.mapValue);default:throw Re(13486,{value:r})}}function __(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Um(r){return!!r&&"integerValue"in r}function yp(r){return!!r&&"arrayValue"in r}function E_(r){return!!r&&"nullValue"in r}function b_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fh(r){return!!r&&"mapValue"in r}function gR(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[j1])==null?void 0:a.stringValue)===M1}function du(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return hs(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=du(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=du(r.arrayValue.values[n]);return e}return{...r}}function yR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===pR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=du(n)}setAll(e){let n=vn.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,a,l),a={},l=[],n=g.popLast()}d?a[g.lastSegment()]=du(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,l)}delete(e){const n=this.field(e.popLast());fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];fh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){hs(n,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new $n(du(this.value))}}function V1(r){const e=[];return hs(r.fields,((n,a)=>{const l=new vn([n]);if(fh(a)){const u=V1(a.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new di(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n,a,l,u,d,g){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Dn(e,0,Ie.min(),Ie.min(),Ie.min(),$n.empty(),0)}static newFoundDocument(e,n,a,l){return new Dn(e,1,n,Ie.min(),a,l,0)}static newNoDocument(e,n){return new Dn(e,2,n,Ie.min(),Ie.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new Dn(e,3,n,Ie.min(),Ie.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function T_(r,e,n){let a=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?a=be.comparator(be.fromName(d.referenceValue),n.key):a=il(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function S_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!br(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function vR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{}class Wt extends k1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new ER(e,n,a):n==="array-contains"?new SR(e,a):n==="in"?new AR(e,a):n==="not-in"?new wR(e,a):n==="array-contains-any"?new xR(e,a):new Wt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new bR(e,a):new TR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(il(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends k1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gi(e,n)}matches(e){return P1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function P1(r){return r.op==="and"}function U1(r){return _R(r)&&P1(r)}function _R(r){for(const e of r.filters)if(e instanceof Gi)return!1;return!0}function Lm(r){if(r instanceof Wt)return r.field.canonicalString()+r.op.toString()+rl(r.value);if(U1(r))return r.filters.map((e=>Lm(e))).join(",");{const e=r.filters.map((n=>Lm(n))).join(",");return`${r.op}(${e})`}}function L1(r,e){return r instanceof Wt?(function(a,l){return l instanceof Wt&&a.op===l.op&&a.field.isEqual(l.field)&&br(a.value,l.value)})(r,e):r instanceof Gi?(function(a,l){return l instanceof Gi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,g)=>u&&L1(d,l.filters[g])),!0):!1})(r,e):void Re(19439)}function z1(r){return r instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${rl(n.value)}`})(r):r instanceof Gi?(function(n){return n.op.toString()+" {"+n.getFilters().map(z1).join(" ,")+"}"})(r):"Filter"}class ER extends Wt{constructor(e,n,a){super(e,n,a),this.key=be.fromName(a.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class bR extends Wt{constructor(e,n){super(e,"in",n),this.keys=B1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TR extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=B1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function B1(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>be.fromName(a.referenceValue)))}class SR extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yp(n)&&bu(n.arrayValue,this.value)}}class AR extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bu(this.value.arrayValue,n)}}class wR extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bu(this.value.arrayValue,n)}}class xR extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>bu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n=null,a=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function A_(r,e=null,n=[],a=[],l=null,u=null,d=null){return new RR(r,e,n,a,l,u,d)}function vp(r){const e=je(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Lm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>rl(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>rl(a))).join(",")),e.Te=n}return e.Te}function _p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!vR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!L1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!S_(r.startAt,e.startAt)&&S_(r.endAt,e.endAt)}function zm(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n=null,a=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CR(r,e,n,a,l,u,d,g){return new Ou(r,e,n,a,l,u,d,g)}function Yh(r){return new Ou(r)}function w_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function q1(r){return r.collectionGroup!==null}function fu(r){const e=je(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new rn(vn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Dh(u,a))})),n.has(vn.keyField().canonicalString())||e.Ie.push(new Dh(vn.keyField(),a))}return e.Ie}function yr(r){const e=je(r);return e.Ee||(e.Ee=IR(e,fu(r))),e.Ee}function IR(r,e){if(r.limitType==="F")return A_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Dh(l.field,u)}));const n=r.endAt?new Nh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Nh(r.startAt.position,r.startAt.inclusive):null;return A_(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Bm(r,e){const n=r.filters.concat([e]);return new Ou(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function qm(r,e,n){return new Ou(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Xh(r,e){return _p(yr(r),yr(e))&&r.limitType===e.limitType}function H1(r){return`${vp(yr(r))}|lt:${r.limitType}`}function Ho(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>z1(l))).join(", ")}]`),Qh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>rl(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>rl(l))).join(",")),`Target(${a})`})(yr(r))}; limitType=${r.limitType})`}function $h(r,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):be.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,l){for(const u of fu(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const _=T_(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,fu(a),l)||a.endAt&&!(function(d,g,y){const _=T_(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,fu(a),l))})(r,e)}function NR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function F1(r){return(e,n)=>{let a=!1;for(const l of fu(r)){const u=DR(l,e,n);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function DR(r,e,n){const a=r.field.isKeyField()?be.comparator(e.key,n.key):(function(u,d,g){const y=d.data.field(u),_=g.data.field(u);return y!==null&&_!==null?il(y,_):Re(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Re(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,((n,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return R1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=new Ot(be.comparator);function ea(){return OR}const G1=new Ot(be.comparator);function su(...r){let e=G1;for(const n of r)e=e.insert(n.key,n);return e}function Q1(r){let e=G1;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ks(){return mu()}function K1(){return mu()}function mu(){return new no((r=>r.toString()),((r,e)=>r.isEqual(e)))}const jR=new Ot(be.comparator),MR=new rn(be.comparator);function Xe(...r){let e=MR;for(const n of r)e=e.add(n);return e}const VR=new rn(Ye);function kR(){return VR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function Y1(r){return{integerValue:""+r}}function X1(r,e){return cR(e)?Y1(e):Ep(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function PR(r,e,n){return r instanceof Oh?(function(l,u){const d={fields:{[N1]:{stringValue:I1},[O1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&gp(u)&&(u=Kh(u)),u&&(d.fields[D1]=u),{mapValue:d}})(n,e):r instanceof Tu?J1(r,e):r instanceof Su?Z1(r,e):(function(l,u){const d=$1(l,u),g=x_(d)+x_(l.Ae);return Um(d)&&Um(l.Ae)?Y1(g):Ep(l.serializer,g)})(r,e)}function UR(r,e,n){return r instanceof Tu?J1(r,e):r instanceof Su?Z1(r,e):n}function $1(r,e){return r instanceof Au?(function(a){return Um(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Oh extends Jh{}class Tu extends Jh{constructor(e){super(),this.elements=e}}function J1(r,e){const n=W1(e);for(const a of r.elements)n.some((l=>br(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Su extends Jh{constructor(e){super(),this.elements=e}}function Z1(r,e){let n=W1(e);for(const a of r.elements)n=n.filter((l=>!br(l,a)));return{arrayValue:{values:n}}}class Au extends Jh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function x_(r){return Ft(r.integerValue||r.doubleValue)}function W1(r){return yp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.field=e,this.transform=n}}function zR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof Tu&&l instanceof Tu||a instanceof Su&&l instanceof Su?nl(a.elements,l.elements,br):a instanceof Au&&l instanceof Au?br(a.Ae,l.Ae):a instanceof Oh&&l instanceof Oh})(r.transform,e.transform)}class BR{constructor(e,n){this.version=e,this.transformResults=n}}class Hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hi}static exists(e){return new Hi(void 0,e)}static updateTime(e){return new Hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Zh{}function eE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bp(r.key,Hi.none()):new ju(r.key,r.data,Hi.none());{const n=r.data,a=$n.empty();let l=new rn(vn.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new ds(r.key,a,new di(l.toArray()),Hi.none())}}function qR(r,e,n){r instanceof ju?(function(l,u,d){const g=l.value.clone(),y=C_(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):r instanceof ds?(function(l,u,d){if(!mh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=C_(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(tE(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function pu(r,e,n,a){return r instanceof ju?(function(u,d,g,y){if(!mh(u.precondition,d))return g;const _=u.value.clone(),A=I_(u.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,n,a):r instanceof ds?(function(u,d,g,y){if(!mh(u.precondition,d))return g;const _=I_(u.fieldTransforms,y,d),A=d.data;return A.setAll(tE(u)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(r,e,n,a):(function(u,d,g){return mh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,n)}function HR(r,e){let n=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),u=$1(a.transform,l||null);u!=null&&(n===null&&(n=$n.empty()),n.set(a.field,u))}return n||null}function R_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&nl(a,l,((u,d)=>zR(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ju extends Zh{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ds extends Zh{constructor(e,n,a,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tE(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function C_(r,e,n){const a=new Map;ut(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,g=e.data.field(u.field);a.set(u.field,UR(d,g,n[l]))}return a}function I_(r,e,n){const a=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);a.set(l.field,PR(u,d,e))}return a}class bp extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FR extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&qR(u,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=pu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=pu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=K1();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=eE(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,((n,a)=>R_(n,a)))&&nl(this.baseMutations,e.baseMutations,((n,a)=>R_(n,a)))}}class Tp{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){ut(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return jR})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new Tp(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,Ze;function YR(r){switch(r){case Z.OK:return Re(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Re(15467,{code:r})}}function nE(r){if(r===void 0)return Wr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Zt.OK:return Z.OK;case Zt.CANCELLED:return Z.CANCELLED;case Zt.UNKNOWN:return Z.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return Z.INTERNAL;case Zt.UNAVAILABLE:return Z.UNAVAILABLE;case Zt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Zt.NOT_FOUND:return Z.NOT_FOUND;case Zt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Zt.ABORTED:return Z.ABORTED;case Zt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Zt.DATA_LOSS:return Z.DATA_LOSS;default:return Re(39323,{code:r})}}(Ze=Zt||(Zt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new Wa([4294967295,4294967295],0);function N_(r){const e=XR().encode(r),n=new g1;return n.update(e),new Uint8Array(n.digest())}function D_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wa([n,a],0),new Wa([l,u],0)]}class Sp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ou(`Invalid padding: ${n}`);if(a<0)throw new ou(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ou(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new ou(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wa.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(Wa.fromNumber(a)));return l.compare($R)===1&&(l=new Wa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=N_(e),[a,l]=D_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);if(!this.we(d))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Sp(u,l,n);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=N_(e),[a,l]=D_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class ou extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,a,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Wh(Ie.min(),l,new Ot(Ye),ea(),Xe())}}class Mu{constructor(e,n,a,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Mu(a,n,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,a,l){this.be=e,this.removedTargetIds=n,this.key=a,this.De=l}}class iE{constructor(e,n){this.targetId=e,this.Ce=n}}class rE{constructor(e,n,a=_n.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class O_{constructor(){this.ve=0,this.Fe=j_(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),n=Xe(),a=Xe();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Re(38017,{changeType:u})}})),new Mu(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=j_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ea(),this.Je=ih(),this.He=ih(),this.Ye=new Ot(Ye)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(zm(u))if(a===0){const d=new be(u.path);this.et(n,d,Dn.newNoDocument(d,Ie.min()))}else ut(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=ss(a).toUint8Array()}catch(y){if(y instanceof C1)return tl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Sp(d,l,u)}catch(y){return tl(y instanceof ou?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&zm(g.target)){const y=new be(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Dn.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let a=Xe();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Wh(e,n,this.Ye,this.je,a);return this.je=ea(),this.Je=ih(),this.He=ih(),this.Ye=new Ot(Ye),l}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new O_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new rn(Ye),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new rn(Ye),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new O_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new Ot(be.comparator)}function j_(){return new Ot(be.comparator)}const ZR={asc:"ASCENDING",desc:"DESCENDING"},WR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eC={and:"AND",or:"OR"};class tC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(r,e){return r.useProto3Json||Qh(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function nC(r,e){return jh(r,e.toTimestamp())}function vr(r){return ut(!!r,49232),Ie.fromTimestamp((function(n){const a=as(n);return new St(a.seconds,a.nanos)})(r))}function Ap(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const n=(function(l){return new _t(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function sE(r){const e=_t.fromString(r);return ut(hE(e),10190,{key:e.toString()}),e}function Gm(r,e){return Ap(r.databaseId,e.path)}function ym(r,e){const n=sE(e);if(n.get(1)!==r.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new be(lE(n))}function oE(r,e){return Ap(r.databaseId,e)}function iC(r){const e=sE(r);return e.length===4?_t.emptyPath():lE(e)}function Qm(r){return new _t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lE(r){return ut(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function M_(r,e,n){return{name:Gm(r,e),fields:n.value.mapValue.fields}}function rC(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Re(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,A){return _.useProto3Json?(ut(A===void 0||typeof A=="string",58123),_n.fromBase64String(A||"")):(ut(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),_n.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:nE(_.code);return new me(A,_.message||"")})(d);n=new rE(a,l,u,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=ym(r,a.document.name),u=vr(a.document.updateTime),d=a.document.createTime?vr(a.document.createTime):Ie.min(),g=new $n({mapValue:{fields:a.document.fields}}),y=Dn.newFoundDocument(l,u,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];n=new ph(_,A,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=ym(r,a.document),u=a.readTime?vr(a.readTime):Ie.min(),d=Dn.newNoDocument(l,u),g=a.removedTargetIds||[];n=new ph([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=ym(r,a.document),u=a.removedTargetIds||[];n=new ph([],u,l,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new KR(l,u),g=a.targetId;n=new iE(g,d)}}return n}function aC(r,e){let n;if(e instanceof ju)n={update:M_(r,e.key,e.value)};else if(e instanceof bp)n={delete:Gm(r,e.key)};else if(e instanceof ds)n={update:M_(r,e.key,e.data),updateMask:mC(e.fieldMask)};else{if(!(e instanceof FR))return Re(16599,{Vt:e.type});n={verify:Gm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const g=d.transform;if(g instanceof Oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Tu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Su)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Au)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Re(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:nC(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re(27497)})(r,e.precondition)),n}function sC(r,e){return r&&r.length>0?(ut(e!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?vr(l.updateTime):vr(u);return d.isEqual(Ie.min())&&(d=vr(u)),new BR(d,l.transformResults||[])})(n,e)))):[]}function oC(r,e){return{documents:[oE(r,e.path)]}}function lC(r,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=oE(r,l);const u=(function(_){if(_.length!==0)return cE(Gi.create(_,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:Fo(M.field),direction:hC(M.dir)}})(A)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Hm(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:l}}function uC(r){let e=iC(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){ut(a===1,65062);const A=n.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let u=[];n.where&&(u=(function(x){const M=uE(x);return M instanceof Gi&&U1(M)?M.getFilters():[M]})(n.where));let d=[];n.orderBy&&(d=(function(x){return x.map((M=>(function(te){return new Dh(Go(te.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(M)))})(n.orderBy));let g=null;n.limit&&(g=(function(x){let M;return M=typeof x=="object"?x.value:x,Qh(M)?null:M})(n.limit));let y=null;n.startAt&&(y=(function(x){const M=!!x.before,G=x.values||[];return new Nh(G,M)})(n.startAt));let _=null;return n.endAt&&(_=(function(x){const M=!x.before,G=x.values||[];return new Nh(G,M)})(n.endAt)),CR(e,l,d,u,g,"F",y,_)}function cC(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Go(n.unaryFilter.field);return Wt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Go(n.unaryFilter.field);return Wt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Go(n.unaryFilter.field);return Wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Go(n.unaryFilter.field);return Wt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Wt.create(Go(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Gi.create(n.compositeFilter.filters.map((a=>uE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Re(1026)}})(n.compositeFilter.op))})(r):Re(30097,{filter:r})}function hC(r){return ZR[r]}function dC(r){return WR[r]}function fC(r){return eC[r]}function Fo(r){return{fieldPath:r.canonicalString()}}function Go(r){return vn.fromServerFormat(r.fieldPath)}function cE(r){return r instanceof Wt?(function(n){if(n.op==="=="){if(b_(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NAN"}};if(E_(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(b_(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NAN"}};if(E_(n.value))return{unaryFilter:{field:Fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fo(n.field),op:dC(n.op),value:n.value}}})(r):r instanceof Gi?(function(n){const a=n.getFilters().map((l=>cE(l)));return a.length===1?a[0]:{compositeFilter:{op:fC(n.op),filters:a}}})(r):Re(54877,{filter:r})}function mC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function hE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,a,l,u=Ie.min(),d=Ie.min(),g=_n.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.yt=e}}function gC(r){const e=uC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.Cn=new vC}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(rs.min())}updateCollectionGroup(e,n,a){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class vC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new rn(_t.comparator),u=!l.has(a);return this.index[n]=l.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new rn(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dE=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(dE,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="LruGarbageCollector",_C=1048576;function P_([r,e],[n,a]){const l=Ye(r,n);return l===0?Ye(e,a):l}class EC{constructor(e){this.Ir=e,this.buffer=new rn(P_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();P_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bC{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(k_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hl(n)?ge(k_,"Ignoring IndexedDB error during garbage collection: ",n):await cl(n)}await this.Vr(3e5)}))}}class TC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Gh.ce);const a=new EC(n);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(V_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,l,u,d,g,y,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,d=Date.now(),this.nthSequenceNumber(e,l)))).next((x=>(a=x,g=Date.now(),this.removeTargets(e,a,n)))).next((x=>(u=x,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(_=Date.now(),qo()<=Ke.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${x} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:x}))))}}function SC(r,e){return new TC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.changes=new no((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?W.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&pu(a.mutation,l,di.empty(),St.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Xe()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Xe()){const l=Ks();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((u=>{let d=su();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const a=Ks();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Xe())))}populateOverlays(e,n,a){const l=[];return a.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,a,l){let u=ea();const d=mu(),g=(function(){return mu()})();return n.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ds)?u=u.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),pu(A.mutation,_,A.mutation.getFieldMask(),St.now())):d.set(_.key,di.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((_,A)=>d.set(_,A))),n.forEach(((_,A)=>g.set(_,new wC(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,n){const a=mu();let l=new Ot(((d,g)=>d-g)),u=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let A=a.get(y)||di.empty();A=g.applyToLocalView(_,A),a.set(y,A);const x=(l.get(g.batchId)||Xe()).add(y);l=l.insert(g.batchId,x)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,x=K1();A.forEach((M=>{if(!u.has(M)){const G=eE(n.get(M),a.get(M));G!==null&&x.set(M,G),u=u.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return W.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return(function(d){return be.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-u.size):W.resolve(Ks());let g=vu,y=u;return d.next((_=>W.forEach(_,((A,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),u.get(A)?W.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{y=y.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,y,_,Xe()))).next((A=>({batchId:g,changes:Q1(A)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((a=>{let l=su();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const u=n.collectionGroup;let d=su();return this.indexManager.getCollectionParents(e,u).next((g=>W.forEach(g,(y=>{const _=(function(x,M){return new Ou(M,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((A=>{A.forEach(((x,M)=>{d=d.insert(x,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,l)))).next((d=>{u.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Dn.newInvalidDocument(A)))}));let g=su();return d.forEach(((y,_)=>{const A=u.get(y);A!==void 0&&pu(A.mutation,_,di.empty(),St.now()),$h(n,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:vr(l.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:gC(l.bundledQuery),readTime:vr(l.readTime)}})(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.overlays=new Ot(be.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ks();return W.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,u)=>{this.St(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(e,n,a){const l=Ks(),u=n.length+1,d=new be(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>a&&l.set(y.getKey(),y)}return W.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let u=new Ot(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>a){let A=u.get(_.largestBatchId);A===null&&(A=Ks(),u=u.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=Ks(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=l)););return W.resolve(g)}St(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new QR(n,a));let u=this.qr.get(n);u===void 0&&(u=Xe(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Qr=new rn(un.$r),this.Ur=new rn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new un(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new un(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new be(new _t([])),a=new un(n,e),l=new un(n,e+1),u=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new be(new _t([])),a=new un(n,e),l=new un(n,e+1);let u=Xe();return this.Ur.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new un(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class un{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return be.comparator(e.key,n.key)||Ye(e.Yr,n.Yr)}static Kr(e,n){return Ye(e.Yr,n.Yr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new rn(un.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GR(u,n,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new un(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.ei(a),u=l<0?0:l;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?pp:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new un(n,0),l=new un(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new rn(Ye);return n.forEach((l=>{const u=new un(l,0),d=new un(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{a=a.add(g.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let u=a;be.isDocumentKey(u)||(u=u.child(""));const d=new un(new be(u),0);let g=new rn(Ye);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),W.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(n.mutations,(l=>{const u=new un(l.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new un(n,0),l=this.Zr.firstAfterOrEqual(a);return W.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.ri=e,this.docs=(function(){return new Ot(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return W.resolve(a?a.document.mutableCopy():Dn.newInvalidDocument(n))}getEntries(e,n){let a=ea();return n.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():Dn.newInvalidDocument(l))})),W.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let u=ea();const d=n.path,g=new be(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||sR(aR(A),a)<=0||(l.has(A.key)||$h(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,a,l){Re(9500)}ii(e,n){return W.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new OC(this)}getSize(e){return W.resolve(this.size)}}class OC extends AC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.persistence=e,this.si=new no((n=>vp(n)),_p),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new wp,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,n){return this.si.forEach(((a,l)=>n(l))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new al(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,a){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),W.waitFor(u).next((()=>l))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return W.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),W.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return W.resolve(a)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gh(0),this.li=!1,this.li=!0,this.hi=new IC,this.referenceDelegate=e(this),this.Pi=new jC(this),this.indexManager=new yC,this.remoteDocumentCache=(function(l){return new DC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new pC(n),this.Ii=new RC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new NC(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){ge("MemoryPersistence","Starting transaction:",e);const l=new MC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class MC extends lR{constructor(e){super(),this.currentSequenceNumber=e}}class xp{constructor(e){this.persistence=e,this.Ri=new wp,this.Vi=null}static mi(e){return new xp(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),W.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const l=be.fromPath(a);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.pi=new no((a=>hR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=SC(this,n)}static mi(e,n){return new Mh(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((a,l)=>this.br(e,a,l).next((u=>u?W.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((g=>{g||(a++,u.removeEntry(d,Ie.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}br(e,n,a){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return W.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=l}static As(e,n){let a=Xe(),l=Xe();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Rp(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dS()?8:uR(On())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new VC;return this.Ss(e,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,d,g.size)}))})).next((()=>u.result))}bs(e,n,a,l){return a.documentReadCount<this.fs?(qo()<=Ke.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(qo()<=Ke.DEBUG&&ge("QueryEngine","Query:",Ho(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(qo()<=Ke.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):W.resolve())}ys(e,n){if(w_(n))return W.resolve(null);let a=yr(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=qm(n,null,"F"),a=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=Xe(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(n,g);return this.Cs(n,_,d,y.readTime)?this.ys(e,qm(n,null,"F")):this.vs(e,_,n,y)}))))})))))}ws(e,n,a,l){return w_(n)||l.isEqual(Ie.min())?W.resolve(null):this.ps.getDocuments(e,a).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,a,l)?W.resolve(null):(qo()<=Ke.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ho(n)),this.vs(e,d,n,rR(l,vu)).next((g=>g)))}))}Ds(e,n){let a=new rn(F1(e));return n.forEach(((l,u)=>{$h(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,a){return qo()<=Ke.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ho(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),a)}vs(e,n,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="LocalStore",PC=3e8;class UC{constructor(e,n,a,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new Ot(Ye),this.xs=new no((u=>vp(u)),_p),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function LC(r,e,n,a){return new UC(r,e,n,a)}async function mE(r,e){const n=je(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],g=[];let y=Xe();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of u){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return n.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function zC(r,e){const n=je(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const x=_.batch,M=x.keys();let G=W.resolve();return M.forEach((te=>{G=G.next((()=>A.getEntry(y,te))).next((ne=>{const ee=_.docVersions.get(te);ut(ee!==null,48541),ne.version.compareTo(ee)<0&&(x.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),A.addEntry(ne)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(y,x)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Xe();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function pE(r){const e=je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function BC(r,e){const n=je(r),a=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((A,x)=>{const M=l.get(x);if(!M)return;g.push(n.Pi.removeMatchingKeys(u,A.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(u,A.addedDocuments,x))));let G=M.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?G=G.withResumeToken(_n.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(x,G),(function(ne,ee,se){return ne.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=PC?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(M,G,A)&&g.push(n.Pi.updateTargetData(u,G))}));let y=ea(),_=Xe();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))})),g.push(qC(u,d,e.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(Ie.min())){const A=n.Pi.getLastRemoteSnapshotVersion(u).next((x=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(A)}return W.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function qC(r,e,n){let a=Xe(),l=Xe();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let d=ea();return n.forEach(((g,y)=>{const _=u.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Ie.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ge(Cp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function HC(r,e){const n=je(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function FC(r,e){const n=je(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,e).next((u=>u?(l=u,W.resolve(l)):n.Pi.allocateTargetId(a).next((d=>(l=new Xa(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function Km(r,e,n){const a=je(r),l=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!hl(d))throw d;ge(Cp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function U_(r,e,n){const a=je(r);let l=Ie.min(),u=Xe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const x=je(y),M=x.xs.get(A);return M!==void 0?W.resolve(x.Ms.get(M)):x.Pi.getTargetData(_,A)})(a,d,yr(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,n?l:Ie.min(),n?u:Xe()))).next((g=>(GC(a,NR(e),g),{documents:g,Qs:u})))))}function GC(r,e,n){let a=r.Os.get(e)||Ie.min();n.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class L_{constructor(){this.activeTargetIds=kR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QC{constructor(){this.Mo=new L_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new L_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="ConnectivityMonitor";class B_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(z_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function Ym(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",YC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Ch?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,n,a,l,u){const d=Ym(),g=this.zo(e,n.toUriEncodedString());ge(vm,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:_}=new URL(g),A=ol(_);return this.Jo(e,g,y,a,A).then((x=>(ge(vm,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw tl(vm,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",a),x}))}Ho(e,n,a,l,u,d){return this.Go(e,n,a,l,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ul})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),a&&a.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const a=YC[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class JC extends XC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,l,u){const d=Ym();return new Promise(((g,y)=>{const _=new y1;_.setWithCredentials(!0),_.listenOnce(v1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case hh.NO_ERROR:const x=_.getResponseJson();ge(In,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case hh.TIMEOUT:ge(In,`RPC '${e}' ${d} timed out`),y(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const M=_.getStatus();if(ge(In,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const te=G==null?void 0:G.error;if(te&&te.status&&te.message){const ne=(function(se){const Te=se.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Te)>=0?Te:Z.UNKNOWN})(te.status);y(new me(ne,te.message))}else y(new me(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new me(Z.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ge(In,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);ge(In,`RPC '${e}' ${d} sending request:`,l),_.send(n,"POST",A,a,15)}))}T_(e,n,a){const l=Ym(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=b1(),g=E1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const A=u.join("");ge(In,`Creating RPC '${e}' stream ${l}: ${A}`,y);const x=d.createWebChannel(A,y);this.I_(x);let M=!1,G=!1;const te=new $C({Yo:ee=>{G?ge(In,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(M||(ge(In,`Opening RPC '${e}' stream ${l} transport.`),x.open(),M=!0),ge(In,`RPC '${e}' stream ${l} sending:`,ee),x.send(ee))},Zo:()=>x.close()}),ne=(ee,se,Te)=>{ee.listen(se,(pe=>{try{Te(pe)}catch(Fe){setTimeout((()=>{throw Fe}),0)}}))};return ne(x,au.EventType.OPEN,(()=>{G||(ge(In,`RPC '${e}' stream ${l} transport opened.`),te.o_())})),ne(x,au.EventType.CLOSE,(()=>{G||(G=!0,ge(In,`RPC '${e}' stream ${l} transport closed`),te.a_(),this.E_(x))})),ne(x,au.EventType.ERROR,(ee=>{G||(G=!0,tl(In,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),te.a_(new me(Z.UNAVAILABLE,"The operation could not be completed")))})),ne(x,au.EventType.MESSAGE,(ee=>{var se;if(!G){const Te=ee.data[0];ut(!!Te,16349);const pe=Te,Fe=(pe==null?void 0:pe.error)||((se=pe[0])==null?void 0:se.error);if(Fe){ge(In,`RPC '${e}' stream ${l} received error:`,Fe);const we=Fe.status;let Le=(function(N){const P=Zt[N];if(P!==void 0)return nE(P)})(we),I=Fe.message;Le===void 0&&(Le=Z.INTERNAL,I="Unknown error status: "+we+" with message "+Fe.message),G=!0,te.a_(new me(Le,I)),x.close()}else ge(In,`RPC '${e}' stream ${l} received:`,Te),te.u_(Te)}})),ne(g,_1.STAT_EVENT,(ee=>{ee.stat===Vm.PROXY?ge(In,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===Vm.NOPROXY&&ge(In,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function _m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(r){return new tC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n,a=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&ge("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="PersistentStream";class yE{constructor(e,n,a,l,u,d,g,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new me(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZC extends yE{constructor(e,n,a,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rC(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ie.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?vr(d.readTime):Ie.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=zm(y)?{documents:oC(u,y)}:{query:lC(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=aE(u,d.resumeToken);const _=Hm(u,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ie.min())>0){g.readTime=jh(u,d.snapshotVersion.toTimestamp());const _=Hm(u,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=cC(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class WC extends yE{constructor(e,n,a,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return ut(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ut(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ut(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sC(e.writeResults,e.commitTime),a=vr(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>aC(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{}class tI extends eI{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Fm(n,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(Z.UNKNOWN,u.toString())}))}Ho(e,n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Fm(n,a),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wr(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo="RemoteStore";class iI{constructor(e,n,a,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{io(this)&&(ge(eo,"Restarting streams for network reachability change."),await(async function(y){const _=je(y);_.Ea.add(4),await Vu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await td(_)})(this))}))})),this.Ra=new nI(a,l)}}async function td(r){if(io(r))for(const e of r.da)await e(!0)}async function Vu(r){for(const e of r.da)await e(!1)}function vE(r,e){const n=je(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Op(n)?Dp(n):dl(n).O_()&&Np(n,e))}function Ip(r,e){const n=je(r),a=dl(n);n.Ia.delete(e),a.O_()&&_E(n,e),n.Ia.size===0&&(a.O_()?a.L_():io(n)&&n.Ra.set("Unknown"))}function Np(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}dl(r).Y_(e)}function _E(r,e){r.Va.Ue(e),dl(r).Z_(e)}function Dp(r){r.Va=new JR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),dl(r).start(),r.Ra.ua()}function Op(r){return io(r)&&!dl(r).x_()&&r.Ia.size>0}function io(r){return je(r).Ea.size===0}function EE(r){r.Va=void 0}async function rI(r){r.Ra.set("Online")}async function aI(r){r.Ia.forEach(((e,n)=>{Np(r,e)}))}async function sI(r,e){EE(r),Op(r)?(r.Ra.ha(e),Dp(r)):r.Ra.set("Unknown")}async function oI(r,e,n){if(r.Ra.set("Online"),e instanceof rE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(a){ge(eo,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Vh(r,a)}else if(e instanceof ph?r.Va.Ze(e):e instanceof iE?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ie.min()))try{const a=await pE(r.localStore);n.compareTo(a)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=u.Ia.get(_);A&&u.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=u.Ia.get(y);if(!A)return;u.Ia.set(y,A.withResumeToken(_n.EMPTY_BYTE_STRING,A.snapshotVersion)),_E(u,y);const x=new Xa(A.target,y,_,A.sequenceNumber);Np(u,x)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(a){ge(eo,"Failed to raise snapshot:",a),await Vh(r,a)}}async function Vh(r,e,n){if(!hl(e))throw e;r.Ea.add(1),await Vu(r),r.Ra.set("Offline"),n||(n=()=>pE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ge(eo,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await td(r)}))}function bE(r,e){return e().catch((n=>Vh(r,n,e)))}async function nd(r){const e=je(r),n=ls(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pp;for(;lI(e);)try{const l=await HC(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,uI(e,l)}catch(l){await Vh(e,l)}TE(e)&&SE(e)}function lI(r){return io(r)&&r.Ta.length<10}function uI(r,e){r.Ta.push(e);const n=ls(r);n.O_()&&n.X_&&n.ea(e.mutations)}function TE(r){return io(r)&&!ls(r).x_()&&r.Ta.length>0}function SE(r){ls(r).start()}async function cI(r){ls(r).ra()}async function hI(r){const e=ls(r);for(const n of r.Ta)e.ea(n.mutations)}async function dI(r,e,n){const a=r.Ta.shift(),l=Tp.from(a,e,n);await bE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await nd(r)}async function fI(r,e){e&&ls(r).X_&&await(async function(a,l){if((function(d){return YR(d)&&d!==Z.ABORTED})(l.code)){const u=a.Ta.shift();ls(a).B_(),await bE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await nd(a)}})(r,e),TE(r)&&SE(r)}async function H_(r,e){const n=je(r);n.asyncQueue.verifyOperationInProgress(),ge(eo,"RemoteStore received new credentials");const a=io(n);n.Ea.add(3),await Vu(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await td(n)}async function mI(r,e){const n=je(r);e?(n.Ea.delete(2),await td(n)):e||(n.Ea.add(2),await Vu(n),n.Ra.set("Unknown"))}function dl(r){return r.ma||(r.ma=(function(n,a,l){const u=je(n);return u.sa(),new ZC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:rI.bind(null,r),t_:aI.bind(null,r),r_:sI.bind(null,r),H_:oI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Op(r)?Dp(r):r.Ra.set("Unknown")):(await r.ma.stop(),EE(r))}))),r.ma}function ls(r){return r.fa||(r.fa=(function(n,a,l){const u=je(n);return u.sa(),new WC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:cI.bind(null,r),r_:fI.bind(null,r),ta:hI.bind(null,r),na:dI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await nd(r)):(await r.fa.stop(),r.Ta.length>0&&(ge(eo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,a,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,u){const d=Date.now()+a,g=new jp(e,n,d,l,u);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(r,e){if(Wr("AsyncQueue",`${e}: ${r}`),hl(r))return new me(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{static emptySet(e){return new $o(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||be.comparator(n.key,a.key):(n,a)=>be.comparator(n.key,a.key),this.keyedMap=su(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new $o;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.ga=new Ot(be.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class sl{constructor(e,n,a,l,u,d,g,y,_){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,a,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new sl(e,n,$o.emptySet(n),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gI{constructor(){this.queries=G_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=je(n),u=l.queries;l.queries=G_(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function G_(){return new no((r=>H1(r)),Xh)}async function AE(r,e){const n=je(r);let a=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(a=2):(u=new pI,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Mp(d,`Initialization of query '${Ho(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Vp(n)}async function wE(r,e){const n=je(r),a=e.query;let l=3;const u=n.queries.get(a);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function yI(r,e){const n=je(r);let a=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&Vp(n)}function vI(r,e,n){const a=je(r),l=a.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);a.queries.delete(e)}function Vp(r){r.Ca.forEach((e=>{e.next()}))}var Xm,Q_;(Q_=Xm||(Xm={})).Ma="default",Q_.Cache="cache";class xE{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new sl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=sl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.key=e}}class CE{constructor(e){this.key=e}}class _I{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=F1(e),this.tu=new $o(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new F_,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,x)=>{const M=l.get(A),G=$h(this.query,x)?x:null,te=!!M&&this.mutatedKeys.has(M.key),ne=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ee=!1;M&&G?M.data.isEqual(G.data)?te!==ne&&(a.track({type:3,doc:G}),ee=!0):this.su(M,G)||(a.track({type:2,doc:G}),ee=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(g=!0)):!M&&G?(a.track({type:0,doc:G}),ee=!0):M&&!G&&(a.track({type:1,doc:M}),ee=!0,(y||_)&&(g=!0)),ee&&(G?(d=d.add(G),u=ne?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,x)=>(function(G,te){const ne=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:ee})}};return ne(G)-ne(te)})(A.type,x.type)||this.eu(A.doc,x.doc))),this.ou(a),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new sl(this.query,e.tu,u,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new F_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new CE(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new RE(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kp="SyncEngine";class EI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class bI{constructor(e){this.key=e,this.hu=!1}}class TI{constructor(e,n,a,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new no((g=>H1(g)),Xh),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(be.comparator),this.Au=new Map,this.Ru=new wp,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SI(r,e,n=!0){const a=ME(r);let l;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await IE(a,e,n,!0),l}async function AI(r,e){const n=ME(r);await IE(n,e,!0,!1)}async function IE(r,e,n,a){const l=await FC(r.localStore,yr(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let g;return a&&(g=await wI(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&vE(r.remoteStore,l),g}async function wI(r,e,n,a,l){r.pu=(x,M,G)=>(async function(ne,ee,se,Te){let pe=ee.view.ru(se);pe.Cs&&(pe=await U_(ne.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,pe))));const Fe=Te&&Te.targetChanges.get(ee.targetId),we=Te&&Te.targetMismatches.get(ee.targetId)!=null,Le=ee.view.applyChanges(pe,ne.isPrimaryClient,Fe,we);return Y_(ne,ee.targetId,Le.au),Le.snapshot})(r,x,M,G);const u=await U_(r.localStore,e,!0),d=new _I(e,u.Qs),g=d.ru(u.documents),y=Mu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);Y_(r,n,_.au);const A=new EI(e,n,d);return r.Tu.set(e,A),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),_.snapshot}async function xI(r,e,n){const a=je(r),l=a.Tu.get(e),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((d=>!Xh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Km(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Ip(a.remoteStore,l.targetId),$m(a,l.targetId)})).catch(cl)):($m(a,l.targetId),await Km(a.localStore,l.targetId,!0))}async function RI(r,e){const n=je(r),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Ip(n.remoteStore,a.targetId))}async function CI(r,e,n){const a=VI(r);try{const l=await(function(d,g){const y=je(d),_=St.now(),A=g.reduce(((G,te)=>G.add(te.key)),Xe());let x,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let te=ea(),ne=Xe();return y.Ns.getEntries(G,A).next((ee=>{te=ee,te.forEach(((se,Te)=>{Te.isValidDocument()||(ne=ne.add(se))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,te))).next((ee=>{x=ee;const se=[];for(const Te of g){const pe=HR(Te,x.get(Te.key).overlayedDocument);pe!=null&&se.push(new ds(Te.key,pe,V1(pe.value.mapValue),Hi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,se,g)})).next((ee=>{M=ee;const se=ee.applyToLocalDocumentSet(x,ne);return y.documentOverlayCache.saveOverlays(G,ee.batchId,se)}))})).then((()=>({batchId:M.batchId,changes:Q1(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Ot(Ye)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,n),await ku(a,l.changes),await nd(a.remoteStore)}catch(l){const u=Mp(l,"Failed to persist write");n.reject(u)}}async function NE(r,e){const n=je(r);try{const a=await BC(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(ut(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ut(d.hu,14607):l.removedDocuments.size>0&&(ut(d.hu,42227),d.hu=!1))})),await ku(n,a,e)}catch(a){await cl(a)}}function K_(r,e,n){const a=je(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=je(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,x)=>{for(const M of x.Sa)M.va(g)&&(_=!0)})),_&&Vp(y)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function II(r,e,n){const a=je(r);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),u=l&&l.key;if(u){let d=new Ot(be.comparator);d=d.insert(u,Dn.newNoDocument(u,Ie.min()));const g=Xe().add(u),y=new Wh(Ie.min(),new Map,new Ot(Ye),d,g);await NE(a,y),a.du=a.du.remove(u),a.Au.delete(e),Pp(a)}else await Km(a.localStore,e,!1).then((()=>$m(a,e,n))).catch(cl)}async function NI(r,e){const n=je(r),a=e.batch.batchId;try{const l=await zC(n.localStore,e);OE(n,a,null),DE(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await ku(n,l)}catch(l){await cl(l)}}async function DI(r,e,n){const a=je(r);try{const l=await(function(d,g){const y=je(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((x=>(ut(x!==null,37113),A=x.keys(),y.mutationQueue.removeMutationBatch(_,x)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);OE(a,e,n),DE(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await ku(a,l)}catch(l){await cl(l)}}function DE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function OE(r,e,n){const a=je(r);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function $m(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||jE(r,a)}))}function jE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Ip(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Pp(r))}function Y_(r,e,n){for(const a of n)a instanceof RE?(r.Ru.addReference(a.key,e),OI(r,a)):a instanceof CE?(ge(kp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||jE(r,a.key)):Re(19791,{wu:a})}function OI(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(ge(kp,"New document in limbo: "+n),r.Eu.add(a),Pp(r))}function Pp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new be(_t.fromString(e)),a=r.fu.next();r.Au.set(a,new bI(n)),r.du=r.du.insert(n,a),vE(r.remoteStore,new Xa(yr(Yh(n.path)),a,"TargetPurposeLimboResolution",Gh.ce))}}async function ku(r,e,n){const a=je(r),l=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,n).then((_=>{var A;if((_||n)&&a.isPrimaryClient){const x=_?!_.fromCache:(A=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:A.current;a.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(_){l.push(_);const x=Rp.As(y.targetId,_);u.push(x)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=je(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>W.forEach(_,(M=>W.forEach(M.Es,(G=>A.persistence.referenceDelegate.addReference(x,M.targetId,G))).next((()=>W.forEach(M.ds,(G=>A.persistence.referenceDelegate.removeReference(x,M.targetId,G)))))))))}catch(x){if(!hl(x))throw x;ge(Cp,"Failed to update sequence numbers: "+x)}for(const x of _){const M=x.targetId;if(!x.fromCache){const G=A.Ms.get(M),te=G.snapshotVersion,ne=G.withLastLimboFreeSnapshotVersion(te);A.Ms=A.Ms.insert(M,ne)}}})(a.localStore,u))}async function jI(r,e){const n=je(r);if(!n.currentUser.isEqual(e)){ge(kp,"User change. New user:",e.toKey());const a=await mE(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new me(Z.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ku(n,a.Ls)}}function MI(r,e){const n=je(r),a=n.Au.get(e);if(a&&a.hu)return Xe().add(a.key);{let l=Xe();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function ME(r){const e=je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=II.bind(null,e),e.Pu.H_=yI.bind(null,e.eventManager),e.Pu.yu=vI.bind(null,e.eventManager),e}function VI(r){const e=je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DI.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return LC(this.persistence,new kC,e.initialUser,this.serializer)}Cu(e){return new fE(xp.mi,this.serializer)}Du(e){return new QC}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class kI extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Mh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new bC(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new fE((a=>Mh.mi(a,n)),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>K_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=jI.bind(null,this.syncEngine),await mI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gI})()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),a=(function(u){return new JC(u)})(e.databaseInfo);return(function(u,d,g,y){return new tI(u,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,u,d,g){return new iI(a,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>K_(this.syncEngine,n,0)),(function(){return B_.v()?new B_:new KC})())}createSyncEngine(e,n){return(function(l,u,d,g,y,_,A){const x=new TI(l,u,d,g,y,_);return A&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=je(l);ge(eo,"RemoteStore shutting down."),u.Ea.add(5),await Vu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class PI{constructor(e,n,a,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=Nn.UNAUTHENTICATED,this.clientId=mp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{ge(us,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ge(us,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Mp(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Em(r,e){r.asyncQueue.verifyOperationInProgress(),ge(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await mE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function X_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await UI(r);ge(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>H_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>H_(e.remoteStore,l))),r._onlineComponents=e}async function UI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(us,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await Em(r,new kh)}}else ge(us,"Using default OfflineComponentProvider"),await Em(r,new kI(void 0));return r._offlineComponents}async function kE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(us,"Using user provided OnlineComponentProvider"),await X_(r,r._uninitializedComponentsProvider._online)):(ge(us,"Using default OnlineComponentProvider"),await X_(r,new Jm))),r._onlineComponents}function LI(r){return kE(r).then((e=>e.syncEngine))}async function Zm(r){const e=await kE(r),n=e.eventManager;return n.onListen=SI.bind(null,e.syncEngine),n.onUnlisten=xI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RI.bind(null,e.syncEngine),n}function zI(r,e,n={}){const a=new es;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,_){const A=new VE({next:M=>{A.Nu(),d.enqueueAndForget((()=>wE(u,x)));const G=M.docs.has(g);!G&&M.fromCache?_.reject(new me(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&y&&y.source==="server"?_.reject(new me(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),x=new xE(Yh(g.path),A,{includeMetadataChanges:!0,qa:!0});return AE(u,x)})(await Zm(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firestore.googleapis.com",J_=!0;class Z_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UE,this.ssl=J_}else this.host=e.host,this.ssl=e.ssl??J_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_C)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Kx;switch(a.type){case"firstParty":return new Jx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=$_.get(n);a&&(ge("ComponentProvider","Removing Datastore"),$_.delete(n),a.terminate())})(this),Promise.resolve()}}function BI(r,e,n,a={}){var _;r=qi(r,id);const l=ol(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(x2(`https://${g}`),R2("Firestore",!0)),u.host!==UE&&u.host!==g&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:a};if(!Xs(y,d)&&(r._setSettings(y),a.mockUserToken)){let A,x;if(typeof a.mockUserToken=="string")A=a.mockUserToken,x=Nn.MOCK_USER;else{A=iS(a.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const M=a.mockUserToken.sub||a.mockUserToken.user_id;if(!M)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Nn(M)}r._authCredentials=new Yx(new S1(A,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new fl(this.firestore,e,this._query)}}class Lt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Du(n,Lt._jsonSchema))return new Lt(e,a||null,new be(_t.fromString(n.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:en("string",Lt._jsonSchemaVersion),referencePath:en("string")};class ts extends fl{constructor(e,n,a){super(e,n,Yh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new be(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function W_(r,e,...n){if(r=It(r),A1("collection","path",e),r instanceof id){const a=_t.fromString(e,...n);return h_(a),new ts(r,null,a)}{if(!(r instanceof Lt||r instanceof ts))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_t.fromString(e,...n));return h_(a),new ts(r.firestore,null,a)}}function Un(r,e,...n){if(r=It(r),arguments.length===1&&(e=mp.newId()),A1("doc","path",e),r instanceof id){const a=_t.fromString(e,...n);return c_(a),new Lt(r,null,new be(a))}{if(!(r instanceof Lt||r instanceof ts))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(_t.fromString(e,...n));return c_(a),new Lt(r.firestore,r instanceof ts?r.converter:null,new be(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="AsyncQueue";class t2{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gE(this,"async_queue_retry"),this._c=()=>{const a=_m();a&&ge(e2,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=_m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=_m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;ge(e2,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Wr("INTERNAL UNHANDLED ERROR: ",n2(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=jp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Re(47125,{Pc:n2(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function n2(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class to extends id{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new t2,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t2(e),this._firestoreClient=void 0,await e}}}function qI(r,e){const n=typeof r=="object"?r:D2(),a=typeof r=="string"?r:Ch,l=rp(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=tS("firestore");u&&BI(l,...u)}return l}function Up(r){if(r._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||HI(r),r._firestoreClient}function HI(r){var a,l,u;const e=r._freezeSettings(),n=(function(g,y,_,A){return new mR(g,y,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,PE(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new PI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(_n.fromBase64String(e))}catch(n){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ni(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Du(e,Ni._jsonSchema))return Ni.fromBase64String(e.bytes)}}Ni._jsonSchemaVersion="firestore/bytes/1.0",Ni._jsonSchema={type:en("string",Ni._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(Du(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:en("string",_r._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Er._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Du(e,Er._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Er(e.vectorValues);throw new me(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Er._jsonSchemaVersion="firestore/vectorValue/1.0",Er._jsonSchema={type:en("string",Er._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=/^__.*__$/;class GI{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}class LE{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:r})}}class Lp{constructor(e,n,a,l,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Lp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(zE(this.Ac)&&FI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QI{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||ed(e)}Cc(e,n,a,l=!1){return new Lp({Ac:e,methodName:n,Dc:a,path:vn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zp(r){const e=r._freezeSettings(),n=ed(r._databaseId);return new QI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function KI(r,e,n,a,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);qp("Data must be an object, but it was:",d,a);const g=BE(a,d);let y,_;if(u.merge)y=new di(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const x of u.mergeFields){const M=Wm(e,x,n);if(!d.contains(M))throw new me(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);HE(A,M)||A.push(M)}y=new di(A),_=d.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,_=d.fieldTransforms;return new GI(new $n(g),y,_)}class sd extends ad{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sd}}class Bp extends ad{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Au(e.serializer,X1(e.serializer,this.Fc));return new LR(e.path,n)}isEqual(e){return e instanceof Bp&&this.Fc===e.Fc}}function YI(r,e,n,a){const l=r.Cc(1,e,n);qp("Data must be an object, but it was:",l,a);const u=[],d=$n.empty();hs(a,((y,_)=>{const A=Hp(e,y,n);_=It(_);const x=l.yc(A);if(_ instanceof sd)u.push(A);else{const M=Pu(_,x);M!=null&&(u.push(A),d.set(A,M))}}));const g=new di(u);return new LE(d,g,l.fieldTransforms)}function XI(r,e,n,a,l,u){const d=r.Cc(1,e,n),g=[Wm(e,a,n)],y=[l];if(u.length%2!=0)throw new me(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<u.length;M+=2)g.push(Wm(e,u[M])),y.push(u[M+1]);const _=[],A=$n.empty();for(let M=g.length-1;M>=0;--M)if(!HE(_,g[M])){const G=g[M];let te=y[M];te=It(te);const ne=d.yc(G);if(te instanceof sd)_.push(G);else{const ee=Pu(te,ne);ee!=null&&(_.push(G),A.set(G,ee))}}const x=new di(_);return new LE(A,x,d.fieldTransforms)}function $I(r,e,n,a=!1){return Pu(n,r.Cc(a?4:3,e))}function Pu(r,e){if(qE(r=It(r)))return qp("Unsupported field value:",e,r),BE(r,e);if(r instanceof ad)return(function(a,l){if(!zE(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const g of a){let y=Pu(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(r,e)}return(function(a,l){if((a=It(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return X1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=St.fromDate(a);return{timestampValue:jh(l.serializer,u)}}if(a instanceof St){const u=new St(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:jh(l.serializer,u)}}if(a instanceof _r)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ni)return{bytesValue:aE(l.serializer,a._byteString)};if(a instanceof Lt){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ap(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Er)return(function(d,g){return{mapValue:{fields:{[j1]:{stringValue:M1},[Ih]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ep(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Fh(a)}`)})(r,e)}function BE(r,e){const n={};return R1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(r,((a,l)=>{const u=Pu(l,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function qE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof St||r instanceof _r||r instanceof Ni||r instanceof Lt||r instanceof ad||r instanceof Er)}function qp(r,e,n){if(!qE(n)||!w1(n)){const a=Fh(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Wm(r,e,n){if((e=It(e))instanceof rd)return e._internalPath;if(typeof e=="string")return Hp(r,e);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const JI=new RegExp("[~\\*/\\[\\]]");function Hp(r,e,n){if(e.search(JI)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new rd(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,e,n,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new me(Z.INVALID_ARGUMENT,g+r+y)}function HE(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n,a,l,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Fp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZI extends FE{data(){return super.data()}}function Fp(r,e){return typeof e=="string"?Hp(r,e):e instanceof rd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gp{}class eN extends Gp{}function r2(r,e,...n){let a=[];e instanceof Gp&&a.push(e),a=a.concat(n),(function(u){const d=u.filter((y=>y instanceof Qp)).length,g=u.filter((y=>y instanceof od)).length;if(d>1||d>0&&g>0)throw new me(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class od extends eN{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new od(e,n,a)}_apply(e){const n=this._parse(e);return GE(e._query,n),new fl(e.firestore,e.converter,Bm(e._query,n))}_parse(e){const n=zp(e.firestore);return(function(u,d,g,y,_,A,x){let M;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new me(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){s2(x,A);const te=[];for(const ne of x)te.push(a2(y,u,ne));M={arrayValue:{values:te}}}else M=a2(y,u,x)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||s2(x,A),M=$I(g,d,x,A==="in"||A==="not-in");return Wt.create(_,A,M)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tN(r,e,n){const a=e,l=Fp("where",r);return od._create(l,a,n)}class Qp extends Gp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qp(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)GE(d,y),d=Bm(d,y)})(e._query,n),new fl(e.firestore,e.converter,Bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function a2(r,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new me(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q1(e)&&n.indexOf("/")!==-1)throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(_t.fromString(n));if(!be.isDocumentKey(a))throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return __(r,new be(a))}if(n instanceof Lt)return __(r,n._key);throw new me(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function s2(r,e){if(!Array.isArray(r)||r.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GE(r,e){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class nN{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ss(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return hs(e,((l,u)=>{a[l]=this.convertValue(u,n)})),a}convertVectorValue(e){var a,l,u;const n=(u=(l=(a=e.fields)==null?void 0:a[Ih].arrayValue)==null?void 0:l.values)==null?void 0:u.map((d=>Ft(d.doubleValue)));return new Er(n)}convertGeoPoint(e){return new _r(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Kh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=as(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=_t.fromString(e);ut(hE(a),9688,{name:e});const l=new Eu(a.get(1),a.get(3)),u=new be(a.popFirst(5));return l.isEqual(n)||Wr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class lu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ys extends FE{constructor(e,n,a,l,u,d){super(e,n,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Fp("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ys._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ys._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ys._jsonSchema={type:en("string",Ys._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class gh extends Ys{data(e={}){return super.data(e)}}class Jo{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new lu(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new gh(this._firestore,this._userDataWriter,a.key,a,new lu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new gh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new lu(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new gh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new lu(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:rN(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Jo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=mp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function rN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(r){r=qi(r,Lt);const e=qi(r.firestore,to);return zI(Up(e),r._key).then((n=>KE(e,r,n)))}Jo._jsonSchemaVersion="firestore/querySnapshot/1.0",Jo._jsonSchema={type:en("string",Jo._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class QE extends nN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function tu(r,e,n){r=qi(r,Lt);const a=qi(r.firestore,to),l=iN(r.converter,e,n);return Kp(a,[KI(zp(a),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Hi.none())])}function xi(r,e,n,...a){r=qi(r,Lt);const l=qi(r.firestore,to),u=zp(l);let d;return d=typeof(e=It(e))=="string"||e instanceof rd?XI(u,"updateDoc",r._key,e,n,a):YI(u,"updateDoc",r._key,e),Kp(l,[d.toMutation(r._key,Hi.exists(!0))])}function o2(r){return Kp(qi(r.firestore,to),[new bp(r._key,Hi.none())])}function l2(r,...e){var y,_,A;r=It(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||i2(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(i2(e[a])){const x=e[a];e[a]=(y=x.next)==null?void 0:y.bind(x),e[a+1]=(_=x.error)==null?void 0:_.bind(x),e[a+2]=(A=x.complete)==null?void 0:A.bind(x)}let u,d,g;if(r instanceof Lt)d=qi(r.firestore,to),g=Yh(r._key.path),u={next:x=>{e[a]&&e[a](KE(d,r,x))},error:e[a+1],complete:e[a+2]};else{const x=qi(r,fl);d=qi(x.firestore,to),g=x._query;const M=new QE(d);u={next:G=>{e[a]&&e[a](new Jo(d,M,x,G))},error:e[a+1],complete:e[a+2]},WI(r._query)}return(function(M,G,te,ne){const ee=new VE(ne),se=new xE(G,ee,te);return M.asyncQueue.enqueueAndForget((async()=>AE(await Zm(M),se))),()=>{ee.Nu(),M.asyncQueue.enqueueAndForget((async()=>wE(await Zm(M),se)))}})(Up(d),g,l,u)}function Kp(r,e){return(function(a,l){const u=new es;return a.asyncQueue.enqueueAndForget((async()=>CI(await LI(a),l,u))),u.promise})(Up(r),e)}function KE(r,e,n){const a=n.docs.get(e._key),l=new QE(r);return new Ys(r,l,e._key,a,new lu(n.hasPendingWrites,n.fromCache),e.converter)}function aN(r){return new Bp("increment",r)}(function(e,n=!0){(function(l){ul=l})(ll),Wo(new $s("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),g=new to(new Xx(a.getProvider("auth-internal")),new Zx(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(_.options.projectId,A)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Za(s_,o_,e),Za(s_,o_,"esm2020")})();const sN=["2020-02-24","2020-02-25","2020-04-10","2020-04-21","2020-05-01","2020-06-11","2020-06-12","2020-09-07","2020-09-08","2020-10-12","2020-11-02","2020-11-03","2020-11-15","2020-12-11","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-02-16","2021-04-01","2021-04-02","2021-04-21","2021-05-01","2021-06-03","2021-06-04","2021-09-06","2021-09-07","2021-09-08","2021-10-11","2021-10-12","2021-11-01","2021-11-02","2021-11-15","2021-12-17","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15","2022-01-16","2022-01-17","2022-01-18","2022-01-19","2022-01-20","2022-02-28","2022-03-01","2022-04-14","2022-04-15","2022-04-21","2022-04-22","2022-05-01","2022-06-16","2022-06-17","2022-09-07","2022-09-08","2022-09-09","2022-10-12","2022-10-31","2022-11-01","2022-11-02","2022-11-14","2022-11-15","2022-12-19","2022-12-20","2022-12-21","2022-12-22","2022-12-23","2022-12-24","2022-12-25","2022-12-26","2022-12-27","2022-12-28","2022-12-29","2022-12-30","2022-12-31","2023-01-01","2023-01-02","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-07","2023-01-08","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-14","2023-01-15","2023-01-16","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-02-20","2023-02-21","2023-04-06","2023-04-07","2023-04-21","2023-05-01","2023-06-08","2023-06-09","2023-09-07","2023-09-08","2023-10-12","2023-10-13","2023-10-28","2023-11-02","2023-11-03","2023-11-15","2023-12-08","2023-12-19","2023-12-20","2023-12-21","2023-12-22","2023-12-23","2023-12-24","2023-12-25","2023-12-26","2023-12-27","2023-12-28","2023-12-29","2023-12-30","2023-12-31","2024-01-01","2024-01-02","2024-01-03","2024-01-04","2024-01-05","2024-01-06","2024-01-07","2024-01-08","2024-01-09","2024-01-10","2024-01-11","2024-01-12","2024-01-13","2024-01-14","2024-01-15","2024-01-16","2024-01-17","2024-01-18","2024-01-19","2024-01-20","2024-02-12","2024-02-13","2024-03-28","2024-03-29","2024-04-21","2024-05-01","2024-05-30","2024-05-31","2024-09-07","2024-09-08","2024-10-12","2024-10-16","2024-11-02","2024-11-15","2024-11-20","2024-12-08","2024-12-18","2024-12-19","2024-12-20","2024-12-21","2024-12-22","2024-12-23","2024-12-24","2024-12-25","2024-12-26","2024-12-27","2024-12-28","2024-12-29","2024-12-30","2024-12-31","2025-01-01","2025-01-02","2025-01-03","2025-01-04","2025-01-05","2025-01-06","2025-01-07","2025-01-08","2025-01-09","2025-01-10","2025-01-11","2025-01-12","2025-01-13","2025-01-14","2025-01-15","2025-01-16","2025-01-17","2025-01-18","2025-01-19","2025-01-20","2025-03-03","2025-03-04","2025-04-17","2025-04-18","2025-04-21","2025-05-01","2025-06-19","2025-06-20","2025-09-07","2025-09-08","2025-10-12","2025-10-28","2025-11-02","2025-11-15","2025-11-20","2025-12-08","2025-12-19"],oN=["2020-05-11","2020-06-30","2021-08-02","2021-09-13","2022-03-21","2022-03-22","2022-04-01","2022-06-13","2022-06-27","2022-08-08","2022-08-22","2022-08-31","2022-09-14","2022-09-27","2022-11-08","2022-11-24","2022-12-02","2022-12-05","2022-12-09","2022-12-13","2023-07-13","2023-07-31","2023-08-01","2023-08-30","2023-08-31","2023-09-01","2023-09-04","2023-09-05","2024-04-23","2024-06-21","2024-07-24","2024-09-13"],lN=[{start:"2013-02-01",value:131.87},{start:"2014-03-07",value:139.2},{start:"2015-02-06",value:148.12},{start:"2016-02-19",value:163.92},{start:"2017-02-02",value:174.23},{start:"2018-02-02",value:179.37},{start:"2019-02-01",value:186.1},{start:"2020-02-01",value:194.12},{start:"2021-02-01",value:202.89},{start:"2022-02-01",value:223.3},{start:"2023-02-01",value:236.23},{start:"2023-07-04",value:236.23},{start:"2024-02-01",value:247.14},{start:"2025-02-03",value:259.08}],uN=[{start:"2014-01-29",value:153.86},{start:"2014-05-28",value:153.86},{start:"2015-01-19",value:163.8},{start:"2015-06-16",value:163.8},{start:"2016-02-11",value:181.34},{start:"2016-06-13",value:181.34},{start:"2018-01-25",value:198.95},{start:"2018-04-25",value:198.95},{start:"2018-09-20",value:198.95},{start:"2018-12-18",value:198.95},{start:"2019-03-07",value:206.63},{start:"2020-01-20",value:214.71},{start:"2020-02-14",value:214.71},{start:"2021-06-02",value:223.79},{start:"2024-05-15",value:1022}],cN=[{start:"2014-01-01",value:37.33},{start:"2015-01-01",value:39.89},{start:"2016-01-01",value:43.65},{start:"2017-01-01",value:47.34},{start:"2018-01-01",value:48.54},{start:"2019-01-01",value:50.73},{start:"2020-01-01",value:52.17},{start:"2022-01-01",value:59.31},{start:"2024-01-01",value:66.85}],u2=""+new URL("WhatsApp Image 2025-12-16 at 16.54.26-CihH5Q5F.jpeg",import.meta.url).href,Tm="triario_state_v2",hN=3,Ri="users",nu="adminRequests",c2="triario_remember_login",uu={apiKey:"AIzaSyCNUcWaY7_LfXKmnQ7O72_x1iCrt-7EJ1w",authDomain:"simba-99aa9.firebaseapp.com",projectId:"simba-99aa9",storageBucket:"simba-99aa9.firebasestorage.app",messagingSenderId:"551435844538",appId:"1:551435844538:web:3664ee17b9a6f1f728fb83"},ep=!!(uu.apiKey&&uu.authDomain&&uu.projectId&&uu.appId),Uh=ep?N2(uu):null,yt=Uh?Gx(Uh):null,Je=Uh?qI(Uh):null;yt&&(yt.languageCode="pt-BR");const dN=r=>(r==null?void 0:r.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean))??[],fN=dN("03788983299@tjpr.jus.br,rodrigo.louzano@tjpr.jus.br,11804338907@tjpr.jus.br"),Fa="tjpr.jus.br".trim().toLowerCase(),Zo={tipo:"",acordo:"",valido:"",desist:"",valida:"",sigla:"",interp:"",decrec:"",camara:"",camaraArea:"",camaraNumero:"",emaberto:"",envio:"",consulta:"no",leitura:"",emdobro:"",multa:"",motivo:"",dispensa:"",gratuidade:"",deferida:"",movdef:"",requerida:"",movped:"",atoincomp:"",comprova:"",apos16:"",grumov:"",grumovComp:"",valorst:"",guiavinc:"",guia:"",guiorig:"",comp:"",funjusmov:"",comptipo:"",codbar:"",valorfj:"",funjusObs:"",parcialTipo:"",parcialOutro:"",usarIntegral:!1,subscritor:"",nomemovi:"",movis:"",cadeia:"",faltante:"",suspefeito:"",autuado:"",exclusivi:"",cadastrada:"",regular:"",contrarra:"",contramovis:"",intimado:"",intimovi:"",crraberto:"",decursocrr:"",semadv:"",emepe:"",mani:"",teormani:"",manimovis:"",decursomp:"",remetido:"",anotacoes:""},YE=r=>new Date(`${r}T00:00:00`),XE=r=>{const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0");return`${r.getFullYear()}-${n}-${e}`},Yp=r=>[...r].sort((e,n)=>new Date(e.start).getTime()-new Date(n.start).getTime()),mN=Yp(lN),pN=Yp(uN),gN=Yp(cN),yN=new Set(sN),vN=new Set(oN),_N=r=>new Date(r.getFullYear(),r.getMonth(),r.getDate()),Gs=(r,e)=>{const n=new Date(r);return n.setDate(n.getDate()+e),n},EN=r=>yN.has(XE(r)),bN=r=>vN.has(XE(r)),$E=r=>{const e=r.getDay();return e===0||e===6?!1:!EN(r)},h2=r=>$E(r)&&!bN(r),TN=r=>{let e=_N(r);for(;!$E(e);)e=Gs(e,1);return e},Sm=(r,e)=>{if(!r)return{value:0};let n;for(const a of e)if(r>=YE(a.start))n=a;else break;return n?{value:n.value,start:n.start}:{value:0}},zi=r=>{if(!r)return"";const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),a=r.getFullYear();return`${e}.${n}.${a}`},SN=r=>r?r.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",Lh=r=>r?zi(YE(r)):"",AN=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),Ci=r=>Number.isFinite(r)?AN.format(r):"R$ 0,00",ns=r=>r?new Date(`${r}T00:00:00`):null,wN=r=>{if(!r)return null;const e=new Date(r);return Number.isNaN(e.getTime())?null:e},xN=r=>r.trim().replace(/[\\/:*?"<>|]/g,"-").replace(/\s+/g,"_"),RN=r=>{try{const e=localStorage.getItem(r);if(!e)return{state:Zo,savedAt:null};const n=JSON.parse(e),a=n.state||n,l={...Zo,...a};if(!l.parcialTipo&&(a!=null&&a.parcial)){const d=a.parcial;l.parcialTipo=d==="sim"?"COHAB Londrina":d==="no"?"no":""}if(!l.grumov){const d=a==null?void 0:a.guiast,g=a==null?void 0:a.compst;d&&g&&d!==g?l.grumov=`${d}; ${g}`:l.grumov=d||g||""}if(l.grumovComp||(l.grumovComp=l.grumov||""),!l.funjusmov){const d=a==null?void 0:a.guiamov,g=a==null?void 0:a.compmov;d&&g&&d!==g?l.funjusmov=`${d}; ${g}`:l.funjusmov=d||g||""}l.usarIntegral===void 0&&(l.usarIntegral=!1),l.consulta===""&&(l.consulta="no");const u=wN(n.savedAt);return{state:l,savedAt:u}}catch{return{state:Zo,savedAt:null}}},Qs=r=>r.trim().toLowerCase(),Am=r=>r==="dark"||r==="light"||r==="system"?r:"system",CN=r=>(r.email?Qs(r.email):"")||r.uid,d2=r=>{const e=Date.parse(r);return Number.isNaN(e)?0:e},IN=(r,e)=>{if(r.role!==e.role)return e.role==="admin"?e:r;if(r.active!==e.active)return e.active?e:r;const n=d2(r.updatedAt),a=d2(e.updatedAt);if(a!==n)return a>n?e:r;const l=r.triageCount||0,u=e.triageCount||0;return u!==l&&u>l?e:r},NN=r=>{const e=new Map;return r.forEach(n=>{const a=CN(n),l=e.get(a);if(!l){e.set(a,n);return}e.set(a,IN(l,n))}),Array.from(e.values())},ah=r=>Qs(r).endsWith(`@${Fa}`),f2=r=>{const e=r.trim().split(/\s+/).filter(Boolean);return e.length===0?"U":e.length===1?e[0].slice(0,2).toUpperCase():`${e[0][0]}${e[e.length-1][0]}`.toUpperCase()},Pt=r=>{const e=r;switch(e.code){case"auth/invalid-email":return"E-mail invlido.";case"auth/user-not-found":return"Usurio no encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/invalid-credential":return"Credenciais invlidas.";case"auth/email-already-in-use":return"Este e-mail j est cadastrado.";case"auth/weak-password":return"A senha precisa ter pelo menos 6 caracteres.";case"auth/too-many-requests":return"Muitas tentativas. Aguarde alguns minutos e tente novamente.";case"auth/network-request-failed":return"Falha de rede. Verifique sua conexo.";case"permission-denied":return"Permisso negada para esta ao.";default:return e.message||"Falha ao autenticar."}},DN=r=>{const e=ns(r.envio),n=ns(r.interp);if(!e||!n)return{status:"pendente",mensagem:"Preencha envio da intimao e interposio."};const a=r.emdobro==="em dobro"?30:15,l=r.consulta==="sim"?ns(r.leitura):null,u=Gs(e,10),d=l&&l<=u?l:u,g=TN(d);let y=Gs(g,1);for(;!h2(y);)y=Gs(y,1);let _=y;const A=[_];for(;A.length<a;){for(_=Gs(_,1);!h2(_);)_=Gs(_,1);A.push(_)}return{status:n<=_?"tempestivo":"intempestivo",intim:g,comeco:y,venc:_,prazo:a}},ON=(r,e)=>{const n=g=>g||"",a=r.valorfj.trim(),l=Number(a||0),u=r.dispensa==="no"&&r.gratuidade==="no invocada"&&a!==""&&Number.isFinite(l)&&l<e.deverFJ,d=["Resumo - Portal de Triagem",`Data: ${new Date().toLocaleString("pt-BR")}`,`Sigla: ${n(r.sigla)}`,"",`Tipo: ${n(r.tipo)}`,`Interposio: ${n(r.interp)}`,`Deciso recorrida: ${n(r.decrec)}`,`Cmara: ${n(JE(r))}`,"",`Tempestivo: ${e.tempest.status}`,`Intimao: ${zi(e.tempest.intim)}`,`Comeo do prazo: ${zi(e.tempest.comeco)}`,`Prazo: ${e.tempest.prazo||""} dias`,`Vencimento: ${zi(e.tempest.venc)}`,"",`GRU: ${e.grout}`,`Funjus: ${e.funjout}`,`Pagamento parcial: ${e.parcialout}`,`Valores devidos - ${e.stLabel}: ${Ci(e.deverST)} | FUNJUS: ${Ci(e.deverFJ)}`,`Base de custas: ${e.stLabel} ${Lh(e.stRateStart)} | FUNJUS ${Lh(e.fjRateStart)}`,"",`Procurao/Nomeao: ${e.procurout}`,`Exclusividade na intimao: ${e.exclusout}`,`Efeito suspensivo: ${e.suspefout}`,"",`Contrarrazes: ${e.controut}`,`Ministrio Pblico: ${e.mpout}`];return e.observacoes.length&&(d.push("","Observaes/Minutas:"),e.observacoes.forEach((g,y)=>d.push(`${y+1}. ${g}`))),u&&r.funjusObs.trim()&&d.push("",`Justificativa Funjus: ${r.funjusObs.trim()}`),r.anotacoes.trim()&&d.push("","Notas manuais:",r.anotacoes.trim()),d.join(`
`)},jN=r=>r.dispensa==="sim"?"dispensado (CPC, art. 1.007, 1)":r.gratuidade==="j  ou afirma ser beneficirio"&&r.atoincomp!=="sim"?r.deferida==="sim"?`justia gratuita mov. ${r.movdef||"?"}`:r.requerida==="sim"?`justia gratuita mov. ${r.movped||"?"}`:"justia gratuita requerida no recurso":r.gratuidade==="requer no recurso em anlise"?"justia gratuita requerida no recurso":r.gratuidade===" o prprio objeto do recurso"?"justia gratuita  o prprio objeto":r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"?"justia gratuita presumida (defensor pblico, dativo ou NPJ)":null,MN=r=>{const e=DN(r),n=ns(r.interp),a=r.tipo==="Especial"?"STJ":r.tipo==="Extraordinrio"?"STF":"STJ/STF",l=r.tipo==="Especial"?Sm(n,mN):r.tipo==="Extraordinrio"?Sm(n,pN):{value:0},u=Sm(n,gN),d=l.value,g=u.value,y=jN(r),_=r.contrarra==="apresentadas"?r.contramovis?`mov(s). ${r.contramovis}`:"apresentadas":r.contrarra==="ausente alguma"?r.contramovis?`mov(s). ${r.contramovis}`:"ausente alguma":r.contrarra==="ausentes"?r.intimado==="sim"&&r.crraberto==="no"&&r.decursocrr==="sim"?"no":r.intimado==="no"&&r.semadv==="sim"?"sem adv.":"vide obs.":"vide obs.",A=(()=>{if(r.emepe==="no")return"N/A";if(r.mani==="sim"){const j=r.teormani||"mera cincia";return r.manimovis?`${j}; mov. ${r.manimovis}`:j}return r.remetido==="sim"&&r.decursomp==="sim"?"deixou de se manifestar":"vide obs."})(),x=(()=>{var C,ze;if(y)return y;const j=(C=r.grumov)==null?void 0:C.trim(),S=(ze=r.grumovComp)==null?void 0:ze.trim();return j&&S&&j!==S?`GRU guia mov. ${j}; comprovante mov. ${S}`:j||S?`GRU mov. ${j||S}`:"GRU no localizada"})(),M=(()=>{if(y)return y;const j=r.guia==="sim"?`guia mov. ${r.funjusmov||"?"}`:"guia no localizada",S=r.comp==="sim"?`comprovante mov. ${r.funjusmov||"?"}`:"comprovante no localizado";return`${j}; ${S}`})(),G=!r.parcialTipo||r.parcialTipo==="no"?"No informado":r.parcialTipo==="outros"?r.parcialOutro?`Parcial: ${r.parcialOutro}`:"Parcial: outros (especificar)":`Parcial: ${r.parcialTipo}`,te=r.subscritor==="procurador pblico"||r.subscritor==="advogado em causa prpria"?r.subscritor||"N/A":r.subscritor==="procurador nomeado"?r.nomemovi?`mov. ${r.nomemovi}`:"nomeao no localizada":r.subscritor==="advogado particular"&&r.movis?`mov(s). ${r.movis}`:r.subscritor==="advogado particular"?"movimentos no informados":"N/A",ne=r.exclusivi==="no requerida"?"no requerida":r.exclusivi==="requerida"&&r.cadastrada==="sim"?"requerida e j cadastrada":r.exclusivi==="requerida"&&r.regular==="sim"?"requerida":r.exclusivi==="requerida"&&r.regular==="no"?"requerida, mas sem poderes":"N/A",ee=r.suspefeito?r.suspefeito==="requerido em petio apartada"&&r.autuado==="sim"?"requerido em petio apartada e autuado":r.suspefeito:"N/A",se=[],Te=!!y,pe=r.dispensa==="sim"||r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"||r.subscritor==="procurador nomeado"||r.subscritor==="procurador pblico",Fe=r.emdobro==="em dobro"&&!pe,we=pe&&r.emdobro!=="em dobro",Le=ns(r.envio),I=r.consulta==="sim"?ns(r.leitura):null;if(Le&&I){const j=Gs(Le,10);I>j&&se.push("Leitura aps 10 dias: considerar intimao automtica.")}r.decrec==="monocrtica/singular"&&se.push("Deciso monocrtica: REsp/RExt incabvel (nulidade)."),r.acordo==="sim"&&(r.valido==="sim"?se.push("Acordo vlido: encerrar o processo sem anlise do mrito."):r.valido==="no"&&se.push("Acordo invlido: verificar poderes expressamente outorgados e partes.")),r.desist==="sim"&&(r.valida==="sim"?se.push("Desistncia vlida: encerrar o processo sem anlise do mrito."):r.valida==="no"&&se.push("Desistncia invlida: verificar poderes expressamente outorgados e partes.")),Fe?se.push("Prazo em dobro: apenas MP/Defensoria/NPJ/dativo."):we&&se.push("Prazo em dobro aplicvel (MP/Defensoria/NPJ/dativo/ente pblico)."),r.emaberto!=="sim"&&r.contrarra&&r.contrarra!=="ausentes"&&!r.contramovis.trim()&&se.push("Informar movimento da juntada das contrarrazes/renncia."),!Te&&r.gratuidade==="no invocada"&&r.comprova&&r.comprova!=="ausente"&&(r.grumov||se.push("Informar movimento da GRU (guia/comprovante).")),!Te&&r.guia==="sim"&&(r.guiorig==="no"?se.push("Guia FUNJUS no  original do recurso; verificar reutilizao."):r.guiorig===""&&se.push("Informar se a guia FUNJUS  original do recurso.")),!Te&&r.comp==="sim"&&r.codbar==="diverge ou guia ausente"&&se.push("Cdigo de barras divergente/guia ausente: conferir preparo FUNJUS."),!Te&&r.comp==="sim"&&r.comptipo==="de agendamento"&&se.push("Comprovante de agendamento no comprova pagamento; exigir comprovante."),r.emaberto==="sim"&&se.push("H prazo em aberto na Cmara de origem; sugere-se devolver para aguardar decurso."),r.emaberto!=="sim"&&(r.contrarra!=="apresentadas"&&r.intimado==="no"&&r.semadv==="no"?se.push("Determinar intimao do(s) recorrido(s) para contrarrazes."):r.contrarra!=="apresentadas"&&r.intimado==="sim"&&r.crraberto==="sim"?se.push("Prazo de contrarrazes em aberto; aguardar decurso."):r.contrarra!=="apresentadas"&&r.intimado==="sim"&&r.crraberto==="no"&&r.decursocrr==="no"&&se.push("Determinar certificao do decurso do prazo para contrarrazes.")),r.emepe==="sim"&&r.mani==="sim"&&r.teormani==="mera cincia"&&r.decursomp==="no"||r.emepe==="sim"&&r.mani==="no"&&r.remetido==="sim"&&r.decursomp==="no"?se.push("Aguardar decurso do prazo para manifestao da PGJ."):r.emepe==="sim"&&r.mani==="no"&&r.remetido==="no"&&se.push("Encaminhar autos  PGJ.");const R=r.dispensa==="no"&&r.gratuidade==="no invocada"&&(r.comprova==="ausente"||r.comprova==="posteriormente"||r.comprova==="no dia til seguinte ao trmino do prazo"&&r.apos16==="no"),N=Number(r.valorst||0),P=Number(r.valorfj||0);if(R&&(d||g))se.push(`Caso de recolhimento em dobro; intimar para regularizar. Valores: ${a} ${Ci(d*2)}, FUNJUS ${Ci(g*2)}`);else if(r.dispensa==="no"&&r.gratuidade==="j  ou afirma ser beneficirio"&&r.atoincomp==="sim")se.push(`Ato incompatvel com justia gratuita; intimar para recolher preparo. Valores: ${a} ${Ci(d)}, FUNJUS ${Ci(g)}`);else if(r.dispensa==="no"&&(r.gratuidade==="no invocada"||r.atoincomp==="sim")&&(N<d||P<g)){const j=[];N<d&&j.push(`${a} ${Ci(d-N)}`),P<g&&j.push(`Funjus ${Ci(g-P)}`),j.length&&se.push(`Complementar preparo: ${j.join(" | ")}`)}return r.subscritor==="advogado particular"&&r.cadeia==="no"?se.push("Regularizar cadeia de procuraes para o subscritor."):r.subscritor==="advogado particular"&&r.cadeia==="sim"&&!r.movis&&se.push("Informar movimentos completos da cadeia de poderes."),r.exclusivi==="requerida"&&r.cadastrada==="no"&&r.regular==="sim"&&se.push("Deferir pedido de exclusividade e cadastrar procurador nas partes."),r.suspefeito==="requerido em petio apartada"&&r.autuado==="no"&&se.push("Autuar separadamente o pedido de efeito suspensivo."),{tempest:e,deverST:d,deverFJ:g,stLabel:a,stRateStart:l.start,fjRateStart:u.start,controut:_,mpout:A,grout:x,funjout:M,procurout:te,exclusout:ne,suspefout:ee,parcialout:G,observacoes:se}},JE=r=>r.camaraArea&&r.camaraNumero?`${r.camaraArea} ${r.camaraNumero}`:r.camara||"",VN=(r,e)=>{const n=[`Tempestividade: ${e.tempest.status==="tempestivo"?"prazo ok":e.tempest.status==="intempestivo"?"avaliar intempestividade":"preencha datas"}`,`Preparo (${e.stLabel}/FUNJUS): ${e.grout}`,`Funjus: ${e.funjout}`,`Pagamento parcial: ${e.parcialout}`,`Contrarrazes: ${e.controut}`,`Ministrio Pblico: ${e.mpout}`,`Representao: ${e.procurout}`,`Exclusividade na intimao: ${e.exclusout}`,`Efeito suspensivo: ${e.suspefout||"N/A"}`];return e.observacoes.forEach(a=>n.push(a)),n},kN=(r,e)=>{var _,A;const n={},a=(x,M)=>{M&&(n[x]=!0)};a("tipo",!r.tipo),a("acordo",r.acordo===""),r.acordo==="sim"&&a("valido",!r.valido),a("desist",r.desist===""),r.desist==="sim"&&a("valida",!r.valida),a("sigla",!r.sigla),a("interp",!r.interp),a("decrec",!r.decrec),a("camaraArea",!r.camaraArea),a("camaraNumero",!r.camaraNumero),a("emaberto",r.emaberto===""),a("envio",!r.envio),a("consulta",r.consulta===""),r.consulta==="sim"&&a("leitura",!r.leitura),a("emdobro",!r.emdobro);const l=ns(r.envio),u=ns(r.interp);if(u&&l&&u<l&&(n.envio=!0,n.interp=!0),a("multa",r.multa===""),r.multa==="sim, no recolhida"&&a("motivo",!r.motivo),a("dispensa",r.dispensa===""),r.dispensa==="no"&&(a("gratuidade",r.gratuidade===""),r.gratuidade==="j  ou afirma ser beneficirio"&&(a("deferida",r.deferida===""),r.deferida==="sim"&&a("movdef",!r.movdef),r.deferida==="no"&&(a("requerida",r.requerida===""),r.requerida==="sim"&&a("movped",!r.movped)),a("atoincomp",r.atoincomp==="")),r.gratuidade==="no invocada"&&(a("comprova",r.comprova===""),r.comprova==="no dia til seguinte ao trmino do prazo"&&a("apos16",r.apos16===""))),r.guia==="sim"&&a("guiorig",r.guiorig===""),r.dispensa!=="sim"&&(r.guia==="sim"||r.comp==="sim")&&a("funjusmov",!r.funjusmov),r.dispensa==="no"&&r.gratuidade==="no invocada"&&r.comprova&&r.comprova!=="ausente"){const x=(_=r.grumov)==null?void 0:_.trim(),M=(A=r.grumovComp)==null?void 0:A.trim();a("grumov",!x&&!M)}r.comp==="sim"&&(a("comptipo",!r.comptipo),a("codbar",!r.codbar));const d=r.valorfj.trim(),g=Number(d||0);return r.dispensa==="no"&&r.gratuidade==="no invocada"&&d!==""&&Number.isFinite(g)&&g<e.deverFJ&&a("funjusObs",!r.funjusObs.trim()),a("subscritor",!r.subscritor),r.subscritor==="procurador nomeado"&&a("nomemovi",!r.nomemovi),r.subscritor==="advogado particular"&&(a("movis",!r.movis),a("cadeia",r.cadeia===""),r.cadeia==="no"&&a("faltante",!r.faltante)),a("suspefeito",r.suspefeito===""),r.suspefeito==="requerido em petio apartada"&&a("autuado",r.autuado===""),a("exclusivi",r.exclusivi===""),r.exclusivi==="requerida"&&(a("cadastrada",r.cadastrada===""),r.cadastrada==="no"&&a("regular",r.regular==="")),r.emaberto!=="sim"&&(a("contrarra",r.contrarra===""),r.contrarra!=="apresentadas"&&(a("intimado",r.intimado===""),r.intimado==="sim"?(a("crraberto",r.crraberto===""),r.crraberto==="no"&&a("decursocrr",r.decursocrr==="")):r.intimado==="no"&&a("semadv",r.semadv===""))),a("emepe",r.emepe===""),r.emepe==="sim"&&(a("mani",r.mani===""),r.mani==="sim"?(a("teormani",r.teormani===""),a("manimovis",!r.manimovis),r.teormani==="mera cincia"&&a("decursomp",r.decursomp==="")):r.mani==="no"&&(a("remetido",r.remetido===""),r.remetido==="sim"&&a("decursomp",r.decursomp===""))),n},Ha=[{id:"recurso",label:"Recurso",icon:v2},{id:"dados",label:"Dados iniciais",icon:HT},{id:"tempest",label:"Tempestividade",icon:wm},{id:"preparo",label:"Preparo e custas",icon:QT},{id:"processo",label:"Representao e pedidos",icon:_2},{id:"resumo",label:"Resumo",icon:y2}],m2={recurso:["tipo","acordo","valido","desist","valida","sigla"],dados:["interp","decrec","camaraArea","camaraNumero","emaberto"],tempest:["envio","consulta","leitura","emdobro"],preparo:["multa","motivo","dispensa","gratuidade","deferida","movdef","requerida","movped","atoincomp","comprova","apos16","grumov","funjusmov","guia","guiorig","comp","comptipo","codbar","funjusObs"],processo:["subscritor","nomemovi","movis","cadeia","faltante","suspefeito","autuado","exclusivi","cadastrada","regular","contrarra","contramovis","intimado","intimovi","crraberto","decursocrr","semadv","emepe","mani","teormani","manimovis","decursomp","remetido"],resumo:[]},ce=({label:r,children:e})=>m.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-600",children:[m.jsx("span",{className:"min-h-[2.5rem] leading-tight",children:r}),e]}),Ct=({title:r,children:e})=>m.jsxs("div",{className:"card-surface relative bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl p-6 shadow-[0_28px_60px_-42px_rgba(15,23,42,0.55)] overflow-hidden",children:[m.jsx("div",{className:"absolute inset-x-6 top-0 h-[2px] bg-gradient-to-r from-slate-900 via-amber-500 to-teal-500 opacity-80"}),m.jsx("div",{className:"absolute -right-12 -top-10 h-28 w-28 rounded-full bg-amber-200/30 blur-3xl"}),m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-base font-semibold text-slate-900 font-display tracking-tight",children:r}),m.jsx("span",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-[0.22em]",children:"Ficha"})]}),m.jsx("div",{className:"grid gap-4",children:e})]})]}),Ut=({children:r,tone:e="neutral"})=>{const n={neutral:"bg-white/80 border-slate-200 text-slate-700",success:"bg-emerald-50/90 border-emerald-200 text-emerald-800",warning:"bg-amber-50/90 border-amber-200 text-amber-800"};return m.jsx("span",{className:`pill inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-semibold shadow-sm ${n[e]}`,children:r})},p2=({label:r,value:e,helper:n,tone:a="neutral"})=>{const l={neutral:"border-white/70 bg-white/85 text-slate-900 shadow-[0_16px_40px_-30px_rgba(15,23,42,0.45)]",positive:"border-emerald-200/80 bg-emerald-50/90 text-emerald-900 shadow-[0_18px_40px_-30px_rgba(16,185,129,0.35)]",negative:"border-amber-200/80 bg-amber-50/90 text-amber-900 shadow-[0_18px_40px_-30px_rgba(245,158,11,0.35)]"};return m.jsxs("div",{className:`metric-surface rounded-2xl border px-4 py-3 ${l[a]}`,children:[m.jsx("p",{className:"text-[11px] uppercase tracking-[0.24em] font-semibold text-slate-500",children:r}),m.jsx("p",{className:"text-lg font-semibold leading-tight mt-1",children:e}),n&&m.jsx("p",{className:"text-xs mt-1 text-slate-600",children:n})]})},PN=({label:r,icon:e,active:n,onClick:a})=>m.jsxs("button",{type:"button",onClick:a,"aria-current":n?"step":void 0,className:`step-chip group inline-flex items-center gap-2 rounded-full border px-3 py-2 text-xs font-semibold transition shadow-sm whitespace-nowrap ${n?"border-slate-900 bg-slate-900 text-white shadow-[0_12px_30px_-20px_rgba(15,23,42,0.6)]":"border-slate-200 bg-white/80 text-slate-700 hover:border-slate-300 hover:shadow-md"}`,children:[m.jsx(e,{className:`h-4 w-4 ${n?"text-amber-200":"text-slate-500 group-hover:text-slate-700"}`}),m.jsx("span",{children:r})]}),sh=()=>m.jsx("div",{className:"watermark pointer-events-none fixed bottom-4 right-4 z-30 max-w-[320px] text-right text-[9px] leading-tight opacity-80",children:m.jsxs("div",{className:"flex flex-col gap-[1px]",children:[m.jsx("span",{children:"Desenvolvido por :"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"P-SEP-AR - GESTO 2025/2026"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Assessoria de Recursos aos Tribunais Superiores"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"(STF e STJ) da Secretaria Especial da Presidncia"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Elvertoni Martelli Coimbra"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Lus Gustavo Arruda Lanoni"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{className:"font-bold",children:"Narley Almeida de Sousa"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Rodrigo Louzano"})]})}),UN=()=>{const[r,e]=ae.useState(null),[n,a]=ae.useState(null),[l,u]=ae.useState(!1),[d,g]=ae.useState("login"),[y,_]=ae.useState(""),[A,x]=ae.useState(()=>{try{const O=localStorage.getItem(c2);return O?O==="true":!0}catch{return!0}}),[M,G]=ae.useState(""),[te,ne]=ae.useState(""),[ee,se]=ae.useState(""),[Te,pe]=ae.useState(!1),[Fe,we]=ae.useState(""),[Le,I]=ae.useState(""),[R,N]=ae.useState(""),[P,j]=ae.useState(`${Tm}_anon`),[S,C]=ae.useState(Zo),[ze,vt]=ae.useState(0),[Q,oe]=ae.useState(!1),[_e,Be]=ae.useState(!1),[We,k]=ae.useState(null),Y=ae.useRef(!1),re=ae.useRef(!1),he=ae.useRef(new Set),[Se,Ne]=ae.useState(!1),[Ve,At]=ae.useState({name:"",photoURL:""}),[pt,cn]=ae.useState(""),[Sr,Ar]=ae.useState(!1),[wr,tn]=ae.useState(""),[ra,Di]=ae.useState(!1),[aa,sa]=ae.useState(!1),[wt,Nt]=ae.useState(""),[fi,Oi]=ae.useState(""),[fs,an]=ae.useState(!1),[Jn,oa]=ae.useState("system"),[ms,Qi]=ae.useState(()=>typeof window>"u"||!window.matchMedia?!1:window.matchMedia("(prefers-color-scheme: dark)").matches),[Ki,la]=ae.useState(0),[xr,ua]=ae.useState(!1),[ot,Gt]=ae.useState([]),[En,Dt]=ae.useState(""),[ro,Yi]=ae.useState({}),[Rr,hn]=ae.useState(null),[Xi,Ce]=ae.useState(""),[dn,Zn]=ae.useState([]),[bn,ca]=ae.useState(null),[ps,Tn]=ae.useState(null),[ji,$i]=ae.useState(""),[Mi,Sn]=ae.useState(""),[ha,Ji]=ae.useState(null),mi=ae.useRef(null),sn=(n==null?void 0:n.role)==="admin",on=y?`${y.trim().toLowerCase()}@${Fa}`:"",Ln=Jn==="dark"||Jn==="system"&&ms;ae.useEffect(()=>{if(!ep||!yt||!Je){u(!0);return}let O=!0;const T=Mw(yt,async $=>{if(e($),a(null),u(!1),!$){O&&u(!0);return}try{const le=$.email||"";if(!ah(le)){O&&N(`Acesso restrito a contas @${Fa}.`),await Wc(yt);return}if(!$.emailVerified){O&&N("Confirme o e-mail para acessar a plataforma."),await Wc(yt);return}const Me=Qs(le),De=Me?fN.includes(Me):!1,et=new Date().toISOString(),Mt=Un(Je,Ri,$.uid),ri=await bm(Mt);let Rn;if(!ri.exists())Rn={uid:$.uid,email:le,name:$.displayName||"",photoURL:$.photoURL||"",role:De?"admin":"user",active:!0,triageCount:0,theme:"system",createdAt:et,updatedAt:et},await tu(Mt,Rn);else{const rt=ri.data();Rn={uid:$.uid,email:rt.email??le,name:rt.name??$.displayName??"",photoURL:rt.photoURL??$.photoURL??"",role:rt.role??(De?"admin":"user"),active:rt.active??!0,triageCount:rt.triageCount??0,theme:Am(rt.theme),createdAt:rt.createdAt??et,updatedAt:et},(!rt.email||!rt.name||!rt.role||rt.active===void 0||!rt.createdAt)&&(De?await tu(Mt,Rn,{merge:!0}):!rt.name&&Rn.name&&await xi(Mt,{name:Rn.name,updatedAt:et}))}if(!Rn.active){O&&N("Conta desativada. Procure um administrador."),await Wc(yt);return}O&&(a(Rn),we(""),I(""),N(""))}catch(le){if(O){const Me=Pt(le);we(Me),le.code==="permission-denied"&&I("Aplique as regras do Firestore e tente novamente.")}}finally{O&&u(!0)}});return()=>{O=!1,T()}},[]),ae.useEffect(()=>{const O=r!=null&&r.uid?`${Tm}_${r.uid}`:`${Tm}_anon`;j(O)},[r==null?void 0:r.uid]),ae.useEffect(()=>{const O=RN(P);C(O.state),k(O.savedAt),vt(0)},[P]),ae.useEffect(()=>{if(!sn||!Je){Gt([]);return}const O=r2(W_(Je,Ri)),T=l2(O,$=>{const le=$.docs.map(De=>{const et=De.data(),Mt=et.role==="admin"?"admin":"user";return{uid:De.id,email:et.email??"",name:et.name??"",photoURL:et.photoURL??"",role:Mt,active:et.active??!0,triageCount:et.triageCount??0,theme:Am(et.theme),createdAt:et.createdAt??"",updatedAt:et.updatedAt??""}}),Me=NN(le);Me.sort((De,et)=>{const Mt=De.name.localeCompare(et.name,"pt-BR",{sensitivity:"base"});return Mt!==0?Mt:De.email.localeCompare(et.email,"pt-BR",{sensitivity:"base"})}),Gt(Me)},$=>{Ce(Pt($))});return()=>T()},[sn]),ae.useEffect(()=>{if(!sn||!Je){Zn([]);return}const O=r2(W_(Je,nu),tN("status","==","pending")),T=l2(O,$=>{const le=$.docs.map(Me=>{const De=Me.data(),et=De.status==="approved"||De.status==="rejected"?De.status:"pending";return{id:Me.id,uid:De.uid??Me.id,email:De.email??"",name:De.name??"",status:et,createdAt:De.createdAt,updatedAt:De.updatedAt}});Zn(le)},$=>{Ce(Pt($))});return()=>T()},[sn,Je]),ae.useEffect(()=>{sn||(ua(!1),Tn(null),$i(""),Sn(""))},[sn]),ae.useEffect(()=>{xr||(Tn(null),$i(""),Sn(""))},[xr]),ae.useEffect(()=>{Se||(sa(!1),Nt(""),Oi(""))},[Se]),ae.useEffect(()=>{if(!n)return;At({name:n.name??"",photoURL:n.photoURL??""});const O=Am(n.theme),T=n.theme!=="system"&&n.theme!=="dark";if(oa(T?"system":O),tn(""),T&&Je&&r){const le=new Date().toISOString();xi(Un(Je,Ri,r.uid),{theme:"system",updatedAt:le}).then(()=>{a(Me=>Me&&{...Me,theme:"system",updatedAt:le})}).catch(()=>{})}},[n==null?void 0:n.uid]),ae.useEffect(()=>{if(!window.matchMedia)return;const O=window.matchMedia("(prefers-color-scheme: dark)"),T=()=>Qi(O.matches);return T(),O.addEventListener?O.addEventListener("change",T):O.addListener(T),()=>{O.removeEventListener?O.removeEventListener("change",T):O.removeListener(T)}},[]),ae.useEffect(()=>{if(Ki<=0)return;const O=window.setTimeout(()=>{la(T=>Math.max(0,T-1))},1e3);return()=>window.clearTimeout(O)},[Ki]),ae.useEffect(()=>{try{localStorage.setItem(c2,String(A))}catch{}},[A]),ae.useEffect(()=>{document.documentElement.classList.toggle("theme-dark",Ln);const T=r!=null&&r.uid?`triario_theme_${r.uid}`:"triario_theme_anon";try{localStorage.setItem(T,Jn)}catch{}},[Jn,Ln,r==null?void 0:r.uid]);const ue=ae.useMemo(()=>MN(S),[S]),zt=ae.useMemo(()=>ON(S,ue),[S,ue]),zn=ae.useMemo(()=>VN(S,ue),[S,ue]),Cr=ae.useMemo(()=>kN(S,ue),[S,ue]),ml=ae.useMemo(()=>{const O={recurso:0,dados:0,tempest:0,preparo:0,processo:0,resumo:0};return Object.keys(m2).forEach(T=>{O[T]=m2[T].reduce(($,le)=>$+(Cr[le]?1:0),0)}),O},[Cr]),gs=ae.useMemo(()=>{const O=En.trim().toLowerCase();return O?ot.filter(T=>`${T.name} ${T.email}`.toLowerCase().includes(O)):ot},[En,ot]),ao=ae.useMemo(()=>ot.reduce((O,T)=>O+(T.triageCount||0),0),[ot]),Wn=ae.useMemo(()=>{const O=[...ot];return O.sort((T,$)=>($.triageCount||0)-(T.triageCount||0)),O},[ot]),Ir=ae.useMemo(()=>{if(dn.length===0)return[];const O=new Set(ot.filter($=>$.role==="admin").map($=>Qs($.email))),T=new Set(ot.filter($=>$.role==="admin").map($=>$.uid));return dn.filter($=>{if(T.has($.uid))return!1;const le=Qs($.email||"");return!(le&&O.has(le))})},[dn,ot]),jn=Ir.length;ae.useEffect(()=>{if(!sn||!Je||dn.length===0)return;const O=new Set(ot.filter(le=>le.role==="admin").map(le=>Qs(le.email))),T=new Set(ot.filter(le=>le.role==="admin").map(le=>le.uid)),$=dn.filter(le=>{if(he.current.has(le.id))return!1;if(T.has(le.uid))return!0;const Me=Qs(le.email||"");return Me?O.has(Me):!1});$.length&&$.forEach(le=>{he.current.add(le.id),xi(Un(Je,nu,le.id),{status:"approved",updatedAt:new Date().toISOString()}).catch(()=>{he.current.delete(le.id)})})},[dn,ot,sn,Je]);const Qt=S.dispensa==="sim",An=S.valorfj.trim(),ei=Number(An||0),Et=S.dispensa==="no"&&S.gratuidade==="no invocada"&&An!==""&&Number.isFinite(ei)&&ei<ue.deverFJ,ys=Et&&!S.funjusObs.trim(),Nr=S.funjusObs.trim(),pi=Ha[ze].id,Mn=ml[pi]??0,de=(O,T)=>{C($=>{var le;if(O==="funjusmov"){const De=String(T).trim()?"sim":"";return{...$,[O]:T,guia:De,comp:De}}if(O==="grumov"){const Me=String(T),De=!((le=$.grumovComp)!=null&&le.trim())||$.grumovComp===$.grumov;return{...$,[O]:T,grumovComp:De?Me:$.grumovComp}}return{...$,[O]:T}})},fe=(O,T)=>{const $=S[O],Me=(typeof $=="string"?$.trim()!=="":!!$)?"input input-success":"input";return T?`${Me} ${T}`:Me};ae.useEffect(()=>{try{const O=new Date,T={__version:hN,state:S,savedAt:O.toISOString()};localStorage.setItem(P,JSON.stringify(T)),k(O)}catch{}},[S,P]),ae.useEffect(()=>{if(!S.usarIntegral)return;const O=ue.deverST?ue.deverST.toFixed(2):"",T=ue.deverFJ?ue.deverFJ.toFixed(2):"";C($=>!$.usarIntegral||$.valorst===O&&$.valorfj===T?$:{...$,valorst:O,valorfj:T})},[S.usarIntegral,ue.deverST,ue.deverFJ]),ae.useEffect(()=>{Qt&&C(O=>{if(O.dispensa!=="sim")return O;let T=!1;const $={...O};return $.emdobro!=="em dobro"&&($.emdobro="em dobro",T=!0),$.subscritor!=="procurador pblico"&&($.subscritor="procurador pblico",T=!0),T?$:O})},[Qt]),ae.useEffect(()=>{S.consulta!=="sim"&&S.leitura&&C(O=>O.leitura?{...O,leitura:""}:O)},[S.consulta,S.leitura]),ae.useEffect(()=>{S.emdobro||(S.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"||S.subscritor==="procurador nomeado")&&C(O=>O.emdobro?O:{...O,emdobro:"em dobro"})},[S.emdobro,S.gratuidade,S.subscritor]),ae.useEffect(()=>{var $;const O=mi.current;if(!O)return;const T=($=window.matchMedia)==null?void 0:$.call(window,"(prefers-reduced-motion: reduce)").matches;O.scrollIntoView({behavior:T?"auto":"smooth",block:"start"})},[ze]);const vs=()=>{ma();const O=new Blob([zt],{type:"text/plain"}),T=URL.createObjectURL(O),$=document.createElement("a");$.href=T;const le=xN(S.sigla);$.download=`resumo-triagem-${le||"triario"}.txt`,$.click(),URL.revokeObjectURL(T)},_s=async O=>{if(!O)return!1;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(O);else{const T=document.createElement("textarea");T.value=O,document.body.appendChild(T),T.select(),document.execCommand("copy"),document.body.removeChild(T)}return!0}catch{return!1}},da=async()=>{ma(),await _s(zt)?(oe(!0),setTimeout(()=>oe(!1),1500)):oe(!1)},Vn=async()=>{const O=zn.join(`
`);await _s(O)?(Be(!0),setTimeout(()=>Be(!1),1500)):Be(!1)},jt=async()=>{if(yt){if(pe(!0),we(""),I(""),!y.trim()){we("Informe seu usurio @tjpr.jus.br."),pe(!1);return}if(!ah(on)){we(`Use um e-mail @${Fa} para entrar.`),pe(!1);return}try{await Xv(yt,A?jm:wh),await Nw(yt,on,M)}catch(O){we(Pt(O))}finally{pe(!1)}}},Kt=async()=>{if(yt){if(pe(!0),we(""),I(""),!y.trim()){we("Informe seu usurio @tjpr.jus.br."),pe(!1);return}if(!ah(on)){we(`O cadastro  permitido apenas para e-mails @${Fa}.`),pe(!1);return}if(M.trim().length<6){we("A senha precisa ter pelo menos 6 caracteres."),pe(!1);return}if(M!==te){we("As senhas no conferem."),pe(!1);return}try{await Xv(yt,A?jm:wh);const O=await Iw(yt,on,M);ee.trim()&&await Yv(O.user,{displayName:ee.trim()});try{await Kv(O.user)}catch(T){we(Pt(T))}I("Conta criada. Confirme o e-mail para entrar."),G(""),ne(""),g("login")}catch(O){we(Pt(O))}finally{pe(!1)}}},Zi=async()=>{if(yt){if(pe(!0),we(""),I(""),!y.trim()){we("Informe seu usurio @tjpr.jus.br."),pe(!1);return}if(!ah(on)){we(`Use um e-mail @${Fa} para redefinir a senha.`),pe(!1);return}try{await mm(yt,on),I("Enviamos um e-mail para redefinir sua senha.")}catch(O){we(Pt(O))}finally{pe(!1)}}},Es=async()=>{if(!(!yt||!r)&&!(Ki>0)){pe(!0),we(""),I("");try{await Kv(r),la(15),I("E-mail de confirmao reenviado.")}catch(O){we(Pt(O))}finally{pe(!1)}}},it=async()=>{if(!(!yt||!r)){pe(!0),we(""),I("");try{await z2(r),r.emailVerified?I("E-mail confirmado. Voc j pode entrar."):we("E-mail ainda no confirmado.")}catch(O){we(Pt(O))}finally{pe(!1)}}},Wi=async()=>{yt&&(await Wc(yt),C(Zo),vt(0),ua(!1),Ne(!1),cn(""),tn(""),Di(!1),la(0),Y.current=!1,re.current=!1)},Bn=(O,T)=>{Yi($=>{const le=$[O.uid]??{name:O.name,role:O.role,active:O.active};return{...$,[O.uid]:{...le,...T}}})},er=O=>ro[O.uid]??{name:O.name,role:O.role,active:O.active},wn=async O=>{if(!Je||!yt)return;const T=er(O),$=ot.filter(Me=>Me.role==="admin").length;if((r==null?void 0:r.uid)===O.uid&&$<=1&&T.role!=="admin"){Ce("Voc  o ltimo admin. No  possvel remover seu prprio acesso.");return}if($<=1&&O.role==="admin"&&T.role!=="admin"){Ce(" necessrio manter pelo menos um admin ativo.");return}if(T.name===O.name&&T.role===O.role&&T.active===O.active){Ce("Nenhuma alterao pendente para salvar.");return}hn(O.uid),Ce("");try{await xi(Un(Je,Ri,O.uid),{name:T.name,role:T.role,active:T.active,updatedAt:new Date().toISOString()}),Ce("Cadastro atualizado.")}catch(Me){Ce(Pt(Me))}finally{hn(null)}},fa=async O=>{if(yt){Ce("");try{await mm(yt,O),Ce(`E-mail de redefinio enviado para ${O}.`)}catch(T){Ce(Pt(T))}}},so=async O=>{if(!Je)return;const T=ot.filter(le=>le.role==="admin").length;if((r==null?void 0:r.uid)===O.uid){Ce("Voc no pode remover seu prprio acesso de admin.");return}if(T<=1){Ce(" necessrio manter pelo menos um admin ativo.");return}Ce(""),hn(O.uid);try{await xi(Un(Je,Ri,O.uid),{role:"user",updatedAt:new Date().toISOString()}),Ce(`${O.email||"Usurio"} removido do perfil admin.`),Yi(le=>le[O.uid]?{...le,[O.uid]:{...le[O.uid],role:"user"}}:le)}catch(le){Ce(Pt(le))}finally{hn(null)}},bs=async O=>{if(Je){Ce(""),ca(O.id);try{const T=new Date().toISOString(),$=Un(Je,Ri,O.uid);(await bm($)).exists()?await xi($,{role:"admin",updatedAt:T}):await tu($,{uid:O.uid,email:O.email??"",name:O.name??"",photoURL:"",role:"admin",active:!0,triageCount:0,theme:"system",createdAt:T,updatedAt:T}),await xi(Un(Je,nu,O.id),{status:"approved",updatedAt:T}),Ce(`${O.email||"Usurio"} aprovado como admin.`)}catch(T){Ce(Pt(T))}finally{ca(null)}}},tr=async O=>{if(Je){Ce(""),ca(O.id);try{await xi(Un(Je,nu,O.id),{status:"rejected",updatedAt:new Date().toISOString()}),Ce(`${O.email||"Usurio"} rejeitado.`)}catch(T){Ce(Pt(T))}finally{ca(null)}}},ma=async()=>{if(!(!Je||!r)&&!(Y.current||re.current)){re.current=!0;try{await xi(Un(Je,Ri,r.uid),{triageCount:aN(1),updatedAt:new Date().toISOString()}),Y.current=!0,a(O=>O&&{...O,triageCount:(O.triageCount||0)+1})}catch(O){Ce(Pt(O))}finally{re.current=!1}}},nr=async()=>{if(!yt||!r||!Je||!n)return;const O=Ve.name.trim(),T=Ve.photoURL.trim(),$={};if(O!==n.name&&($.name=O),T!==n.photoURL&&($.photoURL=T),Object.keys($).length===0){cn("Nenhuma alterao para salvar.");return}Ar(!0),cn("");try{await Yv(r,{displayName:O||null,photoURL:T||null}),await xi(Un(Je,Ri,r.uid),{...$,updatedAt:new Date().toISOString()}),a(le=>le&&{...le,...$}),cn("Perfil atualizado.")}catch(le){cn(Pt(le))}finally{Ar(!1)}},xn=async()=>{if(!(!yt||!(r!=null&&r.email))){cn("");try{await mm(yt,r.email),cn("Enviamos um e-mail para redefinir sua senha.")}catch(O){cn(Pt(O))}}},oo=async()=>{if(!(!r||!Je)){tn(""),Di(!0);try{const O=Un(Je,nu,r.uid),T=await bm(O),$=new Date().toISOString();if(T.exists()){const le=T.data();le.status==="approved"?tn("Seu acesso j foi aprovado. Saia e entre novamente."):le.status==="pending"?tn("Solicitao j enviada. Aguarde aprovao."):(await tu(O,{uid:r.uid,email:r.email??"",name:r.displayName??"",status:"pending",updatedAt:$},{merge:!0}),tn("Solicitao reenviada com sucesso."))}else await tu(O,{uid:r.uid,email:r.email??"",name:r.displayName??"",status:"pending",createdAt:$,updatedAt:$}),tn("Solicitao enviada. Aguarde aprovao do admin.")}catch(O){tn(Pt(O))}finally{Di(!1)}}},Ts=()=>{sa(O=>!O),Nt(""),Oi("")},Ss=async()=>{if(!(!yt||!r||!Je)){if(!r.email){Oi("E-mail do usurio indisponvel.");return}if(!wt.trim()){Oi("Informe sua senha para confirmar a excluso.");return}Oi(""),an(!0);try{const O=is.credential(r.email,wt);await Qv(r,O),await o2(Un(Je,Ri,r.uid)),await Vw(r)}catch(O){Oi(Pt(O))}finally{an(!1)}}},pa=async O=>{if(oa(O),!(!Je||!r||!n))try{await xi(Un(Je,Ri,r.uid),{theme:O,updatedAt:new Date().toISOString()}),a(T=>T&&{...T,theme:O})}catch(T){cn(Pt(T))}},lo=async O=>{if(Je){Ce(""),hn(O.uid);try{await xi(Un(Je,Ri,O.uid),{role:"admin",updatedAt:new Date().toISOString()}),Ce(`${O.email||"Usurio"} promovido a admin.`),Yi(T=>T[O.uid]?{...T,[O.uid]:{...T[O.uid],role:"admin"}}:T)}catch(T){Ce(Pt(T))}finally{hn(null)}}},ir=O=>{if(ps===O.uid){Tn(null),$i(""),Sn("");return}Tn(O.uid),$i(""),Sn("")},ga=async O=>{if(!(!yt||!r||!Je)){if(r.uid===O.uid){Sn("No  possvel excluir o prprio usurio.");return}if(!r.email){Sn("E-mail do administrador indisponvel.");return}if(!ji.trim()){Sn("Informe sua senha para confirmar a excluso.");return}Sn(""),Ji(O.uid);try{const T=is.credential(r.email,ji);await Qv(r,T),await o2(Un(Je,Ri,O.uid)),Ce("Usurio excludo da base."),Tn(null),$i("")}catch(T){Sn(Pt(T))}finally{Ji(null)}}},ti=O=>{O.preventDefault(),d==="login"?jt():d==="register"?Kt():Zi()},As=()=>vt(O=>Math.min(Ha.length-1,O+1)),qn=()=>vt(O=>Math.max(0,O-1)),rr=()=>{try{localStorage.removeItem(P)}catch{}C(Zo),vt(0),k(null),Y.current=!1,re.current=!1},gi=()=>{rr()},ar=(O,T)=>{window.confirm(O)&&(T==null||T(),gi())},ya=()=>{const O=!!(r&&!n);return m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 page-enter",children:[m.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-10",children:m.jsxs("div",{className:"w-full max-w-2xl space-y-4",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"mx-auto h-14 w-14 rounded-2xl bg-white border border-slate-200 overflow-hidden shadow-lg shadow-slate-300/60 flex items-center justify-center",children:m.jsx("img",{src:u2,alt:"Simba-JUD",className:"h-full w-full object-cover"})}),m.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Simba-JUD"}),m.jsx("h1",{className:"text-2xl font-semibold text-slate-900 font-display",children:"Acesso ao Portal de Triagem"})]}),m.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[{id:"login",label:"Entrar"},{id:"register",label:"Criar conta"},{id:"reset",label:"Redefinir senha"}].map(T=>m.jsx("button",{type:"button",onClick:()=>{g(T.id),we(""),I("")},className:`px-4 py-2 rounded-full text-xs font-semibold border transition ${d===T.id?"bg-slate-900 text-white border-slate-900 shadow-sm":"bg-white text-slate-700 border-slate-200 hover:border-slate-300"}`,children:T.label},T.id))}),O&&m.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:[m.jsx("p",{className:"font-semibold",children:"Perfil no carregado."}),m.jsx("p",{className:"mt-1",children:"Verifique as regras do Firestore e domnios autorizados. Se quiser, saia e entre novamente."}),m.jsx("button",{type:"button",onClick:Wi,className:"mt-3 inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-amber-200 bg-white text-amber-800 hover:shadow-sm transition",children:"Sair"})]}),m.jsx(Ct,{title:"Credenciais",children:m.jsxs("form",{className:"grid gap-4",onSubmit:ti,autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",children:[R&&m.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:R}),Fe&&m.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:Fe}),Le&&m.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:Le}),d==="register"&&m.jsx(ce,{label:"Nome completo",children:m.jsx("input",{className:"input",value:ee,onChange:T=>se(T.target.value),placeholder:"Digite seu nome",autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"})}),m.jsx(ce,{label:"E-mail",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{className:"input rounded-r-none",type:"text",value:y,onChange:T=>{const le=T.target.value.split("@")[0].replace(/\s+/g,"");_(le)},placeholder:"usuario",autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0}),m.jsxs("span",{className:"px-3 py-[0.6rem] border border-l-0 border-slate-200 rounded-r-lg bg-slate-50 text-sm text-slate-600",children:["@",Fa]})]})}),d!=="reset"&&m.jsx(ce,{label:"Senha",children:m.jsx("input",{className:"input",type:"password",value:M,onChange:T=>G(T.target.value),placeholder:"",autoComplete:"new-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0})}),d!=="reset"&&m.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:A,onChange:T=>x(T.target.checked)}),"Lembrar login neste dispositivo"]}),d==="register"&&m.jsx(ce,{label:"Confirme a senha",children:m.jsx("input",{className:"input",type:"password",value:te,onChange:T=>ne(T.target.value),placeholder:"",autoComplete:"new-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0})}),d==="reset"&&m.jsx("p",{className:"text-xs text-slate-500",children:"Enviaremos um link de redefinio de senha para o seu e-mail."}),d==="login"&&R.includes("Confirme")&&m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:Es,disabled:Te||Ki>0,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:Ki>0?`Reenviar em ${Ki}s`:"Reenviar confirmao"}),m.jsx("button",{type:"button",onClick:it,disabled:Te,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:"J confirmei"})]}),m.jsx("button",{type:"submit",disabled:Te,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:Te?"Aguarde...":d==="login"?"Entrar":d==="register"?"Criar conta":"Enviar link"})]})}),m.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Cadastro aberto apenas para contas @",Fa,"."]})]})}),m.jsx(sh,{})]})},sr=()=>{if(!Se||!n)return null;const O=Ve.name||n.email;return m.jsx("div",{className:"mb-6",children:m.jsx(Ct,{title:"Meu perfil",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[m.jsx("div",{className:"avatar-surface h-16 w-16 rounded-2xl border border-slate-200 bg-white/80 flex items-center justify-center overflow-hidden",children:Ve.photoURL?m.jsx("img",{src:Ve.photoURL,alt:"Foto de perfil",className:"h-full w-full object-cover"}):m.jsx("span",{className:"text-lg font-semibold text-slate-700",children:f2(O)})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:O}),m.jsx("p",{className:"text-xs text-slate-500",children:n.email}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Triagens: ",n.triageCount||0]})]})]}),pt&&m.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:pt}),wr&&m.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:wr}),m.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[m.jsx(ce,{label:"Nome",children:m.jsx("input",{className:"input",value:Ve.name,onChange:T=>At($=>({...$,name:T.target.value}))})}),m.jsx(ce,{label:"Foto de perfil (URL)",children:m.jsx("input",{className:"input",placeholder:"https://...",value:Ve.photoURL,onChange:T=>At($=>({...$,photoURL:T.target.value}))})})]}),m.jsxs(ce,{label:"Tema",children:[m.jsxs("select",{className:"input",value:Jn,onChange:T=>pa(T.target.value),children:[m.jsx("option",{value:"system",children:"Sistema"}),m.jsx("option",{value:"light",children:"Modo claro"}),m.jsx("option",{value:"dark",children:"Modo escuro"})]}),m.jsx("span",{className:"text-xs text-slate-500",children:"Preferncia salva neste dispositivo e no perfil."})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:nr,disabled:Sr,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:Sr?"Salvando...":"Salvar perfil"}),m.jsx("button",{type:"button",onClick:xn,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Enviar reset de senha"}),m.jsx("button",{type:"button",onClick:()=>{At(T=>({...T,photoURL:""}))},className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Remover foto"}),!sn&&m.jsx("button",{type:"button",onClick:oo,disabled:ra,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-emerald-200 bg-emerald-50 text-emerald-700 hover:bg-emerald-100 transition shadow-sm disabled:opacity-60",children:ra?"Enviando...":"Solicitar acesso admin"}),m.jsx("button",{type:"button",onClick:Ts,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100 transition shadow-sm",children:aa?"Cancelar excluso":"Excluir minha conta"})]}),aa&&m.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[m.jsx("p",{className:"font-semibold",children:"Confirmao de excluso"}),m.jsx("p",{className:"mt-1",children:"Esta ao  permanente. Informe sua senha para apagar sua conta."}),fi&&m.jsx("p",{className:"mt-2 text-xs text-rose-700",children:fi}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[m.jsx("input",{className:"input flex-1 min-w-[200px]",type:"password",value:wt,onChange:T=>{Nt(T.target.value),fi&&Oi("")},placeholder:"Senha atual",autoComplete:"current-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"}),m.jsx("button",{type:"button",onClick:Ss,disabled:fs,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:fs?"Excluindo...":"Excluir conta"})]})]})]})})})},ni=()=>{if(!sn||!xr)return null;const O=ot.filter(T=>T.role==="admin").length;return m.jsxs("div",{className:"mb-6 space-y-4",children:[m.jsx(Ct,{title:"Dashboard de triagens",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsxs(Ut,{children:[ao," triagem(ns) registradas"]}),m.jsxs(Ut,{children:[ot.length," usurio(s)"]})]}),Wn.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhuma triagem registrada."}):m.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:Wn.map(T=>m.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-white/80 px-4 py-3 text-sm text-slate-700",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"font-semibold text-slate-900 truncate",children:T.name||T.email||"Sem nome"}),m.jsx("p",{className:"text-xs text-slate-500 truncate",children:T.email})]}),m.jsx("span",{className:"font-semibold",children:T.triageCount||0})]},T.uid))})]})}),jn>0&&m.jsx(Ct,{title:"Solicitaes de admin",children:m.jsxs("div",{className:"grid gap-3",children:[m.jsx("p",{className:"text-xs text-slate-500",children:"Aprove ou rejeite as solicitaes pendentes."}),m.jsxs(Ut,{tone:"warning",children:[jn," solicitao(es) pendente(s)"]}),m.jsx("div",{className:"grid gap-2",children:Ir.map(T=>m.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800",children:[m.jsx("p",{className:"font-semibold",children:T.name||T.email||"Usurio"}),m.jsx("p",{className:"text-[11px] text-amber-700",children:T.email||T.uid}),m.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:()=>bs(T),disabled:bn===T.id,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border border-emerald-200 bg-emerald-600 text-white hover:bg-emerald-700 transition shadow-sm disabled:opacity-60",children:bn===T.id?"Processando...":"Aprovar"}),m.jsx("button",{type:"button",onClick:()=>tr(T),disabled:bn===T.id,className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg border border-rose-200 bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:bn===T.id?"Processando...":"Rejeitar"})]})]},T.id))})]})}),m.jsx(Ct,{title:"Administrao de usurios",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("input",{className:"input flex-1 min-w-[220px]",placeholder:"Buscar por nome ou e-mail",value:En,onChange:T=>Dt(T.target.value)}),m.jsxs(Ut,{children:[ot.length," usurio(s)"]}),m.jsxs(Ut,{tone:"success",children:[O," admin(s)"]})]}),Xi&&m.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:Xi}),gs.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum usurio encontrado."}):m.jsx("div",{className:"grid gap-3",children:gs.map(T=>{const $=er(T),le=(r==null?void 0:r.uid)===T.uid,Me=le&&O<=1,De=ps===T.uid,et=le,Mt=T.role!=="admin"&&$.role!=="admin",ri=T.role==="admin"&&$.role==="admin",Rn=le||O<=1;return m.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 shadow-sm",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:T.name||"Sem nome"}),m.jsx("p",{className:"text-xs text-slate-500",children:T.email||"E-mail no informado"}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Triagens: ",T.triageCount||0]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[le&&m.jsx(Ut,{children:"Voc"}),T.role==="admin"&&m.jsx(Ut,{tone:"success",children:"Admin"}),!T.active&&m.jsx(Ut,{tone:"warning",children:"Desativado"})]})]}),m.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[m.jsx(ce,{label:"Nome",children:m.jsx("input",{className:"input",value:$.name,onChange:rt=>Bn(T,{name:rt.target.value})})}),m.jsxs(ce,{label:"Perfil",children:[m.jsxs("select",{className:"input",value:$.role,disabled:Me,onChange:rt=>Bn(T,{role:rt.target.value}),children:[m.jsx("option",{value:"user",children:"Usurio"}),m.jsx("option",{value:"admin",children:"Admin"})]}),Me&&m.jsx("span",{className:"text-xs text-slate-500",children:"Voc  o nico admin cadastrado."})]}),m.jsx(ce,{label:"Status",children:m.jsxs("select",{className:"input",value:$.active?"ativo":"inativo",onChange:rt=>Bn(T,{active:rt.target.value==="ativo"}),children:[m.jsx("option",{value:"ativo",children:"Ativo"}),m.jsx("option",{value:"inativo",children:"Desativado"})]})})]}),m.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:()=>wn(T),disabled:Rr===T.uid,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:Rr===T.uid?"Salvando...":"Salvar"}),Mt&&m.jsx("button",{type:"button",onClick:()=>lo(T),disabled:Rr===T.uid,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-emerald-200 bg-emerald-600 text-white hover:bg-emerald-700 transition shadow-sm disabled:opacity-60",children:"Promover a admin"}),ri&&m.jsx("button",{type:"button",onClick:()=>so(T),disabled:Rr===T.uid||Rn,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-amber-200 bg-amber-50 text-amber-700 hover:bg-amber-100 transition shadow-sm disabled:opacity-60",children:"Remover admin"}),m.jsx("button",{type:"button",onClick:()=>fa(T.email),disabled:!T.email,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:"Enviar reset de senha"}),m.jsx("button",{type:"button",onClick:()=>ir(T),disabled:et,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100 transition shadow-sm disabled:opacity-60",children:De?"Cancelar excluso":"Excluir usurio"})]}),De&&m.jsxs("div",{className:"mt-3 rounded-xl border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[m.jsx("p",{className:"font-semibold",children:"Confirmao de excluso"}),m.jsx("p",{className:"mt-1",children:"Para excluir este usurio, informe sua senha de administrador."}),Mi&&m.jsx("p",{className:"mt-2 text-xs text-rose-700",children:Mi}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[m.jsx("input",{className:"input flex-1 min-w-[200px]",type:"password",value:ji,onChange:rt=>{$i(rt.target.value),Mi&&Sn("")},placeholder:"Senha do admin",autoComplete:"current-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"}),m.jsx("button",{type:"button",onClick:()=>ga(T),disabled:ha===T.uid,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:ha===T.uid?"Excluindo...":"Excluir"})]})]})]},T.uid)})})]})})]})},Hn=()=>{const O=(()=>{switch(Ha[ze].id){case"recurso":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(Ct,{title:"Triar um novo recurso",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Tipo",children:m.jsxs("select",{className:fe("tipo"),value:S.tipo,onChange:T=>de("tipo",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Especial",children:"Especial"}),m.jsx("option",{value:"Extraordinrio",children:"Extraordinrio"})]})}),m.jsx(ce,{label:"Sigla para minutas",children:m.jsx("input",{className:fe("sigla"),placeholder:"AR-99",value:S.sigla,onChange:T=>{const $=T.target.value;de("sigla",$.replace(/^[aA][rR]/,"AR"))}})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Acordo",children:m.jsxs("select",{className:fe("acordo"),value:S.acordo,onChange:T=>de("acordo",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.acordo==="sim"&&m.jsx(ce,{label:"Acordo vlido?",children:m.jsxs("select",{className:fe("valido"),value:S.valido,onChange:T=>de("valido",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Desistncia",children:m.jsxs("select",{className:fe("desist"),value:S.desist,onChange:T=>de("desist",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.desist==="sim"&&m.jsx(ce,{label:"Desistncia vlida?",children:m.jsxs("select",{className:fe("valida"),value:S.valida,onChange:T=>de("valida",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]}),m.jsx(Ct,{title:"Ajuda rpida",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsxs("li",{children:[m.jsx(Ut,{children:"Importante"})," Confirme a validade de acordos e desistncias antes de prosseguir."]}),m.jsxs("li",{children:[m.jsx(Ut,{children:"Tipificao"})," Especial aplica tabela STJ; Extraordinrio aplica tabela STF."]}),m.jsxs("li",{children:[m.jsx(Ut,{children:"Sigla"})," Use o padro interno (ex.: AR-130E+T) para a minuta/post-it."]})]})})]});case"dados":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(Ct,{title:"Dados iniciais",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Interposio (data)",children:m.jsx("input",{type:"date",className:fe("interp"),value:S.interp,onChange:T=>de("interp",T.target.value)})}),m.jsx(ce,{label:"Deciso recorrida",children:m.jsxs("select",{className:fe("decrec"),value:S.decrec,onChange:T=>de("decrec",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"colegiada/acrdo",children:"colegiada/acrdo"}),m.jsx("option",{value:"monocrtica/singular",children:"Monocrtica/singular"})]})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Cmara (ramo)",children:m.jsxs("select",{className:fe("camaraArea"),value:S.camaraArea,onChange:T=>de("camaraArea",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Cvel",children:"Cvel"}),m.jsx("option",{value:"Crime",children:"Crime"})]})}),m.jsx(ce,{label:"Nmero da Cmara",children:m.jsx("input",{className:fe("camaraNumero","no-spinner"),type:"number",min:1,placeholder:"Ex.: 7",value:S.camaraNumero,onChange:T=>de("camaraNumero",T.target.value)})}),m.jsx(ce,{label:"Prazo em aberto na origem?",children:m.jsxs("select",{className:fe("emaberto"),value:S.emaberto,onChange:T=>de("emaberto",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]}),m.jsx(Ct,{title:"Checklist rpido",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Se for deciso monocrtica, o fluxo deve seguir at a etapa de custas."}),m.jsx("li",{children:" Prazo em aberto ignora contrarrazes (sero tratadas depois)."})]})})]});case"tempest":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(Ct,{title:"Tempestividade",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Envio (expedio) da intimao",children:m.jsx("input",{type:"date",className:fe("envio"),value:S.envio,onChange:T=>de("envio",T.target.value)})}),m.jsx(ce,{label:"Consulta eletrnica (leitura)",children:m.jsxs("select",{className:fe("consulta"),value:S.consulta,onChange:T=>de("consulta",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.consulta==="sim"&&m.jsx(ce,{label:"Data da leitura",children:m.jsx("input",{type:"date",className:fe("leitura"),value:S.leitura,onChange:T=>de("leitura",T.target.value)})}),m.jsx(ce,{label:"Prazo",children:m.jsxs("select",{className:fe("emdobro"),value:S.emdobro,disabled:Qt,onChange:T=>de("emdobro",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"simples",children:"Simples (15 dias)"}),m.jsx("option",{value:"em dobro",children:"Em dobro (30 dias)"})]})}),Qt&&m.jsx("p",{className:"text-xs text-slate-500",children:"rgo pblico informado: prazo em dobro aplicado automaticamente."}),m.jsx("p",{className:"md:col-span-2 text-xs text-slate-500",children:"Use prazo em dobro apenas para Defensoria Pblica, MP, NPJ ou advogado dativo."})]}),m.jsxs("div",{className:"mt-4 bg-slate-50 border border-slate-200 rounded-xl p-4",children:[m.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Resultado parcial"}),ue.tempest.status==="pendente"?m.jsx("div",{className:"text-sm text-slate-500",children:ue.tempest.mensagem}):m.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm text-slate-800",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Intimao:"})," ",zi(ue.tempest.intim)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Comeo do prazo:"})," ",zi(ue.tempest.comeco)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Prazo:"})," ",ue.tempest.prazo," dias"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Vencimento:"})," ",zi(ue.tempest.venc)]}),m.jsxs("div",{className:"col-span-full flex items-center gap-2 text-sm",children:[ue.tempest.status==="tempestivo"?m.jsx(y2,{className:"w-4 h-4 text-green-600"}):m.jsx(_2,{className:"w-4 h-4 text-amber-500"}),m.jsx("span",{className:"font-semibold uppercase tracking-tight",children:ue.tempest.status})]})]})]})]}),m.jsx(Ct,{title:"Critrios usados",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Intimao presumida 10 dias aps expedio (aps vinculao no DJEN), salvo leitura antes disso."}),m.jsx("li",{children:" Ateno ao calendrio e s comprovaes de feriado/prorrogao."}),m.jsx("li",{children:" Prazo em dobro: apenas Defensoria Pblica, MP, NPJ ou advogado dativo."})]})})]});case"preparo":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsx(Ct,{title:"Preparo e custas",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Multa por embargos protelatrios",children:m.jsxs("select",{className:fe("multa"),value:S.multa,onChange:T=>de("multa",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no",children:"No"}),m.jsx("option",{value:"sim, recolhida",children:"Sim, recolhida"}),m.jsx("option",{value:"sim, no recolhida",children:"Sim, no recolhida"})]})}),S.multa==="sim, no recolhida"&&m.jsx(ce,{label:"Motivo",children:m.jsxs("select",{className:fe("motivo"),value:S.motivo,onChange:T=>de("motivo",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Fazenda Pblica ou justia gratuita",children:"Fazenda Pblica ou justia gratuita"}),m.jsx("option",{value:" o prprio objeto do recurso",children:" o prprio objeto do recurso"}),m.jsx("option",{value:"no identificado",children:"No identificado"})]})}),m.jsx(ce,{label:"Dispensa (MP/ente pblico/autarquia)",children:m.jsxs("select",{className:fe("dispensa"),value:S.dispensa,onChange:T=>de("dispensa",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.dispensa==="sim"&&m.jsx("p",{className:"text-xs text-slate-500",children:"Dispensa informada: justia gratuita no  necessria."}),S.dispensa==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Justia gratuita",children:m.jsxs("select",{className:fe("gratuidade"),value:S.gratuidade,onChange:T=>de("gratuidade",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no invocada",children:"No invocada"}),m.jsx("option",{value:"j  ou afirma ser beneficirio",children:"J  ou afirma ser beneficirio"}),m.jsx("option",{value:"requer no recurso em anlise",children:"Requer no recurso em anlise"}),m.jsx("option",{value:" o prprio objeto do recurso",children:" o prprio objeto do recurso"}),m.jsx("option",{value:"presumida (defensor pblico, dativo ou NPJ)",children:"Presumida (defensor pblico, dativo ou NPJ)"})]})}),S.gratuidade==="j  ou afirma ser beneficirio"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Deferida expressamente?",children:m.jsxs("select",{className:fe("deferida"),value:S.deferida,onChange:T=>de("deferida",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.deferida==="sim"&&m.jsx(ce,{label:"Movimento (deferimento)",children:m.jsx("input",{className:fe("movdef"),placeholder:"Ex.: 9.1",value:S.movdef,onChange:T=>de("movdef",T.target.value)})}),S.deferida==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Requerida anteriormente?",children:m.jsxs("select",{className:fe("requerida"),value:S.requerida,onChange:T=>de("requerida",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.requerida==="sim"&&m.jsx(ce,{label:"Movimento (pedido)",children:m.jsx("input",{className:fe("movped"),placeholder:"Ex.: 9.1",value:S.movped,onChange:T=>de("movped",T.target.value)})})]}),m.jsx(ce,{label:"Ato incompatvel (pagamento prvio)?",children:m.jsxs("select",{className:fe("atoincomp"),value:S.atoincomp,onChange:T=>de("atoincomp",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),S.gratuidade==="no invocada"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Comprovao de preparo",children:m.jsxs("select",{className:fe("comprova"),value:S.comprova,onChange:T=>de("comprova",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no prazo para interposio do recurso",children:"No prazo para interposio do recurso"}),m.jsx("option",{value:"no dia til seguinte ao trmino do prazo",children:"No dia til seguinte ao trmino do prazo"}),m.jsx("option",{value:"posteriormente",children:"Posteriormente"}),m.jsx("option",{value:"ausente",children:"Ausente"})]})}),S.comprova==="no dia til seguinte ao trmino do prazo"&&m.jsx(ce,{label:"Recurso interposto no ltimo dia, aps as 16h?",children:m.jsxs("select",{className:fe("apos16"),value:S.apos16,onChange:T=>de("apos16",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})]})}),!Qt&&m.jsxs(Ct,{title:"Documentos e valores",children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsx(ce,{label:"Movimento GRU (guia/comprovante)",children:m.jsx("input",{className:fe("grumov"),placeholder:"Ex.: 1.2",value:S.grumov,onChange:T=>de("grumov",T.target.value)})}),m.jsx(ce,{label:"Movimento GRU (auto)",children:m.jsx("input",{className:fe("grumovComp"),placeholder:"Ex.: 1.2",value:S.grumovComp,onChange:T=>de("grumovComp",T.target.value)})}),m.jsx("div",{className:"md:col-span-2",children:m.jsxs(ce,{label:`Valor pago ${ue.stLabel}/FUNJUS`,children:[m.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 mb-2",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:S.usarIntegral,onChange:T=>de("usarIntegral",T.target.checked)}),m.jsx("span",{children:"Usar valor integral devido (preenche automtico)"})]}),m.jsxs("div",{className:"grid gap-2",children:[m.jsx("input",{className:fe("valorst"),type:"number",step:"0.01",placeholder:"STJ/STF",value:S.valorst,onChange:T=>de("valorst",T.target.value)}),m.jsx("input",{className:fe("valorfj"),type:"number",step:"0.01",placeholder:"Funjus",value:S.valorfj,onChange:T=>de("valorfj",T.target.value)})]})]})}),Et&&m.jsx("div",{className:"md:col-span-2",children:m.jsxs(ce,{label:"Justificativa Funjus (valor abaixo do padro)",children:[m.jsx("textarea",{className:fe("funjusObs","h-24 resize-none"),maxLength:400,placeholder:"Descreva o motivo do valor menor.",value:S.funjusObs,onChange:T=>de("funjusObs",T.target.value)}),ys&&m.jsx("span",{className:"text-xs text-rose-600",children:"Informe o motivo do valor menor."})]})}),m.jsx(ce,{label:"Movimento FUNJUS (guia/comprovante)",children:m.jsx("input",{className:fe("funjusmov"),placeholder:"Ex.: 1.5",value:S.funjusmov,onChange:T=>de("funjusmov",T.target.value)})}),m.jsx(ce,{label:"Juntou guia?",children:m.jsxs("select",{className:fe("guia"),value:S.guia,onChange:T=>de("guia",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.guia==="sim"&&m.jsx(m.Fragment,{children:m.jsx(ce,{label:"Guia original para o recurso?",children:m.jsxs("select",{className:fe("guiorig"),value:S.guiorig,onChange:T=>de("guiorig",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})}),m.jsx(ce,{label:"Juntou comprovante?",children:m.jsxs("select",{className:fe("comp"),value:S.comp,onChange:T=>de("comp",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.comp==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Tipo de comprovante",children:m.jsxs("select",{className:fe("comptipo"),value:S.comptipo,onChange:T=>de("comptipo",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"de pagamento",children:"De pagamento"}),m.jsx("option",{value:"de agendamento",children:"De agendamento"})]})}),m.jsx(ce,{label:"Cdigo de barras",children:m.jsxs("select",{className:fe("codbar"),value:S.codbar,onChange:T=>de("codbar",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"confere",children:"Confere"}),m.jsx("option",{value:"diverge ou guia ausente",children:"Diverge ou guia ausente"})]})})]}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(ce,{label:"COHAB LD? (parcial Funjus)",children:m.jsxs("select",{className:fe("parcialTipo"),value:S.parcialTipo,onChange:T=>de("parcialTipo",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no",children:"No"}),m.jsx("option",{value:"JG parcial",children:"JG parcial"}),m.jsx("option",{value:"COHAB Londrina",children:"COHAB Londrina"}),m.jsx("option",{value:"outros",children:"Outros (especificar)"})]})})}),S.parcialTipo==="outros"&&m.jsx("div",{className:"md:col-span-2",children:m.jsx(ce,{label:"Descrever pagamento parcial",children:m.jsx("input",{className:fe("parcialOutro"),placeholder:"Ex.: parcelamento, precatrio, etc.",value:S.parcialOutro,onChange:T=>de("parcialOutro",T.target.value)})})})]}),S.interp?m.jsxs("div",{className:"mt-4 space-y-1 text-sm text-slate-600",children:[m.jsxs("div",{children:["Valores devidos agora: ",ue.stLabel," ",Ci(ue.deverST)," | FUNJUS"," ",Ci(ue.deverFJ)]}),m.jsxs("div",{className:"text-xs text-slate-500",children:["Base aplicada: ",ue.stLabel," ",Lh(ue.stRateStart)," | FUNJUS"," ",Lh(ue.fjRateStart)]})]}):m.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Informe a data de interposio para calcular as custas automaticamente."})]}),!Qt&&m.jsx(Ct,{title:"Notas prticas",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Marque de agendamento se o comprovante no tem autenticao."}),m.jsx("li",{children:" Se houver ato incompatvel com a gratuidade, o preparo ser exigido."}),m.jsx("li",{children:" Campos de movimento ajudam a gerar a minuta/post-it automaticamente."})]})})]});case"processo":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[S.emaberto==="sim"&&m.jsx("div",{className:"lg:col-span-2 rounded-2xl border border-slate-200/80 bg-white/80 text-slate-700 p-4 text-sm shadow-sm",children:"Prazo em aberto na origem: contrarrazes podem ser tratadas depois. Preencha apenas se j houver dados."}),m.jsx(Ct,{title:"Representao",children:Qt?m.jsx("p",{className:"text-sm text-slate-600",children:"rgo pblico informado: procurao dispensada."}):m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Subscritor",children:m.jsxs("select",{className:fe("subscritor"),value:S.subscritor,onChange:T=>de("subscritor",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"advogado particular",children:"Advogado particular"}),m.jsx("option",{value:"procurador pblico",children:"Procurador pblico"}),m.jsx("option",{value:"procurador nomeado",children:"Procurador nomeado"}),m.jsx("option",{value:"advogado em causa prpria",children:"Advogado em causa prpria"})]})}),S.subscritor==="procurador nomeado"&&m.jsx(ce,{label:"Movimento (nomeao)",children:m.jsx("input",{className:fe("nomemovi"),placeholder:"Ex.: 9.1",value:S.nomemovi,onChange:T=>de("nomemovi",T.target.value)})}),S.subscritor==="advogado particular"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Movimentos (cadeia de poderes)",children:m.jsx("input",{className:fe("movis"),placeholder:"Ex.: 1.1; 9.1; via sistema",value:S.movis,onChange:T=>de("movis",T.target.value)})}),m.jsx(ce,{label:"Cadeia completa?",children:m.jsxs("select",{className:fe("cadeia"),value:S.cadeia,onChange:T=>de("cadeia",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.cadeia==="no"&&m.jsx(ce,{label:"Poderes faltantes",children:m.jsxs("select",{className:fe("faltante"),value:S.faltante,onChange:T=>de("faltante",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"ao prprio subscritor",children:"Ao prprio subscritor"}),m.jsx("option",{value:"a outro elo da cadeia",children:"A outro elo da cadeia"})]})})]})]})}),m.jsx(Ct,{title:"Pedidos",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Efeito suspensivo",children:m.jsxs("select",{className:fe("suspefeito"),value:S.suspefeito,onChange:T=>de("suspefeito",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no requerido",children:"No requerido"}),m.jsx("option",{value:"requerido no corpo do recurso",children:"Requerido no corpo do recurso"}),m.jsx("option",{value:"requerido em petio apartada",children:"Requerido em petio apartada"})]})}),S.suspefeito==="requerido em petio apartada"&&m.jsx(ce,{label:"Autuado?",children:m.jsxs("select",{className:fe("autuado"),value:S.autuado,onChange:T=>de("autuado",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),m.jsx(ce,{label:"Exclusividade na intimao",children:m.jsxs("select",{className:fe("exclusivi"),value:S.exclusivi,onChange:T=>de("exclusivi",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"requerida",children:"Requerida"}),m.jsx("option",{value:"no requerida",children:"No requerida"})]})}),S.exclusivi==="requerida"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Procurador j cadastrado?",children:m.jsxs("select",{className:fe("cadastrada"),value:S.cadastrada,onChange:T=>de("cadastrada",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.cadastrada==="no"&&m.jsx(ce,{label:"Advogado regularmente constitudo?",children:m.jsxs("select",{className:fe("regular"),value:S.regular,onChange:T=>de("regular",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})}),m.jsx(Ct,{title:"Processamento",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Contrarrazes",children:m.jsxs("select",{className:fe("contrarra"),value:S.contrarra,onChange:T=>de("contrarra",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"apresentadas",children:"Apresentadas"}),m.jsx("option",{value:"ausente alguma",children:"Ausente alguma"}),m.jsx("option",{value:"ausentes",children:"Ausentes"})]})}),S.contrarra!==""&&S.contrarra!=="ausentes"&&m.jsx(ce,{label:"Movimentos das contrarrazes/renncia",children:m.jsx("input",{className:fe("contramovis"),placeholder:"Ex.: 6.1; 7.1 (renncia)",value:S.contramovis,onChange:T=>de("contramovis",T.target.value)})}),S.contrarra!=="apresentadas"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Recorrido(s) intimado(s)?",children:m.jsxs("select",{className:fe("intimado"),value:S.intimado,onChange:T=>de("intimado",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.intimado==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Movimento de intimao",children:m.jsx("input",{className:fe("intimovi"),placeholder:"Ex.: 3.1",value:S.intimovi,onChange:T=>de("intimovi",T.target.value)})}),m.jsx(ce,{label:"Prazo em aberto para algum recorrido?",children:m.jsxs("select",{className:fe("crraberto"),value:S.crraberto,onChange:T=>de("crraberto",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.crraberto==="no"&&m.jsx(ce,{label:"Decurso certificado?",children:m.jsxs("select",{className:fe("decursocrr"),value:S.decursocrr,onChange:T=>de("decursocrr",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),S.intimado==="no"&&m.jsx(ce,{label:"Recorrido(s) sem advogado constitudo?",children:m.jsxs("select",{className:fe("semadv"),value:S.semadv,onChange:T=>de("semadv",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),m.jsx(ce,{label:"Interveno do MP?",children:m.jsxs("select",{className:fe("emepe"),value:S.emepe,onChange:T=>de("emepe",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.emepe==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Manifestao nos autos?",children:m.jsxs("select",{className:fe("mani"),value:S.mani,onChange:T=>de("mani",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.mani==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Teor da manifestao",children:m.jsxs("select",{className:fe("teormani"),value:S.teormani,onChange:T=>de("teormani",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"mera cincia",children:"Mera cincia"}),m.jsx("option",{value:"pela admisso",children:"Pela admisso"}),m.jsx("option",{value:"pela inadmisso",children:"Pela inadmisso"}),m.jsx("option",{value:"ausncia de interesse",children:"Ausncia de interesse"})]})}),m.jsx(ce,{label:"Movimento",children:m.jsx("input",{className:fe("manimovis"),placeholder:"Ex.: 9.1",value:S.manimovis,onChange:T=>de("manimovis",T.target.value)})}),S.teormani==="mera cincia"&&m.jsx(ce,{label:"Decurso do prazo?",children:m.jsxs("select",{className:fe("decursomp"),value:S.decursomp,onChange:T=>de("decursomp",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),S.mani==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Autos remetidos?",children:m.jsxs("select",{className:fe("remetido"),value:S.remetido,onChange:T=>de("remetido",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),S.remetido==="sim"&&m.jsx(ce,{label:"Decurso do prazo?",children:m.jsxs("select",{className:fe("decursomp"),value:S.decursomp,onChange:T=>de("decursomp",T.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})]})})]});case"resumo":return m.jsxs("div",{className:"space-y-4",children:[m.jsx(Ct,{title:"Resultado da triagem",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm text-slate-800",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Tempestivo:"})," ",ue.tempest.status]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Contrarrazes:"})," ",ue.controut]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Ministrio Pblico:"})," ",ue.mpout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"GRU:"})," ",ue.grout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Funjus:"})," ",ue.funjout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Procurao/Nomeao:"})," ",ue.procurout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Exclusividade na intimao:"})," ",ue.exclusout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Efeito suspensivo:"})," ",ue.suspefout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Pagamento parcial:"})," ",ue.parcialout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Vencimento:"})," ",zi(ue.tempest.venc)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Prazo:"})," ",ue.tempest.prazo||""," dias"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Cmara:"})," ",JE(S)]})]})}),m.jsx(Ct,{title:"Observaes e minutas sugeridas",children:ue.observacoes.length===0&&!(Et&&Nr)?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhuma observao pendente."}):m.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[ue.observacoes.length>0&&m.jsx("ul",{className:"list-disc pl-5 space-y-2",children:ue.observacoes.map((T,$)=>m.jsx("li",{children:T},$))}),Et&&Nr&&m.jsxs("p",{children:[m.jsx("strong",{children:"Justificativa Funjus:"})," ",Nr]})]})}),m.jsx("div",{className:"grid lg:grid-cols-2 gap-4",children:m.jsx(Ct,{title:"Notas rpidas (salvas no navegador)",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("textarea",{className:fe("anotacoes","h-32 resize-none"),maxLength:900,placeholder:"Pendncias especficas, nomes de partes, nmeros de telefone...",value:S.anotacoes,onChange:T=>de("anotacoes",T.target.value)}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[m.jsx("span",{children:"Anotaes guardadas apenas neste dispositivo."}),m.jsxs("span",{children:[S.anotacoes.length,"/900"]})]})]})})}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("button",{onClick:da,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:[m.jsx(wm,{className:"w-4 h-4"}),Q?"Copiado!":"Copiar resumo"]}),m.jsx("span",{className:"sr-only",role:"status","aria-live":"polite",children:Q?"Resumo copiado para a rea de transferncia.":""})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[m.jsxs(Ut,{children:[ue.stLabel,": ",Ci(ue.deverST)," | FUNJUS: ",Ci(ue.deverFJ)]}),m.jsxs(Ut,{children:["Intimao: ",zi(ue.tempest.intim)]}),m.jsxs(Ut,{children:["Comeo do prazo: ",zi(ue.tempest.comeco)]})]})]});default:return null}})();return O?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsx(Ut,{tone:Mn===0?"success":"warning",children:Mn===0?"Etapa completa":`${Mn} campo(s) pendente(s)`}),Mn>0&&m.jsx("span",{className:"text-xs text-slate-500",children:"Complete os campos pendentes para avanar."})]}),O]}):null},Dr=ue.tempest.status==="tempestivo"?"positive":ue.tempest.status==="intempestivo"?"negative":"neutral",lt=S.contrarra==="apresentadas"?"positive":S.contrarra==="ausentes"||S.contrarra==="ausente alguma"?"negative":"neutral",ii=We?`Salvo s ${SN(We)}`:"Salvamento local",va=Math.round(ze/(Ha.length-1)*100);return ep?l?!r||!n?ya():m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 relative page-enter",children:[m.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[m.jsx("div",{className:"absolute -top-24 -left-16 h-72 w-72 rounded-full bg-amber-200/30 blur-3xl"}),m.jsx("div",{className:"absolute top-6 right-[-5rem] h-64 w-64 rounded-full bg-teal-200/30 blur-3xl"}),m.jsx("div",{className:"absolute bottom-[-8rem] left-10 h-80 w-80 rounded-full bg-sky-200/30 blur-3xl"})]}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("header",{className:"header-surface border-b border-white/60 bg-white/75 backdrop-blur-2xl shadow-[0_25px_70px_-50px_rgba(15,23,42,0.55)]",children:[m.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-5 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"h-11 w-11 rounded-2xl bg-white border border-slate-200 overflow-hidden shadow-lg shadow-slate-300/60 flex items-center justify-center",children:m.jsx("img",{src:u2,alt:"Simba-JUD",className:"h-full w-full object-cover"})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs uppercase tracking-[0.22em] text-slate-500",children:"Simba-JUD"}),m.jsx("h1",{className:"text-xl font-semibold text-slate-900 leading-tight font-display",children:"Admissibilidade Recursal"})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[m.jsx(Ut,{children:ii}),m.jsxs("div",{className:"user-chip flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1 shadow-sm",children:[m.jsx("div",{className:"avatar-surface h-6 w-6 rounded-full overflow-hidden border border-slate-200 bg-white flex items-center justify-center",children:n.photoURL?m.jsx("img",{src:n.photoURL,alt:"Perfil",className:"h-full w-full object-cover"}):m.jsx("span",{className:"text-[10px] font-semibold text-slate-600",children:f2(n.name||n.email)})}),m.jsx("span",{className:"text-xs font-semibold text-slate-700",children:n.name||n.email})]}),m.jsxs(Ut,{children:["Triagens: ",n.triageCount||0]}),sn&&m.jsx(Ut,{tone:"success",children:"Admin"})]}),m.jsx("button",{onClick:()=>Ne(O=>!O),className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:Se?"Fechar perfil":"Perfil"}),sn&&m.jsxs("button",{onClick:()=>ua(O=>!O),className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition inline-flex items-center",children:[xr?"Fechar admin":"Administrao",jn>0&&m.jsx("span",{className:"ml-2 inline-flex items-center justify-center rounded-full bg-rose-500 text-white text-[10px] px-2 py-0.5",children:jn})]}),m.jsx("button",{onClick:Wi,className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Sair"}),m.jsx("button",{onClick:()=>ar("Isso vai limpar a triagem atual. Deseja continuar?"),className:"text-sm px-3 py-2 rounded-lg border border-slate-900 bg-slate-900 text-white hover:bg-black transition shadow-sm",children:"Recomear"})]})]}),m.jsxs("div",{className:"max-w-6xl mx-auto px-4 pb-4",children:[m.jsx("div",{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":va,"aria-label":"Progresso da triagem",className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-slate-900 via-amber-500 to-teal-500 transition-all",style:{width:`${va}%`}})}),m.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Etapa ",ze+1," de ",Ha.length,": ",Ha[ze].label]}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 md:hidden",children:[m.jsx(Ut,{children:ii}),m.jsx(Ut,{children:n.name||n.email}),m.jsxs(Ut,{children:["Triagens: ",n.triageCount||0]}),sn&&m.jsx(Ut,{tone:"success",children:"Admin"})]}),m.jsx("div",{className:"mt-4 flex items-center gap-2 overflow-x-auto pb-2","aria-label":"Etapas",children:Ha.map((O,T)=>m.jsx(PN,{label:O.label,icon:O.icon,active:ze===T,onClick:()=>vt(T)},O.id))})]})]}),m.jsxs("main",{ref:mi,className:"max-w-7xl mx-auto px-4 py-8",children:[sr(),ni(),m.jsxs("div",{className:"grid lg:grid-cols-[2fr_1fr] gap-5 items-start",children:[m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"main-surface bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl p-6 shadow-[0_28px_60px_-40px_rgba(15,23,42,0.5)]",children:[m.jsx("div",{className:"animate-fade-in",children:Hn()}),m.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[m.jsxs("button",{onClick:qn,disabled:ze===0,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-300 text-slate-800 bg-white disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-sm transition",children:[m.jsx(FT,{className:"w-4 h-4"}),"Voltar"]}),ze<Ha.length-1?m.jsxs("button",{onClick:As,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-slate-900 to-slate-800 text-white hover:from-slate-950 hover:to-slate-900 transition shadow-sm",children:["Avanar",m.jsx(GT,{className:"w-4 h-4"})]}):m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("button",{onClick:vs,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-red-300 bg-red-600 text-white hover:bg-red-700 hover:shadow-sm transition",children:[m.jsx(v2,{className:"w-4 h-4"}),"Baixar resumo"]}),m.jsxs("button",{onClick:()=>ar("Isso vai limpar a triagem atual. Deseja iniciar outra?",()=>{ma()}),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 transition shadow-sm",children:["Nova triagem",m.jsx(qT,{className:"w-4 h-4"})]})]})]})]})}),m.jsxs("aside",{className:"space-y-3 lg:sticky lg:top-20",children:[m.jsx(Ct,{title:"Resumo",children:m.jsxs("div",{className:"grid gap-3",children:[m.jsx(p2,{label:"Tempestividade",value:ue.tempest.status,helper:`Vencimento: ${zi(ue.tempest.venc)}`,tone:Dr}),m.jsx(p2,{label:"Contrarrazes",value:ue.controut,helper:S.emaberto==="sim"?"Prazo em aberto na origem":"Fluxo em andamento",tone:lt})]})}),m.jsxs(Ct,{title:"Consequncias automticas",children:[zn.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum comando gerado at agora."}):m.jsx("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-700",children:zn.map((O,T)=>m.jsx("li",{children:O},T))}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[m.jsxs("button",{onClick:Vn,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:[m.jsx(wm,{className:"w-4 h-4"}),_e?"Copiado!":"Copiar consequncias"]}),m.jsx("span",{className:"sr-only",role:"status","aria-live":"polite",children:_e?"Consequncias copiadas para a rea de transferncia.":""})]})]})]})]})]})]}),m.jsx(sh,{})]}):m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 flex items-center justify-center px-4 py-10",children:[m.jsx(Ct,{title:"Carregando",children:m.jsx("p",{className:"text-sm text-slate-600",children:"Preparando o acesso seguro..."})}),m.jsx(sh,{})]}):m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 flex items-center justify-center px-4 py-10",children:[m.jsx(Ct,{title:"Configurao necessria",children:m.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[m.jsx("p",{children:"Configure as variveis do Firebase para habilitar autenticao e perfis de usurio."}),m.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[m.jsx("li",{children:"`VITE_FIREBASE_API_KEY`"}),m.jsx("li",{children:"`VITE_FIREBASE_AUTH_DOMAIN`"}),m.jsx("li",{children:"`VITE_FIREBASE_PROJECT_ID`"}),m.jsx("li",{children:"`VITE_FIREBASE_APP_ID`"})]}),m.jsx("p",{children:"Depois reinicie o servidor."})]})}),m.jsx(sh,{})]})},LN=UT.createRoot(document.getElementById("root"));LN.render(m.jsx(UN,{}));const ZE=document.createElement("style");ZE.innerHTML=`
.page-bg {
  background:
    radial-gradient(circle at 18% 16%, rgba(249, 115, 22, 0.12), transparent 36%),
    radial-gradient(circle at 82% 12%, rgba(20, 184, 166, 0.12), transparent 38%),
    radial-gradient(circle at 22% 78%, rgba(56, 189, 248, 0.12), transparent 40%),
    linear-gradient(180deg, #f8fafc 0%, #eef2f7 55%, #f1f5f9 100%);
  background-size: 200% 200%;
  animation: flowDrift 18s ease-in-out infinite alternate;
  transition: background 0.35s ease;
}
.page-bg ::selection {
  background: rgba(249, 115, 22, 0.18);
  color: #0f172a;
}
.watermark {
  color: #0f172a;
}
.page-enter {
  animation: pageIn 0.45s ease both;
}
@keyframes pageIn {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@keyframes flowDrift {
  0% {
    background-position: 0% 20%;
  }
  100% {
    background-position: 100% 80%;
  }
}
@keyframes flowIn {
  from {
    opacity: 0;
    transform: translateY(18px) scale(0.985);
    filter: blur(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}
.animate-fade-in {
  animation: flowIn 0.55s cubic-bezier(0.22, 1, 0.36, 1) both;
}
.card-surface,
.main-surface,
.header-surface,
.metric-surface,
.pill,
.step-chip,
.input {
  transition: background-color 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease,
    color 0.25s ease, transform 0.2s ease;
  will-change: transform;
}
.card-surface:hover,
.main-surface:hover {
  transform: translateY(-3px);
}
.metric-surface:hover {
  transform: translateY(-2px);
}
.step-chip:hover {
  transform: translateY(-1px);
}
button:active {
  transform: translateY(1px);
}
.theme-dark body {
  color: #e2e8f0;
  background: #0b1220;
}
.theme-dark {
  color-scheme: dark;
}
.theme-dark .page-bg {
  background:
    radial-gradient(circle at 18% 16%, rgba(148, 163, 184, 0.12), transparent 36%),
    radial-gradient(circle at 82% 12%, rgba(56, 189, 248, 0.08), transparent 38%),
    radial-gradient(circle at 22% 78%, rgba(45, 212, 191, 0.1), transparent 40%),
    linear-gradient(180deg, #0b1220 0%, #0f172a 60%, #111827 100%);
  background-size: 200% 200%;
}
.theme-dark .bg-white,
.theme-dark .bg-white\\/85,
.theme-dark .bg-white\\/80,
.theme-dark .bg-white\\/75,
.theme-dark .bg-white\\/70 {
  background-color: rgba(15, 23, 42, 0.85) !important;
}
.theme-dark .bg-slate-50,
.theme-dark .bg-slate-100 {
  background-color: rgba(30, 41, 59, 0.75) !important;
}
.theme-dark .bg-amber-50 {
  background-color: rgba(120, 53, 15, 0.3) !important;
}
.theme-dark .bg-emerald-50 {
  background-color: rgba(6, 95, 70, 0.3) !important;
}
.theme-dark .bg-rose-50 {
  background-color: rgba(159, 18, 57, 0.28) !important;
}
.theme-dark .watermark {
  color: #f8fafc;
}
.theme-dark .header-surface {
  background: rgba(15, 23, 42, 0.82);
  border-color: rgba(148, 163, 184, 0.2);
}
.theme-dark .card-surface,
.theme-dark .main-surface {
  background: rgba(15, 23, 42, 0.85);
  border-color: rgba(148, 163, 184, 0.2);
  box-shadow: 0 24px 50px -40px rgba(0, 0, 0, 0.6);
}
.theme-dark .user-chip {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(148, 163, 184, 0.3);
}
.theme-dark .avatar-surface {
  background: rgba(15, 23, 42, 0.95);
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .metric-surface {
  background: rgba(30, 41, 59, 0.75);
  border-color: rgba(148, 163, 184, 0.2);
  color: #e2e8f0;
}
.theme-dark .pill {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(148, 163, 184, 0.25);
  color: #e2e8f0;
}
.theme-dark .step-chip {
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .step-chip[aria-current='step'] {
  background: #0f172a;
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .input {
  background: rgba(15, 23, 42, 0.85);
  border-color: rgba(148, 163, 184, 0.4);
  color: #e2e8f0;
  box-shadow: inset 0 1px 0 rgba(15, 23, 42, 0.6);
}
.theme-dark select.input {
  background-color: rgba(15, 23, 42, 0.85) !important;
  color: #e2e8f0;
}
.theme-dark select.input option {
  background-color: #0f172a;
  color: #e2e8f0;
}
.theme-dark .input::placeholder {
  color: rgba(148, 163, 184, 0.8);
}
.theme-dark .input:focus {
  box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.25);
  border-color: rgba(56, 189, 248, 0.6);
}
.theme-dark .text-slate-900,
.theme-dark .text-slate-800,
.theme-dark .text-slate-700 {
  color: #e2e8f0 !important;
}
.theme-dark .text-slate-600,
.theme-dark .text-slate-500 {
  color: rgba(226, 232, 240, 0.75) !important;
}
.theme-dark .text-slate-400 {
  color: rgba(226, 232, 240, 0.6) !important;
}
.theme-dark .text-amber-800,
.theme-dark .text-amber-700 {
  color: #fcd34d !important;
}
.theme-dark .text-emerald-700 {
  color: #6ee7b7 !important;
}
.theme-dark .text-rose-700 {
  color: #fda4af !important;
}
.theme-dark .border-slate-200 {
  border-color: rgba(148, 163, 184, 0.3) !important;
}
.theme-dark .border-white\\/80,
.theme-dark .border-white\\/70,
.theme-dark .border-white\\/60 {
  border-color: rgba(148, 163, 184, 0.25) !important;
}
.theme-dark .border-amber-200 {
  border-color: rgba(251, 191, 36, 0.35) !important;
}
.theme-dark .border-emerald-200 {
  border-color: rgba(52, 211, 153, 0.3) !important;
}
.theme-dark .border-rose-200 {
  border-color: rgba(251, 113, 133, 0.35) !important;
}
.input {
  width: 100%;
  border-radius: 0.45rem;
  border: 1px solid rgba(226, 232, 240, 0.95);
  padding: 0.5rem 0.75rem;
  background: rgba(255, 255, 255, 0.9);
  color: #0f172a;
  font-size: 0.875rem;
  line-height: 1.4;
  min-height: 2.5rem;
  box-sizing: border-box;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.input.rounded-r-none {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.input::placeholder {
  color: #94a3b8;
}
.input:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.65);
  background: #ffffff;
}
.input-error {
  border-color: rgba(226, 232, 240, 0.95);
  background: rgba(255, 255, 255, 0.9);
}
.input-error:focus {
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.65);
  background: #ffffff;
}
.input-success {
  border-color: rgba(16, 185, 129, 0.7);
  background: rgba(236, 253, 245, 0.6);
}
.input-success:focus {
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.85);
}
.theme-dark .input.rounded-r-none {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.no-spinner::-webkit-outer-spin-button,
.no-spinner::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.no-spinner {
  -moz-appearance: textfield;
  appearance: textfield;
}
@media (prefers-reduced-motion: reduce) {
  .page-enter {
    animation: none !important;
  }
  .page-bg {
    animation: none !important;
  }
  .card-surface,
  .main-surface,
  .header-surface,
  .metric-surface,
  .pill,
  .step-chip,
  .input,
  button {
    transition: none !important;
    transform: none !important;
  }
  .animate-fade-in {
    animation: none !important;
  }
}
`;document.head.appendChild(ZE);
