(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Wf={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function AT(){if(hv)return Zl;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:u}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var dv;function wT(){return dv||(dv=1,Wf.exports=AT()),Wf.exports}var m=wT(),em={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function xT(){if(fv)return Ne;fv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),j=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=j&&V[j]||V["@@iterator"],typeof V=="function"?V:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,ee={};function ae(V,Y,re){this.props=V,this.context=Y,this.refs=ee,this.updater=re||te}ae.prototype.isReactComponent={},ae.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ae.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function be(){}be.prototype=ae.prototype;function fe(V,Y,re){this.props=V,this.context=Y,this.refs=ee,this.updater=re||te}var qe=fe.prototype=new be;qe.constructor=fe,ne(qe,ae.prototype),qe.isPureReactComponent=!0;var Ae=Array.isArray;function Ve(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(V,Y,re){var ue=re.ref;return{$$typeof:r,type:V,key:Y,ref:ue!==void 0?ue:null,props:re}}function P(V,Y){return N(V.type,Y,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function T(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(re){return Y[re]})}var C=/\/+/g;function Ue(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?T(""+V.key):Y.toString(36)}function pt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Ve,Ve):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,Y,re,ue,we){var xe=typeof V;(xe==="undefined"||xe==="boolean")&&(V=null);var ke=!1;if(V===null)ke=!0;else switch(xe){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(V.$$typeof){case r:case e:ke=!0;break;case S:return ke=V._init,Q(ke(V._payload),Y,re,ue,we)}}if(ke)return we=we(V),ke=ue===""?"."+Ue(V,0):ue,Ae(we)?(re="",ke!=null&&(re=ke.replace(C,"$&/")+"/"),Q(we,Y,re,"",function(zi){return zi})):we!=null&&(O(we)&&(we=P(we,re+(we.key==null||V&&V.key===we.key?"":(""+we.key).replace(C,"$&/")+"/")+ke)),Y.push(we)),1;ke=0;var Ot=ue===""?".":ue+":";if(Ae(V))for(var Xe=0;Xe<V.length;Xe++)ue=V[Xe],xe=Ot+Ue(ue,Xe),ke+=Q(ue,Y,re,xe,we);else if(Xe=G(V),typeof Xe=="function")for(V=Xe.call(V),Xe=0;!(ue=V.next()).done;)ue=ue.value,xe=Ot+Ue(ue,Xe++),ke+=Q(ue,Y,re,xe,we);else if(xe==="object"){if(typeof V.then=="function")return Q(pt(V),Y,re,ue,we);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ke}function se(V,Y,re){if(V==null)return V;var ue=[],we=0;return Q(V,ue,"","",function(xe){return Y.call(re,xe,we++)}),ue}function ve(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(re){(V._status===0||V._status===-1)&&(V._status=1,V._result=re)},function(re){(V._status===0||V._status===-1)&&(V._status=2,V._result=re)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Le=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ze={map:se,forEach:function(V,Y,re){se(V,function(){Y.apply(this,arguments)},re)},count:function(V){var Y=0;return se(V,function(){Y++}),Y},toArray:function(V){return se(V,function(Y){return Y})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ne.Activity=x,Ne.Children=Ze,Ne.Component=ae,Ne.Fragment=n,Ne.Profiler=l,Ne.PureComponent=fe,Ne.StrictMode=a,Ne.Suspense=y,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},Ne.cache=function(V){return function(){return V.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(V,Y,re){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=ne({},V.props),we=V.key;if(Y!=null)for(xe in Y.key!==void 0&&(we=""+Y.key),Y)!R.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(ue[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)ue.children=re;else if(1<xe){for(var ke=Array(xe),Ot=0;Ot<xe;Ot++)ke[Ot]=arguments[Ot+2];ue.children=ke}return N(V.type,we,ue)},Ne.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Ne.createElement=function(V,Y,re){var ue,we={},xe=null;if(Y!=null)for(ue in Y.key!==void 0&&(xe=""+Y.key),Y)R.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=Y[ue]);var ke=arguments.length-2;if(ke===1)we.children=re;else if(1<ke){for(var Ot=Array(ke),Xe=0;Xe<ke;Xe++)Ot[Xe]=arguments[Xe+2];we.children=Ot}if(V&&V.defaultProps)for(ue in ke=V.defaultProps,ke)we[ue]===void 0&&(we[ue]=ke[ue]);return N(V,xe,we)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(V){return{$$typeof:g,render:V}},Ne.isValidElement=O,Ne.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:ve}},Ne.memo=function(V,Y){return{$$typeof:_,type:V,compare:Y===void 0?null:Y}},Ne.startTransition=function(V){var Y=I.T,re={};I.T=re;try{var ue=V(),we=I.S;we!==null&&we(re,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ve,Le)}catch(xe){Le(xe)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),I.T=Y}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(V){return I.H.use(V)},Ne.useActionState=function(V,Y,re){return I.H.useActionState(V,Y,re)},Ne.useCallback=function(V,Y){return I.H.useCallback(V,Y)},Ne.useContext=function(V){return I.H.useContext(V)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(V,Y){return I.H.useDeferredValue(V,Y)},Ne.useEffect=function(V,Y){return I.H.useEffect(V,Y)},Ne.useEffectEvent=function(V){return I.H.useEffectEvent(V)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(V,Y,re){return I.H.useImperativeHandle(V,Y,re)},Ne.useInsertionEffect=function(V,Y){return I.H.useInsertionEffect(V,Y)},Ne.useLayoutEffect=function(V,Y){return I.H.useLayoutEffect(V,Y)},Ne.useMemo=function(V,Y){return I.H.useMemo(V,Y)},Ne.useOptimistic=function(V,Y){return I.H.useOptimistic(V,Y)},Ne.useReducer=function(V,Y,re){return I.H.useReducer(V,Y,re)},Ne.useRef=function(V){return I.H.useRef(V)},Ne.useState=function(V){return I.H.useState(V)},Ne.useSyncExternalStore=function(V,Y,re){return I.H.useSyncExternalStore(V,Y,re)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.3",Ne}var mv;function $m(){return mv||(mv=1,em.exports=xT()),em.exports}var le=$m(),tm={exports:{}},Wl={},nm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function RT(){return pv||(pv=1,(function(r){function e(Q,se){var ve=Q.length;Q.push(se);e:for(;0<ve;){var Le=ve-1>>>1,Ze=Q[Le];if(0<l(Ze,se))Q[Le]=se,Q[ve]=Ze,ve=Le;else break e}}function n(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var se=Q[0],ve=Q.pop();if(ve!==se){Q[0]=ve;e:for(var Le=0,Ze=Q.length,V=Ze>>>1;Le<V;){var Y=2*(Le+1)-1,re=Q[Y],ue=Y+1,we=Q[ue];if(0>l(re,ve))ue<Ze&&0>l(we,re)?(Q[Le]=we,Q[ue]=ve,Le=ue):(Q[Le]=re,Q[Y]=ve,Le=Y);else if(ue<Ze&&0>l(we,ve))Q[Le]=we,Q[ue]=ve,Le=ue;else break e}}return se}function l(Q,se){var ve=Q.sortIndex-se.sortIndex;return ve!==0?ve:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],S=1,x=null,j=3,G=!1,te=!1,ne=!1,ee=!1,ae=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function qe(Q){for(var se=n(_);se!==null;){if(se.callback===null)a(_);else if(se.startTime<=Q)a(_),se.sortIndex=se.expirationTime,e(y,se);else break;se=n(_)}}function Ae(Q){if(ne=!1,qe(Q),!te)if(n(y)!==null)te=!0,Ve||(Ve=!0,T());else{var se=n(_);se!==null&&pt(Ae,se.startTime-Q)}}var Ve=!1,I=-1,R=5,N=-1;function P(){return ee?!0:!(r.unstable_now()-N<R)}function O(){if(ee=!1,Ve){var Q=r.unstable_now();N=Q;var se=!0;try{e:{te=!1,ne&&(ne=!1,be(I),I=-1),G=!0;var ve=j;try{t:{for(qe(Q),x=n(y);x!==null&&!(x.expirationTime>Q&&P());){var Le=x.callback;if(typeof Le=="function"){x.callback=null,j=x.priorityLevel;var Ze=Le(x.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ze=="function"){x.callback=Ze,qe(Q),se=!0;break t}x===n(y)&&a(y),qe(Q)}else a(y);x=n(y)}if(x!==null)se=!0;else{var V=n(_);V!==null&&pt(Ae,V.startTime-Q),se=!1}}break e}finally{x=null,j=ve,G=!1}se=void 0}}finally{se?T():Ve=!1}}}var T;if(typeof fe=="function")T=function(){fe(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ue=C.port2;C.port1.onmessage=O,T=function(){Ue.postMessage(null)}}else T=function(){ae(O,0)};function pt(Q,se){I=ae(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return j},r.unstable_next=function(Q){switch(j){case 1:case 2:case 3:var se=3;break;default:se=j}var ve=j;j=se;try{return Q()}finally{j=ve}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ve=j;j=Q;try{return se()}finally{j=ve}},r.unstable_scheduleCallback=function(Q,se,ve){var Le=r.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Le+ve:Le):ve=Le,Q){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=ve+Ze,Q={id:S++,callback:se,priorityLevel:Q,startTime:ve,expirationTime:Ze,sortIndex:-1},ve>Le?(Q.sortIndex=ve,e(_,Q),n(y)===null&&Q===n(_)&&(ne?(be(I),I=-1):ne=!0,pt(Ae,ve-Le))):(Q.sortIndex=Ze,e(y,Q),te||G||(te=!0,Ve||(Ve=!0,T()))),Q},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Q){var se=j;return function(){var ve=j;j=se;try{return Q.apply(this,arguments)}finally{j=ve}}}})(im)),im}var gv;function CT(){return gv||(gv=1,nm.exports=RT()),nm.exports}var rm={exports:{}},An={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv;function IT(){if(yv)return An;yv=1;var r=$m();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,_,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,An.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(y,_,null,S)},An.flushSync=function(y){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=S,a.d.f()}},An.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},An.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},An.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin),j=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:j,fetchPriority:G}):S==="script"&&a.d.X(y,{crossOrigin:x,integrity:j,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},An.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},An.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin);a.d.L(y,S,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},An.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},An.requestFormReset=function(y){a.d.r(y)},An.unstable_batchedUpdates=function(y,_){return y(_)},An.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},An.useFormStatus=function(){return d.H.useHostTransitionStatus()},An.version="19.2.3",An}var vv;function NT(){if(vv)return rm.exports;vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=IT(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function DT(){if(_v)return Wl;_v=1;var r=CT(),e=$m(),n=NT();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(a(188))}function _(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,o=i;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),t;if(f===o)return y(h),i;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var v=!1,b=h.child;b;){if(b===s){v=!0,s=h,o=f;break}if(b===o){v=!0,o=h,s=f;break}b=b.sibling}if(!v){for(b=f.child;b;){if(b===s){v=!0,s=f,o=h;break}if(b===o){v=!0,o=f,s=h;break}b=b.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function S(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=S(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,j=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),qe=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),Ve=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function T(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case ae:return"Profiler";case ee:return"StrictMode";case Ae:return"Suspense";case Ve:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case fe:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case qe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Ue(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ue(t(i))}catch{}}return null}var pt=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Le=[],Ze=-1;function V(t){return{current:t}}function Y(t){0>Ze||(t.current=Le[Ze],Le[Ze]=null,Ze--)}function re(t,i){Ze++,Le[Ze]=t.current,t.current=i}var ue=V(null),we=V(null),xe=V(null),ke=V(null);function Ot(t,i){switch(re(xe,i),re(we,t),re(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?M0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=M0(i),t=V0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ue),re(ue,t)}function Xe(){Y(ue),Y(we),Y(xe)}function zi(t){t.memoizedState!==null&&re(ke,t);var i=ue.current,s=V0(i,t.type);i!==s&&(re(we,t),re(ue,s))}function mr(t){we.current===t&&(Y(ue),Y(we)),ke.current===t&&(Y(ke),Yl._currentValue=ve)}var pr,In;function Gn(t){if(pr===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);pr=i&&i[1]||"",In=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pr+t+In}var gr=!1;function Bi(t,i){if(!t||gr)return"";gr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){q=F}t.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],b=f[1];if(v&&b){var D=v.split(`
`),B=b.split(`
`);for(h=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===D.length||h===B.length)for(o=D.length-1,h=B.length-1;1<=o&&0<=h&&D[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(D[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||D[o]!==B[h]){var K=`
`+D[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{gr=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Gn(s):""}function Zr(t,i){switch(t.tag){case 26:case 27:case 5:return Gn(t.type);case 16:return Gn("Lazy");case 13:return t.child!==i&&i!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Bi(t.type,!1);case 11:return Bi(t.type.render,!1);case 1:return Bi(t.type,!0);case 31:return Gn("Activity");default:return""}}function yr(t){try{var i="",s=null;do i+=Zr(t,s),s=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var St=Object.prototype.hasOwnProperty,It=r.unstable_scheduleCallback,_n=r.unstable_cancelCallback,Zs=r.unstable_shouldYield,rs=r.unstable_requestPaint,Kt=r.unstable_now,qi=r.unstable_getCurrentPriorityLevel,oi=r.unstable_ImmediatePriority,vr=r.unstable_UserBlockingPriority,Qn=r.unstable_NormalPriority,as=r.unstable_LowPriority,ln=r.unstable_IdlePriority,ss=r.log,Wr=r.unstable_setDisableYieldValue,Kn=null,tn=null;function En(t){if(typeof ss=="function"&&Wr(t),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(Kn,t)}catch{}}var gt=Math.clz32?Math.clz32:_t,wi=Math.log,_r=Math.LN2;function _t(t){return t>>>=0,t===0?32:31-(wi(t)/_r|0)|0}var Yn=256,Xn=262144,At=4194304;function un(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mn(t,i,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=un(o):(v&=b,v!==0?h=un(v):s||(s=b&~t,s!==0&&(h=un(s))))):(b=o&~f,b!==0?h=un(b):v!==0?h=un(v):s||(s=o&~t,s!==0&&(h=un(s)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:h}function jt(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ws(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function os(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function $n(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function cn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hi(t,i,s,o,h,f){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(s=v&~s;0<s;){var K=31-gt(s),$=1<<K;b[K]=0,D[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var F=q[K];F!==null&&(F.lane&=-536870913)}s&=~$}o!==0&&ye(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~i))}function ye(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-gt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function ea(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var o=31-gt(s),h=1<<o;h&i|t[o]&i&&(t[o]|=i),s&=~h}}function Er(t,i){var s=i&-i;return s=(s&42)!==0?1:Fi(s),(s&(t.suspendedLanes|i))!==0?0:s}function Fi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ls(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:rv(t.type))}function Jn(t,i){var s=se.p;try{return se.p=t,i()}finally{se.p=s}}var Vn=Math.random().toString(36).slice(2),lt="__reactFiber$"+Vn,Bt="__reactProps$"+Vn,Zn="__reactContainer$"+Vn,Ri="__reactEvents$"+Vn,hl="__reactListeners$"+Vn,ta="__reactHandles$"+Vn,eo="__reactResources$"+Vn,Nn="__reactMarker$"+Vn;function ce(t){delete t[lt],delete t[Bt],delete t[Ri],delete t[hl],delete t[ta]}function oe(t){var i=t[lt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Zn]||s[lt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=q0(t);t!==null;){if(s=t[lt])return s;t=q0(t)}return i}t=s,s=t.parentNode}return null}function kn(t){if(t=t[lt]||t[Zn]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function bn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function li(t){var i=t[eo];return i||(i=t[eo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Mt(t){t[Nn]=!0}var us=new Set,cs={};function ui(t,i){ci(t,i),ci(t+"Capture",i)}function ci(t,i){for(cs[t]=i,t=0;t<i.length;t++)us.add(i[t])}var hs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),na={},br={};function ds(t){return St.call(br,t)?!0:St.call(na,t)?!1:hs.test(t)?br[t]=!0:(na[t]=!0,!1)}function ia(t,i,s){if(ds(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function Dn(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Vt(t,i,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+o)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gi(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function fs(t,i,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){s=""+v,f.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function nt(t){if(!t._valueTracker){var i=Gi(t)?"checked":"value";t._valueTracker=fs(t,i,""+t[i])}}function Tr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return t&&(o=Gi(t)?t.checked?"true":"false":t.value),t=o,t!==s?(i.setValue(t),!0):!1}function hi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sr=/[\n"\\]/g;function Tn(t){return t.replace(Sr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ra(t,i,s,o,h,f,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kt(i)):t.value!==""+kt(i)&&(t.value=""+kt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ms(t,v,kt(i)):s!=null?ms(t,v,kt(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+kt(b):t.removeAttribute("name")}function to(t,i,s,o,h,f,v,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){nt(t);return}s=s!=null?""+kt(s):"",i=i!=null?""+kt(i):s,b||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),nt(t)}function ms(t,i,s){i==="number"&&hi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Qi(t,i,s,o){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+kt(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function no(t,i,s){if(i!=null&&(i=""+kt(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+kt(s):""}function Ki(t,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(a(92));if(pt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=kt(i),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),nt(t)}function Sn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gs(t,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,s):typeof s!="number"||s===0||ps.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function ys(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&s[h]!==o&&gs(t,h,o)}else for(var f in i)i.hasOwnProperty(f)&&gs(t,f,i[f])}function aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var io=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(t){return Yi.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pn(){}var oa=null;function k(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var w=null,W=null;function Te(t){var i=kn(t);if(i&&(t=i.stateNode)){var s=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ra(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Tn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==t&&o.form===t.form){var h=o[Bt]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===t.form&&Tr(o)}break e;case"textarea":no(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Qi(t,!!s.multiple,i,!1)}}}var dt=!1;function yt(t,i,s){if(dt)return t(i,s);dt=!0;try{var o=t(i);return o}finally{if(dt=!1,(w!==null||W!==null)&&(Rc(),w&&(i=w,t=W,W=w=null,Te(i),t)))for(i=0;i<t.length;i++)Te(t[i])}}function We(t,i){var s=t.stateNode;if(s===null)return null;var o=s[Bt]||null;if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),di=!1;if(wt)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){di=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch{di=!1}var Je=null,ro=null,vs=null;function dl(){if(vs)return vs;var t,i=ro,s=i.length,o,h="value"in Je?Je.value:Je.textContent,f=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(o=1;o<=v&&i[s-o]===h[f-o];o++);return vs=h.slice(t,1<o?1-o:void 0)}function _s(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ar(){return!0}function Ci(){return!1}function hn(t){function i(s,o,h,f,v){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ar:Ci,this.isPropagationStopped=Ci,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ar)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ar)},persist:function(){},isPersistent:Ar}),i}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=hn(wr),la=x({},wr,{view:0,detail:0}),fl=hn(la),ua,ao,$i,so=x({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$i&&($i&&t.type==="mousemove"?(ua=t.screenX-$i.screenX,ao=t.screenY-$i.screenY):ao=ua=0,$i=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:ao}}),ml=hn(so),Es=x({},so,{dataTransfer:0}),Vu=hn(Es),ku=x({},la,{relatedTarget:0}),bs=hn(ku),pl=x({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Pu=hn(pl),oo=x({},wr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=hn(oo),Lu=x({},wr,{data:0}),Ji=hn(Lu),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qu[t])?!!i[t]:!1}function ca(){return Hu}var On=x({},la,{key:function(t){if(t.key){var i=zu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=_s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(t){return t.type==="keypress"?_s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fu=hn(On),Gu=x({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xr=hn(Gu),c=x({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),p=hn(c),E=x({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=hn(E),L=x({},so,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=hn(L),ie=x({},wr,{newState:0,oldState:0}),Oe=hn(ie),qt=[9,13,27,32],it=wt&&"CompositionEvent"in window,xt=null;wt&&"documentMode"in document&&(xt=document.documentMode);var fi=wt&&"TextEvent"in window&&!xt,Zi=wt&&(!it||xt&&8<xt&&11>=xt),Ii=" ",Ni=!1;function Ts(t,i){switch(t){case"keyup":return qt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var uo=!1;function YE(t,i){switch(t){case"compositionend":return lo(i);case"keypress":return i.which!==32?null:(Ni=!0,Ii);case"textInput":return t=i.data,t===Ii&&Ni?null:t;default:return null}}function XE(t,i){if(uo)return t==="compositionend"||!it&&Ts(t,i)?(t=dl(),vs=ro=Je=null,uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zi&&i.locale!=="ko"?null:i.data;default:return null}}var $E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gp(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!$E[t.type]:i==="textarea"}function Qp(t,i,s,o){w?W?W.push(o):W=[o]:w=o,i=Mc(i,"onChange"),0<i.length&&(s=new Xi("onChange","change",null,s,o),t.push({event:s,listeners:i}))}var gl=null,yl=null;function JE(t){C0(t,0)}function Qu(t){var i=bn(t);if(Tr(i))return t}function Kp(t,i){if(t==="change")return i}var Yp=!1;if(wt){var ad;if(wt){var sd="oninput"in document;if(!sd){var Xp=document.createElement("div");Xp.setAttribute("oninput","return;"),sd=typeof Xp.oninput=="function"}ad=sd}else ad=!1;Yp=ad&&(!document.documentMode||9<document.documentMode)}function $p(){gl&&(gl.detachEvent("onpropertychange",Jp),yl=gl=null)}function Jp(t){if(t.propertyName==="value"&&Qu(yl)){var i=[];Qp(i,yl,t,k(t)),yt(JE,i)}}function ZE(t,i,s){t==="focusin"?($p(),gl=i,yl=s,gl.attachEvent("onpropertychange",Jp)):t==="focusout"&&$p()}function WE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qu(yl)}function eb(t,i){if(t==="click")return Qu(i)}function tb(t,i){if(t==="input"||t==="change")return Qu(i)}function nb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Wn=typeof Object.is=="function"?Object.is:nb;function vl(t,i){if(Wn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!St.call(i,h)||!Wn(t[h],i[h]))return!1}return!0}function Zp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,i){var s=Zp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=i&&o>=i)return{node:s,offset:i-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Zp(s)}}function eg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?eg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function tg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=hi(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=hi(t.document)}return i}function od(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var ib=wt&&"documentMode"in document&&11>=document.documentMode,co=null,ld=null,_l=null,ud=!1;function ng(t,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ud||co==null||co!==hi(o)||(o=co,"selectionStart"in o&&od(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),_l&&vl(_l,o)||(_l=o,o=Mc(ld,"onSelect"),0<o.length&&(i=new Xi("onSelect","select",null,i,s),t.push({event:i,listeners:o}),i.target=co)))}function Ss(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var ho={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},cd={},ig={};wt&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function As(t){if(cd[t])return cd[t];if(!ho[t])return t;var i=ho[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in ig)return cd[t]=i[s];return t}var rg=As("animationend"),ag=As("animationiteration"),sg=As("animationstart"),rb=As("transitionrun"),ab=As("transitionstart"),sb=As("transitioncancel"),og=As("transitionend"),lg=new Map,hd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hd.push("scrollEnd");function Di(t,i){lg.set(t,i),ui(i,[t])}var Ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},mi=[],fo=0,dd=0;function Yu(){for(var t=fo,i=dd=fo=0;i<t;){var s=mi[i];mi[i++]=null;var o=mi[i];mi[i++]=null;var h=mi[i];mi[i++]=null;var f=mi[i];if(mi[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&ug(s,h,f)}}function Xu(t,i,s,o){mi[fo++]=t,mi[fo++]=i,mi[fo++]=s,mi[fo++]=o,dd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function fd(t,i,s,o){return Xu(t,i,s,o),$u(t)}function ws(t,i){return Xu(t,null,null,i),$u(t)}function ug(t,i,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-gt(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=s|536870912),f):null}function $u(t){if(50<Bl)throw Bl=0,Sf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var mo={};function ob(t,i,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(t,i,s,o){return new ob(t,i,s,o)}function md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rr(t,i){var s=t.alternate;return s===null?(s=ei(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function cg(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ju(t,i,s,o,h,f){var v=0;if(o=t,typeof t=="function")md(t)&&(v=1);else if(typeof t=="string")v=dT(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=ei(31,s,i,h),t.elementType=N,t.lanes=f,t;case ne:return xs(s.children,h,f,i);case ee:v=8,h|=24;break;case ae:return t=ei(12,s,i,h|2),t.elementType=ae,t.lanes=f,t;case Ae:return t=ei(13,s,i,h),t.elementType=Ae,t.lanes=f,t;case Ve:return t=ei(19,s,i,h),t.elementType=Ve,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fe:v=10;break e;case be:v=9;break e;case qe:v=11;break e;case I:v=14;break e;case R:v=16,o=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=ei(v,s,i,h),i.elementType=t,i.type=o,i.lanes=f,i}function xs(t,i,s,o){return t=ei(7,t,o,i),t.lanes=s,t}function pd(t,i,s){return t=ei(6,t,null,i),t.lanes=s,t}function hg(t){var i=ei(18,null,null,0);return i.stateNode=t,i}function gd(t,i,s){return i=ei(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var dg=new WeakMap;function pi(t,i){if(typeof t=="object"&&t!==null){var s=dg.get(t);return s!==void 0?s:(i={value:t,source:i,stack:yr(i)},dg.set(t,i),i)}return{value:t,source:i,stack:yr(i)}}var po=[],go=0,Zu=null,El=0,gi=[],yi=0,ha=null,Wi=1,er="";function Cr(t,i){po[go++]=El,po[go++]=Zu,Zu=t,El=i}function fg(t,i,s){gi[yi++]=Wi,gi[yi++]=er,gi[yi++]=ha,ha=t;var o=Wi;t=er;var h=32-gt(o)-1;o&=~(1<<h),s+=1;var f=32-gt(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Wi=1<<32-gt(i)+h|s<<h|o,er=f+t}else Wi=1<<f|s<<h|o,er=t}function yd(t){t.return!==null&&(Cr(t,1),fg(t,1,0))}function vd(t){for(;t===Zu;)Zu=po[--go],po[go]=null,El=po[--go],po[go]=null;for(;t===ha;)ha=gi[--yi],gi[yi]=null,er=gi[--yi],gi[yi]=null,Wi=gi[--yi],gi[yi]=null}function mg(t,i){gi[yi++]=Wi,gi[yi++]=er,gi[yi++]=ha,Wi=i.id,er=i.overflow,ha=t}var dn=null,Et=null,Ye=!1,da=null,vi=!1,_d=Error(a(519));function fa(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(pi(i,t)),_d}function pg(t){var i=t.stateNode,s=t.type,o=t.memoizedProps;switch(i[lt]=t,i[Bt]=o,s){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(s=0;s<Hl.length;s++)Be(Hl[s],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":Be("invalid",i),to(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Be("invalid",i);break;case"textarea":Be("invalid",i),Ki(i,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||O0(i.textContent,s)?(o.popover!=null&&(Be("beforetoggle",i),Be("toggle",i)),o.onScroll!=null&&Be("scroll",i),o.onScrollEnd!=null&&Be("scrollend",i),o.onClick!=null&&(i.onclick=Pn),i=!0):i=!1,i||fa(t,!0)}function gg(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 31:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:dn=dn.return}}function yo(t){if(t!==dn)return!1;if(!Ye)return gg(t),Ye=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Uf(t.type,t.memoizedProps)),s=!s),s&&Et&&fa(t),gg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Et=B0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Et=B0(t)}else i===27?(i=Et,Ra(t.type)?(t=Hf,Hf=null,Et=t):Et=i):Et=dn?Ei(t.stateNode.nextSibling):null;return!0}function Rs(){Et=dn=null,Ye=!1}function Ed(){var t=da;return t!==null&&(Bn===null?Bn=t:Bn.push.apply(Bn,t),da=null),t}function bl(t){da===null?da=[t]:da.push(t)}var bd=V(null),Cs=null,Ir=null;function ma(t,i,s){re(bd,i._currentValue),i._currentValue=s}function Nr(t){t._currentValue=bd.current,Y(bd)}function Td(t,i,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===s)break;t=t.return}}function Sd(t,i,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var D=0;D<i.length;D++)if(b.context===i[D]){f.lanes|=s,b=f.alternate,b!==null&&(b.lanes|=s),Td(f.return,s,t),o||(v=null);break e}f=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Td(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function vo(t,i,s,o){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var b=h.type;Wn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===ke.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Yl):t=[Yl])}h=h.return}t!==null&&Sd(i,t,s,o),i.flags|=262144}function Wu(t){for(t=t.firstContext;t!==null;){if(!Wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){Cs=t,Ir=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return yg(Cs,t)}function ec(t,i){return Cs===null&&Is(t),yg(t,i)}function yg(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ir===null){if(t===null)throw Error(a(308));Ir=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ir=Ir.next=i;return s}var lb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},ub=r.unstable_scheduleCallback,cb=r.unstable_NormalPriority,Yt={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ad(){return{controller:new lb,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&ub(cb,function(){t.controller.abort()})}var Sl=null,wd=0,_o=0,Eo=null;function hb(t,i){if(Sl===null){var s=Sl=[];wd=0,_o=If(),Eo={status:"pending",value:void 0,then:function(o){s.push(o)}}}return wd++,i.then(vg,vg),i}function vg(){if(--wd===0&&Sl!==null){Eo!==null&&(Eo.status="fulfilled");var t=Sl;Sl=null,_o=0,Eo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function db(t,i){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var _g=Q.S;Q.S=function(t,i){n0=Kt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&hb(t,i),_g!==null&&_g(t,i)};var Ns=V(null);function xd(){var t=Ns.current;return t!==null?t:ft.pooledCache}function tc(t,i){i===null?re(Ns,Ns.current):re(Ns,i.pool)}function Eg(){var t=xd();return t===null?null:{parent:Yt._currentValue,pool:t}}var bo=Error(a(460)),Rd=Error(a(474)),nc=Error(a(542)),ic={then:function(){}};function bg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tg(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Pn,Pn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t;default:if(typeof i.status=="string")i.then(Pn,Pn);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t}throw Os=i,bo}}function Ds(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Os=s,bo):s}}var Os=null;function Sg(){if(Os===null)throw Error(a(459));var t=Os;return Os=null,t}function Ag(t){if(t===bo||t===nc)throw Error(a(483))}var To=null,Al=0;function rc(t){var i=Al;return Al+=1,To===null&&(To=[]),Tg(To,t,i)}function wl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===j?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function wg(t){function i(U,M){if(t){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function s(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Rr(U,M),U.index=0,U.sibling=null,U}function f(U,M,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,M,z,X){return M===null||M.tag!==6?(M=pd(z,U.mode,X),M.return=U,M):(M=h(M,z),M.return=U,M)}function D(U,M,z,X){var _e=z.type;return _e===ne?K(U,M,z.props.children,X,z.key):M!==null&&(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&Ds(_e)===M.type)?(M=h(M,z.props),wl(M,z),M.return=U,M):(M=Ju(z.type,z.key,z.props,null,U.mode,X),wl(M,z),M.return=U,M)}function B(U,M,z,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=gd(z,U.mode,X),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function K(U,M,z,X,_e){return M===null||M.tag!==7?(M=xs(z,U.mode,X,_e),M.return=U,M):(M=h(M,z),M.return=U,M)}function $(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=pd(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case G:return z=Ju(M.type,M.key,M.props,null,U.mode,z),wl(z,M),z.return=U,z;case te:return M=gd(M,U.mode,z),M.return=U,M;case R:return M=Ds(M),$(U,M,z)}if(pt(M)||T(M))return M=xs(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return $(U,rc(M),z);if(M.$$typeof===fe)return $(U,ec(U,M),z);ac(U,M)}return null}function q(U,M,z,X){var _e=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _e!==null?null:b(U,M,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case G:return z.key===_e?D(U,M,z,X):null;case te:return z.key===_e?B(U,M,z,X):null;case R:return z=Ds(z),q(U,M,z,X)}if(pt(z)||T(z))return _e!==null?null:K(U,M,z,X,null);if(typeof z.then=="function")return q(U,M,rc(z),X);if(z.$$typeof===fe)return q(U,M,ec(U,z),X);ac(U,z)}return null}function F(U,M,z,X,_e){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(z)||null,b(M,U,""+X,_e);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return U=U.get(X.key===null?z:X.key)||null,D(M,U,X,_e);case te:return U=U.get(X.key===null?z:X.key)||null,B(M,U,X,_e);case R:return X=Ds(X),F(U,M,z,X,_e)}if(pt(X)||T(X))return U=U.get(z)||null,K(M,U,X,_e,null);if(typeof X.then=="function")return F(U,M,z,rc(X),_e);if(X.$$typeof===fe)return F(U,M,z,ec(M,X),_e);ac(M,X)}return null}function pe(U,M,z,X){for(var _e=null,et=null,ge=M,Me=M=0,Fe=null;ge!==null&&Me<z.length;Me++){ge.index>Me?(Fe=ge,ge=null):Fe=ge.sibling;var tt=q(U,ge,z[Me],X);if(tt===null){ge===null&&(ge=Fe);break}t&&ge&&tt.alternate===null&&i(U,ge),M=f(tt,M,Me),et===null?_e=tt:et.sibling=tt,et=tt,ge=Fe}if(Me===z.length)return s(U,ge),Ye&&Cr(U,Me),_e;if(ge===null){for(;Me<z.length;Me++)ge=$(U,z[Me],X),ge!==null&&(M=f(ge,M,Me),et===null?_e=ge:et.sibling=ge,et=ge);return Ye&&Cr(U,Me),_e}for(ge=o(ge);Me<z.length;Me++)Fe=F(ge,U,Me,z[Me],X),Fe!==null&&(t&&Fe.alternate!==null&&ge.delete(Fe.key===null?Me:Fe.key),M=f(Fe,M,Me),et===null?_e=Fe:et.sibling=Fe,et=Fe);return t&&ge.forEach(function(Oa){return i(U,Oa)}),Ye&&Cr(U,Me),_e}function Se(U,M,z,X){if(z==null)throw Error(a(151));for(var _e=null,et=null,ge=M,Me=M=0,Fe=null,tt=z.next();ge!==null&&!tt.done;Me++,tt=z.next()){ge.index>Me?(Fe=ge,ge=null):Fe=ge.sibling;var Oa=q(U,ge,tt.value,X);if(Oa===null){ge===null&&(ge=Fe);break}t&&ge&&Oa.alternate===null&&i(U,ge),M=f(Oa,M,Me),et===null?_e=Oa:et.sibling=Oa,et=Oa,ge=Fe}if(tt.done)return s(U,ge),Ye&&Cr(U,Me),_e;if(ge===null){for(;!tt.done;Me++,tt=z.next())tt=$(U,tt.value,X),tt!==null&&(M=f(tt,M,Me),et===null?_e=tt:et.sibling=tt,et=tt);return Ye&&Cr(U,Me),_e}for(ge=o(ge);!tt.done;Me++,tt=z.next())tt=F(ge,U,Me,tt.value,X),tt!==null&&(t&&tt.alternate!==null&&ge.delete(tt.key===null?Me:tt.key),M=f(tt,M,Me),et===null?_e=tt:et.sibling=tt,et=tt);return t&&ge.forEach(function(ST){return i(U,ST)}),Ye&&Cr(U,Me),_e}function ht(U,M,z,X){if(typeof z=="object"&&z!==null&&z.type===ne&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case G:e:{for(var _e=z.key;M!==null;){if(M.key===_e){if(_e=z.type,_e===ne){if(M.tag===7){s(U,M.sibling),X=h(M,z.props.children),X.return=U,U=X;break e}}else if(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===R&&Ds(_e)===M.type){s(U,M.sibling),X=h(M,z.props),wl(X,z),X.return=U,U=X;break e}s(U,M);break}else i(U,M);M=M.sibling}z.type===ne?(X=xs(z.props.children,U.mode,X,z.key),X.return=U,U=X):(X=Ju(z.type,z.key,z.props,null,U.mode,X),wl(X,z),X.return=U,U=X)}return v(U);case te:e:{for(_e=z.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(U,M.sibling),X=h(M,z.children||[]),X.return=U,U=X;break e}else{s(U,M);break}else i(U,M);M=M.sibling}X=gd(z,U.mode,X),X.return=U,U=X}return v(U);case R:return z=Ds(z),ht(U,M,z,X)}if(pt(z))return pe(U,M,z,X);if(T(z)){if(_e=T(z),typeof _e!="function")throw Error(a(150));return z=_e.call(z),Se(U,M,z,X)}if(typeof z.then=="function")return ht(U,M,rc(z),X);if(z.$$typeof===fe)return ht(U,M,ec(U,z),X);ac(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(s(U,M.sibling),X=h(M,z),X.return=U,U=X):(s(U,M),X=pd(z,U.mode,X),X.return=U,U=X),v(U)):s(U,M)}return function(U,M,z,X){try{Al=0;var _e=ht(U,M,z,X);return To=null,_e}catch(ge){if(ge===bo||ge===nc)throw ge;var et=ei(29,ge,null,U.mode);return et.lanes=X,et.return=U,et}finally{}}}var js=wg(!0),xg=wg(!1),pa=!1;function Cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Id(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ga(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ya(t,i,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(rt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=$u(t),ug(t,null,s),i}return Xu(t,o,i,s),$u(t)}function xl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,ea(t,s)}}function Nd(t,i){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?h=f=i:f=f.next=i}else h=f=i;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Dd=!1;function Rl(){if(Dd){var t=Eo;if(t!==null)throw t}}function Cl(t,i,s,o){Dd=!1;var h=t.updateQueue;pa=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,B=D.next;D.next=null,v===null?f=B:v.next=B,v=D;var K=t.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==v&&(b===null?K.firstBaseUpdate=B:b.next=B,K.lastBaseUpdate=D))}if(f!==null){var $=h.baseState;v=0,K=B=D=null,b=f;do{var q=b.lane&-536870913,F=q!==b.lane;if(F?(He&q)===q:(o&q)===q){q!==0&&q===_o&&(Dd=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var pe=t,Se=b;q=i;var ht=s;switch(Se.tag){case 1:if(pe=Se.payload,typeof pe=="function"){$=pe.call(ht,$,q);break e}$=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Se.payload,q=typeof pe=="function"?pe.call(ht,$,q):pe,q==null)break e;$=x({},$,q);break e;case 2:pa=!0}}q=b.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(B=K=F,D=$):K=K.next=F,v|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(D=$),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Ta|=v,t.lanes=v,t.memoizedState=$}}function Rg(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function Cg(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Rg(s[t],i)}var So=V(null),sc=V(0);function Ig(t,i){t=Lr,re(sc,t),re(So,i),Lr=t|i.baseLanes}function Od(){re(sc,Lr),re(So,So.current)}function jd(){Lr=sc.current,Y(So),Y(sc)}var ti=V(null),_i=null;function va(t){var i=t.alternate;re(Ht,Ht.current&1),re(ti,t),_i===null&&(i===null||So.current!==null||i.memoizedState!==null)&&(_i=t)}function Md(t){re(Ht,Ht.current),re(ti,t),_i===null&&(_i=t)}function Ng(t){t.tag===22?(re(Ht,Ht.current),re(ti,t),_i===null&&(_i=t)):_a()}function _a(){re(Ht,Ht.current),re(ti,ti.current)}function ni(t){Y(ti),_i===t&&(_i=null),Y(Ht)}var Ht=V(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Bf(s)||qf(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Dr=0,je=null,ut=null,Xt=null,lc=!1,Ao=!1,Ms=!1,uc=0,Il=0,wo=null,fb=0;function Pt(){throw Error(a(321))}function Vd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!Wn(t[s],i[s]))return!1;return!0}function kd(t,i,s,o,h,f){return Dr=f,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?fy:Jd,Ms=!1,f=s(o,h),Ms=!1,Ao&&(f=Og(i,s,o,h)),Dg(t),f}function Dg(t){Q.H=Ol;var i=ut!==null&&ut.next!==null;if(Dr=0,Xt=ut=je=null,lc=!1,Il=0,wo=null,i)throw Error(a(300));t===null||$t||(t=t.dependencies,t!==null&&Wu(t)&&($t=!0))}function Og(t,i,s,o){je=t;var h=0;do{if(Ao&&(wo=null),Il=0,Ao=!1,25<=h)throw Error(a(301));if(h+=1,Xt=ut=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=my,f=i(s,o)}while(Ao);return f}function mb(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Nl(i):i,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(je.flags|=1024),i}function Pd(){var t=uc!==0;return uc=0,t}function Ud(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Ld(t){if(lc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lc=!1}Dr=0,Xt=ut=je=null,Ao=!1,Il=uc=0,wo=null}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?je.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Ft(){if(ut===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var i=Xt===null?je.memoizedState:Xt.next;if(i!==null)Xt=i,ut=t;else{if(t===null)throw je.alternate===null?Error(a(467)):Error(a(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Xt===null?je.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var i=Il;return Il+=1,wo===null&&(wo=[]),t=Tg(wo,t,i),i=je,(Xt===null?i.memoizedState:Xt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?fy:Jd),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===fe)return fn(t)}throw Error(a(438,String(t)))}function zd(t){var i=null,s=je.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=cc(),je.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),o=0;o<t;o++)s[o]=P;return i.index++,s}function Or(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=Ft();return Bd(i,ut,t)}function Bd(t,i,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var b=v=null,D=null,B=i,K=!1;do{var $=B.lane&-536870913;if($!==B.lane?(He&$)===$:(Dr&$)===$){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===_o&&(K=!0);else if((Dr&q)===q){B=B.next,q===_o&&(K=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=$,v=f):D=D.next=$,je.lanes|=q,Ta|=q;$=B.action,Ms&&s(f,$),f=B.hasEagerState?B.eagerState:s(f,$)}else q={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=q,v=f):D=D.next=q,je.lanes|=$,Ta|=$;B=B.next}while(B!==null&&B!==i);if(D===null?v=f:D.next=b,!Wn(f,t.memoizedState)&&($t=!0,K&&(s=Eo,s!==null)))throw s;t.memoizedState=f,t.baseState=v,t.baseQueue=D,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function qd(t){var i=Ft(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);Wn(f,i.memoizedState)||($t=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,o]}function jg(t,i,s){var o=je,h=Ft(),f=Ye;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!Wn((ut||h).memoizedState,s);if(v&&(h.memoizedState=s,$t=!0),h=h.queue,Gd(kg.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||Xt!==null&&Xt.memoizedState.tag&1){if(o.flags|=2048,xo(9,{destroy:void 0},Vg.bind(null,o,h,s,i),null),ft===null)throw Error(a(349));f||(Dr&127)!==0||Mg(o,i,s)}return s}function Mg(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=je.updateQueue,i===null?(i=cc(),je.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function Vg(t,i,s,o){i.value=s,i.getSnapshot=o,Pg(i)&&Ug(t)}function kg(t,i,s){return s(function(){Pg(i)&&Ug(t)})}function Pg(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!Wn(t,s)}catch{return!0}}function Ug(t){var i=ws(t,2);i!==null&&qn(i,t,2)}function Hd(t){var i=jn();if(typeof t=="function"){var s=t;if(t=s(),Ms){En(!0);try{s()}finally{En(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:t},i}function Lg(t,i,s,o){return t.baseState=s,Bd(t,ut,typeof o=="function"?o:Or)}function pb(t,i,s,o,h){if(pc(t))throw Error(a(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?s(!0):f.isTransition=!1,o(f),s=i.pending,s===null?(f.next=i.pending=f,zg(i,f)):(f.next=s.next,i.pending=s.next=f)}}function zg(t,i){var s=i.action,o=i.payload,h=t.state;if(i.isTransition){var f=Q.T,v={};Q.T=v;try{var b=s(h,o),D=Q.S;D!==null&&D(v,b),Bg(t,i,b)}catch(B){Fd(t,i,B)}finally{f!==null&&v.types!==null&&(f.types=v.types),Q.T=f}}else try{f=s(h,o),Bg(t,i,f)}catch(B){Fd(t,i,B)}}function Bg(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){qg(t,i,o)},function(o){return Fd(t,i,o)}):qg(t,i,s)}function qg(t,i,s){i.status="fulfilled",i.value=s,Hg(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,zg(t,s)))}function Fd(t,i,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,Hg(i),i=i.next;while(i!==o)}t.action=null}function Hg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Fg(t,i){return i}function Gg(t,i){if(Ye){var s=ft.formState;if(s!==null){e:{var o=je;if(Ye){if(Et){t:{for(var h=Et,f=vi;h.nodeType!==8;){if(!f){h=null;break t}if(h=Ei(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Et=Ei(h.nextSibling),o=h.data==="F!";break e}}fa(o)}o=!1}o&&(i=s[0])}}return s=jn(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:i},s.queue=o,s=cy.bind(null,je,o),o.dispatch=s,o=Hd(!1),f=$d.bind(null,je,!1,o.queue),o=jn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,s=pb.bind(null,je,h,f,s),h.dispatch=s,o.memoizedState=t,[i,s,!1]}function Qg(t){var i=Ft();return Kg(i,ut,t)}function Kg(t,i,s){if(i=Bd(t,i,Fg)[0],t=dc(Or)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Nl(i)}catch(v){throw v===bo?nc:v}else o=i;i=Ft();var h=i.queue,f=h.dispatch;return s!==i.memoizedState&&(je.flags|=2048,xo(9,{destroy:void 0},gb.bind(null,h,s),null)),[o,f,t]}function gb(t,i){t.action=i}function Yg(t){var i=Ft(),s=ut;if(s!==null)return Kg(i,s,t);Ft(),i=i.memoizedState,s=Ft();var o=s.queue.dispatch;return s.memoizedState=t,[i,o,!1]}function xo(t,i,s,o){return t={tag:t,create:s,deps:o,inst:i,next:null},i=je.updateQueue,i===null&&(i=cc(),je.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,i.lastEffect=t),t}function Xg(){return Ft().memoizedState}function fc(t,i,s,o){var h=jn();je.flags|=t,h.memoizedState=xo(1|i,{destroy:void 0},s,o===void 0?null:o)}function mc(t,i,s,o){var h=Ft();o=o===void 0?null:o;var f=h.memoizedState.inst;ut!==null&&o!==null&&Vd(o,ut.memoizedState.deps)?h.memoizedState=xo(i,f,s,o):(je.flags|=t,h.memoizedState=xo(1|i,f,s,o))}function $g(t,i){fc(8390656,8,t,i)}function Gd(t,i){mc(2048,8,t,i)}function yb(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=cc(),je.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function Jg(t){var i=Ft().memoizedState;return yb({ref:i,nextImpl:t}),function(){if((rt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Zg(t,i){return mc(4,2,t,i)}function Wg(t,i){return mc(4,4,t,i)}function ey(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ty(t,i,s){s=s!=null?s.concat([t]):null,mc(4,4,ey.bind(null,i,t),s)}function Qd(){}function ny(t,i){var s=Ft();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&Vd(i,o[1])?o[0]:(s.memoizedState=[t,i],t)}function iy(t,i){var s=Ft();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&Vd(i,o[1]))return o[0];if(o=t(),Ms){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[o,i],o}function Kd(t,i,s){return s===void 0||(Dr&1073741824)!==0&&(He&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=r0(),je.lanes|=t,Ta|=t,s)}function ry(t,i,s,o){return Wn(s,i)?s:So.current!==null?(t=Kd(t,s,o),Wn(t,i)||($t=!0),t):(Dr&42)===0||(Dr&1073741824)!==0&&(He&261930)===0?($t=!0,t.memoizedState=s):(t=r0(),je.lanes|=t,Ta|=t,i)}function ay(t,i,s,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var v=Q.T,b={};Q.T=b,$d(t,!1,i,s);try{var D=h(),B=Q.S;if(B!==null&&B(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=db(D,o);Dl(t,i,K,ai(t))}else Dl(t,i,o,ai(t))}catch($){Dl(t,i,{then:function(){},status:"rejected",reason:$},ai())}finally{se.p=f,v!==null&&b.types!==null&&(v.types=b.types),Q.T=v}}function vb(){}function Yd(t,i,s,o){if(t.tag!==5)throw Error(a(476));var h=sy(t).queue;ay(t,h,i,ve,s===null?vb:function(){return oy(t),s(o)})}function sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:ve},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function oy(t){var i=sy(t);i.next===null&&(i=t.alternate.memoizedState),Dl(t,i.next.queue,{},ai())}function Xd(){return fn(Yl)}function ly(){return Ft().memoizedState}function uy(){return Ft().memoizedState}function _b(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=ai();t=ga(s);var o=ya(i,t,s);o!==null&&(qn(o,i,s),xl(o,i,s)),i={cache:Ad()},t.payload=i;return}i=i.return}}function Eb(t,i,s){var o=ai();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},pc(t)?hy(i,s):(s=fd(t,i,s,o),s!==null&&(qn(s,t,o),dy(s,i,o)))}function cy(t,i,s){var o=ai();Dl(t,i,s,o)}function Dl(t,i,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(pc(t))hy(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,b=f(v,s);if(h.hasEagerState=!0,h.eagerState=b,Wn(b,v))return Xu(t,i,h,0),ft===null&&Yu(),!1}catch{}finally{}if(s=fd(t,i,h,o),s!==null)return qn(s,t,o),dy(s,i,o),!0}return!1}function $d(t,i,s,o){if(o={lane:2,revertLane:If(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(i)throw Error(a(479))}else i=fd(t,s,o,2),i!==null&&qn(i,t,2)}function pc(t){var i=t.alternate;return t===je||i!==null&&i===je}function hy(t,i){Ao=lc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function dy(t,i,s){if((s&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,s|=o,i.lanes=s,ea(t,s)}}var Ol={readContext:fn,use:hc,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};Ol.useEffectEvent=Pt;var fy={readContext:fn,use:hc,useCallback:function(t,i){return jn().memoizedState=[t,i===void 0?null:i],t},useContext:fn,useEffect:$g,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,fc(4194308,4,ey.bind(null,i,t),s)},useLayoutEffect:function(t,i){return fc(4194308,4,t,i)},useInsertionEffect:function(t,i){fc(4,2,t,i)},useMemo:function(t,i){var s=jn();i=i===void 0?null:i;var o=t();if(Ms){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[o,i],o},useReducer:function(t,i,s){var o=jn();if(s!==void 0){var h=s(i);if(Ms){En(!0);try{s(i)}finally{En(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Eb.bind(null,je,t),[o.memoizedState,t]},useRef:function(t){var i=jn();return t={current:t},i.memoizedState=t},useState:function(t){t=Hd(t);var i=t.queue,s=cy.bind(null,je,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Qd,useDeferredValue:function(t,i){var s=jn();return Kd(s,t,i)},useTransition:function(){var t=Hd(!1);return t=ay.bind(null,je,t.queue,!0,!1),jn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var o=je,h=jn();if(Ye){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),ft===null)throw Error(a(349));(He&127)!==0||Mg(o,i,s)}h.memoizedState=s;var f={value:s,getSnapshot:i};return h.queue=f,$g(kg.bind(null,o,f,t),[t]),o.flags|=2048,xo(9,{destroy:void 0},Vg.bind(null,o,f,s,i),null),s},useId:function(){var t=jn(),i=ft.identifierPrefix;if(Ye){var s=er,o=Wi;s=(o&~(1<<32-gt(o)-1)).toString(32)+s,i="_"+i+"R_"+s,s=uc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=fb++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Xd,useFormState:Gg,useActionState:Gg,useOptimistic:function(t){var i=jn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=$d.bind(null,je,!0,s),s.dispatch=i,[t,i]},useMemoCache:zd,useCacheRefresh:function(){return jn().memoizedState=_b.bind(null,je)},useEffectEvent:function(t){var i=jn(),s={impl:t};return i.memoizedState=s,function(){if((rt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Jd={readContext:fn,use:hc,useCallback:ny,useContext:fn,useEffect:Gd,useImperativeHandle:ty,useInsertionEffect:Zg,useLayoutEffect:Wg,useMemo:iy,useReducer:dc,useRef:Xg,useState:function(){return dc(Or)},useDebugValue:Qd,useDeferredValue:function(t,i){var s=Ft();return ry(s,ut.memoizedState,t,i)},useTransition:function(){var t=dc(Or)[0],i=Ft().memoizedState;return[typeof t=="boolean"?t:Nl(t),i]},useSyncExternalStore:jg,useId:ly,useHostTransitionStatus:Xd,useFormState:Qg,useActionState:Qg,useOptimistic:function(t,i){var s=Ft();return Lg(s,ut,t,i)},useMemoCache:zd,useCacheRefresh:uy};Jd.useEffectEvent=Jg;var my={readContext:fn,use:hc,useCallback:ny,useContext:fn,useEffect:Gd,useImperativeHandle:ty,useInsertionEffect:Zg,useLayoutEffect:Wg,useMemo:iy,useReducer:qd,useRef:Xg,useState:function(){return qd(Or)},useDebugValue:Qd,useDeferredValue:function(t,i){var s=Ft();return ut===null?Kd(s,t,i):ry(s,ut.memoizedState,t,i)},useTransition:function(){var t=qd(Or)[0],i=Ft().memoizedState;return[typeof t=="boolean"?t:Nl(t),i]},useSyncExternalStore:jg,useId:ly,useHostTransitionStatus:Xd,useFormState:Yg,useActionState:Yg,useOptimistic:function(t,i){var s=Ft();return ut!==null?Lg(s,ut,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:zd,useCacheRefresh:uy};my.useEffectEvent=Jg;function Zd(t,i,s,o){i=t.memoizedState,s=s(o,i),s=s==null?i:x({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Wd={enqueueSetState:function(t,i,s){t=t._reactInternals;var o=ai(),h=ga(o);h.payload=i,s!=null&&(h.callback=s),i=ya(t,h,o),i!==null&&(qn(i,t,o),xl(i,t,o))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var o=ai(),h=ga(o);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=ya(t,h,o),i!==null&&(qn(i,t,o),xl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=ai(),o=ga(s);o.tag=2,i!=null&&(o.callback=i),i=ya(t,o,s),i!==null&&(qn(i,t,s),xl(i,t,s))}};function py(t,i,s,o,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!vl(s,o)||!vl(h,f):!0}function gy(t,i,s,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==t&&Wd.enqueueReplaceState(i,i.state,null)}function Vs(t,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(t=t.defaultProps){s===i&&(s=x({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function yy(t){Ku(t)}function vy(t){console.error(t)}function _y(t){Ku(t)}function gc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Ey(t,i,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ef(t,i,s){return s=ga(s),s.tag=3,s.payload={element:null},s.callback=function(){gc(t,i)},s}function by(t){return t=ga(t),t.tag=3,t}function Ty(t,i,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Ey(i,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ey(i,s,o),typeof h!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function bb(t,i,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&vo(i,s,h,!0),s=ti.current,s!==null){switch(s.tag){case 31:case 13:return _i===null?Cc():s.alternate===null&&Ut===0&&(Ut=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ic?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),xf(t,o,h)),!1;case 22:return s.flags|=65536,o===ic?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),xf(t,o,h)),!1}throw Error(a(435,s.tag))}return xf(t,o,h),Cc(),!1}if(Ye)return i=ti.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==_d&&(t=Error(a(422),{cause:o}),bl(pi(t,s)))):(o!==_d&&(i=Error(a(423),{cause:o}),bl(pi(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=pi(o,s),h=ef(t.stateNode,o,h),Nd(t,h),Ut!==4&&(Ut=2)),!1;var f=Error(a(520),{cause:o});if(f=pi(f,s),zl===null?zl=[f]:zl.push(f),Ut!==4&&(Ut=2),i===null)return!0;o=pi(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=ef(s.stateNode,o,t),Nd(s,t),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Sa===null||!Sa.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=by(h),Ty(h,t,s,o),Nd(s,h),!1}s=s.return}while(s!==null);return!1}var tf=Error(a(461)),$t=!1;function mn(t,i,s,o){i.child=t===null?xg(i,null,s,o):js(i,t.child,s,o)}function Sy(t,i,s,o,h){s=s.render;var f=i.ref;if("ref"in o){var v={};for(var b in o)b!=="ref"&&(v[b]=o[b])}else v=o;return Is(i),o=kd(t,i,s,v,f,h),b=Pd(),t!==null&&!$t?(Ud(t,i,h),jr(t,i,h)):(Ye&&b&&yd(i),i.flags|=1,mn(t,i,o,h),i.child)}function Ay(t,i,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!md(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,wy(t,i,f,o,h)):(t=Ju(s.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!cf(t,h)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:vl,s(v,o)&&t.ref===i.ref)return jr(t,i,h)}return i.flags|=1,t=Rr(f,o),t.ref=i.ref,t.return=i,i.child=t}function wy(t,i,s,o,h){if(t!==null){var f=t.memoizedProps;if(vl(f,o)&&t.ref===i.ref)if($t=!1,i.pendingProps=o=f,cf(t,h))(t.flags&131072)!==0&&($t=!0);else return i.lanes=t.lanes,jr(t,i,h)}return nf(t,i,s,o,h)}function xy(t,i,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return Ry(t,i,f,s,o)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(i,f!==null?f.cachePool:null),f!==null?Ig(i,f):Od(),Ng(i);else return o=i.lanes=536870912,Ry(t,i,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(tc(i,f.cachePool),Ig(i,f),_a(),i.memoizedState=null):(t!==null&&tc(i,null),Od(),_a());return mn(t,i,h,s),i.child}function jl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ry(t,i,s,o,h){var f=xd();return f=f===null?null:{parent:Yt._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},t!==null&&tc(i,null),Od(),Ng(i),t!==null&&vo(t,i,o,!0),i.childLanes=h,null}function yc(t,i){return i=_c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Cy(t,i,s){return js(i,t.child,null,s),t=yc(i,i.pendingProps),t.flags|=2,ni(i),i.memoizedState=null,t}function Tb(t,i,s){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ye){if(o.mode==="hidden")return t=yc(i,o),i.lanes=536870912,jl(null,t);if(Md(i),(t=Et)?(t=z0(t,vi),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ha!==null?{id:Wi,overflow:er}:null,retryLane:536870912,hydrationErrors:null},s=hg(t),s.return=i,i.child=s,dn=i,Et=null)):t=null,t===null)throw fa(i);return i.lanes=536870912,null}return yc(i,o)}var f=t.memoizedState;if(f!==null){var v=f.dehydrated;if(Md(i),h)if(i.flags&256)i.flags&=-257,i=Cy(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if($t||vo(t,i,s,!1),h=(s&t.childLanes)!==0,$t||h){if(o=ft,o!==null&&(v=Er(o,s),v!==0&&v!==f.retryLane))throw f.retryLane=v,ws(t,v),qn(o,t,v),tf;Cc(),i=Cy(t,i,s)}else t=f.treeContext,Et=Ei(v.nextSibling),dn=i,Ye=!0,da=null,vi=!1,t!==null&&mg(i,t),i=yc(i,o),i.flags|=4096;return i}return t=Rr(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function nf(t,i,s,o,h){return Is(i),s=kd(t,i,s,o,void 0,h),o=Pd(),t!==null&&!$t?(Ud(t,i,h),jr(t,i,h)):(Ye&&o&&yd(i),i.flags|=1,mn(t,i,s,h),i.child)}function Iy(t,i,s,o,h,f){return Is(i),i.updateQueue=null,s=Og(i,o,s,h),Dg(t),o=Pd(),t!==null&&!$t?(Ud(t,i,f),jr(t,i,f)):(Ye&&o&&yd(i),i.flags|=1,mn(t,i,s,f),i.child)}function Ny(t,i,s,o,h){if(Is(i),i.stateNode===null){var f=mo,v=s.contextType;typeof v=="object"&&v!==null&&(f=fn(v)),f=new s(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wd,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},Cd(i),v=s.contextType,f.context=typeof v=="object"&&v!==null?fn(v):mo,f.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Zd(i,s,v,o),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Wd.enqueueReplaceState(f,f.state,null),Cl(i,o,f,h),Rl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){f=i.stateNode;var b=i.memoizedProps,D=Vs(s,b);f.props=D;var B=f.context,K=s.contextType;v=mo,typeof K=="object"&&K!==null&&(v=fn(K));var $=s.getDerivedStateFromProps;K=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||B!==v)&&gy(i,f,o,v),pa=!1;var q=i.memoizedState;f.state=q,Cl(i,o,f,h),Rl(),B=i.memoizedState,b||q!==B||pa?(typeof $=="function"&&(Zd(i,s,$,o),B=i.memoizedState),(D=pa||py(i,s,D,o,q,B,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=v,o=D):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Id(t,i),v=i.memoizedProps,K=Vs(s,v),f.props=K,$=i.pendingProps,q=f.context,B=s.contextType,D=mo,typeof B=="object"&&B!==null&&(D=fn(B)),b=s.getDerivedStateFromProps,(B=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==$||q!==D)&&gy(i,f,o,D),pa=!1,q=i.memoizedState,f.state=q,Cl(i,o,f,h),Rl();var F=i.memoizedState;v!==$||q!==F||pa||t!==null&&t.dependencies!==null&&Wu(t.dependencies)?(typeof b=="function"&&(Zd(i,s,b,o),F=i.memoizedState),(K=pa||py(i,s,K,o,q,F,D)||t!==null&&t.dependencies!==null&&Wu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,D)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),f.props=o,f.state=F,f.context=D,o=K):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),o=!1)}return f=o,vc(t,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&o?(i.child=js(i,t.child,null,h),i.child=js(i,null,s,h)):mn(t,i,s,h),i.memoizedState=f.state,t=i.child):t=jr(t,i,h),t}function Dy(t,i,s,o){return Rs(),i.flags|=256,mn(t,i,s,o),i.child}var rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function af(t){return{baseLanes:t,cachePool:Eg()}}function sf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=ri),t}function Oy(t,i,s){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ht.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ye){if(h?va(i):_a(),(t=Et)?(t=z0(t,vi),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ha!==null?{id:Wi,overflow:er}:null,retryLane:536870912,hydrationErrors:null},s=hg(t),s.return=i,i.child=s,dn=i,Et=null)):t=null,t===null)throw fa(i);return qf(t)?i.lanes=32:i.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(_a(),h=i.mode,b=_c({mode:"hidden",children:b},h),o=xs(o,h,s,null),b.return=i,o.return=i,b.sibling=o,i.child=b,o=i.child,o.memoizedState=af(s),o.childLanes=sf(t,v,s),i.memoizedState=rf,jl(null,o)):(va(i),of(i,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(f)i.flags&256?(va(i),i.flags&=-257,i=lf(t,i,s)):i.memoizedState!==null?(_a(),i.child=t.child,i.flags|=128,i=null):(_a(),b=o.fallback,h=i.mode,o=_c({mode:"visible",children:o.children},h),b=xs(b,h,s,null),b.flags|=2,o.return=i,b.return=i,o.sibling=b,i.child=o,js(i,t.child,null,s),o=i.child,o.memoizedState=af(s),o.childLanes=sf(t,v,s),i.memoizedState=rf,i=jl(null,o));else if(va(i),qf(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var B=v.dgst;v=B,o=Error(a(419)),o.stack="",o.digest=v,bl({value:o,source:null,stack:null}),i=lf(t,i,s)}else if($t||vo(t,i,s,!1),v=(s&t.childLanes)!==0,$t||v){if(v=ft,v!==null&&(o=Er(v,s),o!==0&&o!==D.retryLane))throw D.retryLane=o,ws(t,o),qn(v,t,o),tf;Bf(b)||Cc(),i=lf(t,i,s)}else Bf(b)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,Et=Ei(b.nextSibling),dn=i,Ye=!0,da=null,vi=!1,t!==null&&mg(i,t),i=of(i,o.children),i.flags|=4096);return i}return h?(_a(),b=o.fallback,h=i.mode,D=t.child,B=D.sibling,o=Rr(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,B!==null?b=Rr(B,b):(b=xs(b,h,s,null),b.flags|=2),b.return=i,o.return=i,o.sibling=b,i.child=o,jl(null,o),o=i.child,b=t.child.memoizedState,b===null?b=af(s):(h=b.cachePool,h!==null?(D=Yt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Eg(),b={baseLanes:b.baseLanes|s,cachePool:h}),o.memoizedState=b,o.childLanes=sf(t,v,s),i.memoizedState=rf,jl(t.child,o)):(va(i),s=t.child,t=s.sibling,s=Rr(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function of(t,i){return i=_c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _c(t,i){return t=ei(22,t,null,i),t.lanes=0,t}function lf(t,i,s){return js(i,t.child,null,s),t=of(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function jy(t,i,s){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Td(t.return,i,s)}function uf(t,i,s,o,h,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=s,v.tailMode=h,v.treeForkCount=f)}function My(t,i,s){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var v=Ht.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,re(Ht,v),mn(t,i,o,s),o=Ye?El:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,s,i);else if(t.tag===19)jy(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&oc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),uf(i,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}uf(i,!0,s,null,f,o);break;case"together":uf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function jr(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Ta|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(vo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Rr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Rr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function cf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wu(t)))}function Sb(t,i,s){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),ma(i,Yt,t.memoizedState.cache),Rs();break;case 27:case 5:zi(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:ma(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Md(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(va(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Oy(t,i,s):(va(i),t=jr(t,i,s),t!==null?t.sibling:null);va(i);break;case 19:var h=(t.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(vo(t,i,s,!1),o=(s&i.childLanes)!==0),h){if(o)return My(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Ht,Ht.current),o)break;return null;case 22:return i.lanes=0,xy(t,i,s,i.pendingProps);case 24:ma(i,Yt,t.memoizedState.cache)}return jr(t,i,s)}function Vy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)$t=!0;else{if(!cf(t,s)&&(i.flags&128)===0)return $t=!1,Sb(t,i,s);$t=(t.flags&131072)!==0}else $t=!1,Ye&&(i.flags&1048576)!==0&&fg(i,El,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Ds(i.elementType),i.type=t,typeof t=="function")md(t)?(o=Vs(t,o),i.tag=1,i=Ny(null,i,t,o,s)):(i.tag=0,i=nf(null,i,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===qe){i.tag=11,i=Sy(null,i,t,o,s);break e}else if(h===I){i.tag=14,i=Ay(null,i,t,o,s);break e}}throw i=Ue(t)||t,Error(a(306,i,""))}}return i;case 0:return nf(t,i,i.type,i.pendingProps,s);case 1:return o=i.type,h=Vs(o,i.pendingProps),Ny(t,i,o,h,s);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(a(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,Id(t,i),Cl(i,o,null,s);var v=i.memoizedState;if(o=v.cache,ma(i,Yt,o),o!==f.cache&&Sd(i,[Yt],s,!0),Rl(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Dy(t,i,o,s);break e}else if(o!==h){h=pi(Error(a(424)),i),bl(h),i=Dy(t,i,o,s);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Et=Ei(t.firstChild),dn=i,Ye=!0,da=null,vi=!0,s=xg(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Rs(),o===h){i=jr(t,i,s);break e}mn(t,i,o,s)}i=i.child}return i;case 26:return vc(t,i),t===null?(s=Q0(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ye||(s=i.type,t=i.pendingProps,o=Vc(xe.current).createElement(s),o[lt]=i,o[Bt]=t,pn(o,s,t),Mt(o),i.stateNode=o):i.memoizedState=Q0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return zi(i),t===null&&Ye&&(o=i.stateNode=H0(i.type,i.pendingProps,xe.current),dn=i,vi=!0,h=Et,Ra(i.type)?(Hf=h,Et=Ei(o.firstChild)):Et=h),mn(t,i,i.pendingProps.children,s),vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ye&&((h=o=Et)&&(o=Wb(o,i.type,i.pendingProps,vi),o!==null?(i.stateNode=o,dn=i,Et=Ei(o.firstChild),vi=!1,h=!0):h=!1),h||fa(i)),zi(i),h=i.type,f=i.pendingProps,v=t!==null?t.memoizedProps:null,o=f.children,Uf(h,f)?o=null:v!==null&&Uf(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=kd(t,i,mb,null,null,s),Yl._currentValue=h),vc(t,i),mn(t,i,o,s),i.child;case 6:return t===null&&Ye&&((t=s=Et)&&(s=eT(s,i.pendingProps,vi),s!==null?(i.stateNode=s,dn=i,Et=null,t=!0):t=!1),t||fa(i)),null;case 13:return Oy(t,i,s);case 4:return Ot(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=js(i,null,o,s):mn(t,i,o,s),i.child;case 11:return Sy(t,i,i.type,i.pendingProps,s);case 7:return mn(t,i,i.pendingProps,s),i.child;case 8:return mn(t,i,i.pendingProps.children,s),i.child;case 12:return mn(t,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,ma(i,i.type,o.value),mn(t,i,o.children,s),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Is(i),h=fn(h),o=o(h),i.flags|=1,mn(t,i,o,s),i.child;case 14:return Ay(t,i,i.type,i.pendingProps,s);case 15:return wy(t,i,i.type,i.pendingProps,s);case 19:return My(t,i,s);case 31:return Tb(t,i,s);case 22:return xy(t,i,s,i.pendingProps);case 24:return Is(i),o=fn(Yt),t===null?(h=xd(),h===null&&(h=ft,f=Ad(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),i.memoizedState={parent:o,cache:h},Cd(i),ma(i,Yt,h)):((t.lanes&s)!==0&&(Id(t,i),Cl(i,null,null,s),Rl()),h=t.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ma(i,Yt,o)):(o=f.cache,ma(i,Yt,o),o!==h.cache&&Sd(i,[Yt],s,!0))),mn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Mr(t){t.flags|=4}function hf(t,i,s,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(l0())t.flags|=8192;else throw Os=ic,Rd}else t.flags&=-16777217}function ky(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!J0(i))if(l0())t.flags|=8192;else throw Os=ic,Rd}function Ec(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?os():536870912,t.lanes|=i,No|=i)}function Ml(t,i){if(!Ye)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function bt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,i}function Ab(t,i,s){var o=i.pendingProps;switch(vd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return bt(i),null;case 3:return s=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Nr(Yt),Xe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(yo(i)?Mr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ed())),bt(i),null;case 26:var h=i.type,f=i.memoizedState;return t===null?(Mr(i),f!==null?(bt(i),ky(i,f)):(bt(i),hf(i,h,null,o,s))):f?f!==t.memoizedState?(Mr(i),bt(i),ky(i,f)):(bt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Mr(i),bt(i),hf(i,h,t,o,s)),null;case 27:if(mr(i),s=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Mr(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return bt(i),null}t=ue.current,yo(i)?pg(i):(t=H0(h,o,s),i.stateNode=t,Mr(i))}return bt(i),null;case 5:if(mr(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Mr(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return bt(i),null}if(f=ue.current,yo(i))pg(i);else{var v=Vc(xe.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}f[lt]=i,f[Bt]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=f;e:switch(pn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Mr(i)}}return bt(i),hf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Mr(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=xe.current,yo(i)){if(t=i.stateNode,s=i.memoizedProps,o=null,h=dn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[lt]=i,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||O0(t.nodeValue,s)),t||fa(i,!0)}else t=Vc(t).createTextNode(o),t[lt]=i,i.stateNode=t}return bt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(o=yo(i),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[lt]=i}else Rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),t=!1}else s=Ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(ni(i),i):(ni(i),null);if((i.flags&128)!==0)throw Error(a(558))}return bt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=yo(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[lt]=i}else Rs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),h=!1}else h=Ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(ni(i),i):(ni(i),null)}return ni(i),(i.flags&128)!==0?(i.lanes=s,i):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Ec(i,i.updateQueue),bt(i),null);case 4:return Xe(),t===null&&jf(i.stateNode.containerInfo),bt(i),null;case 10:return Nr(i.type),bt(i),null;case 19:if(Y(Ht),o=i.memoizedState,o===null)return bt(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)Ml(o,!1);else{if(Ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=oc(t),f!==null){for(i.flags|=128,Ml(o,!1),t=f.updateQueue,i.updateQueue=t,Ec(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)cg(s,t),s=s.sibling;return re(Ht,Ht.current&1|2),Ye&&Cr(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&Kt()>wc&&(i.flags|=128,h=!0,Ml(o,!1),i.lanes=4194304)}else{if(!h)if(t=oc(f),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ec(i,t),Ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ye)return bt(i),null}else 2*Kt()-o.renderingStartTime>wc&&s!==536870912&&(i.flags|=128,h=!0,Ml(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(t=o.last,t!==null?t.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Kt(),t.sibling=null,s=Ht.current,re(Ht,h?s&1|2:s&1),Ye&&Cr(i,o.treeForkCount),t):(bt(i),null);case 22:case 23:return ni(i),jd(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(s&536870912)!==0&&(i.flags&128)===0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),s=i.updateQueue,s!==null&&Ec(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),t!==null&&Y(Ns),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Nr(Yt),bt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function wb(t,i){switch(vd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Nr(Yt),Xe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return mr(i),null;case 31:if(i.memoizedState!==null){if(ni(i),i.alternate===null)throw Error(a(340));Rs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(ni(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Rs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(Ht),null;case 4:return Xe(),null;case 10:return Nr(i.type),null;case 22:case 23:return ni(i),jd(),t!==null&&Y(Ns),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Nr(Yt),null;case 25:return null;default:return null}}function Py(t,i){switch(vd(i),i.tag){case 3:Nr(Yt),Xe();break;case 26:case 27:case 5:mr(i);break;case 4:Xe();break;case 31:i.memoizedState!==null&&ni(i);break;case 13:ni(i);break;case 19:Y(Ht);break;case 10:Nr(i.type);break;case 22:case 23:ni(i),jd(),t!==null&&Y(Ns);break;case 24:Nr(Yt)}}function Vl(t,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,v=s.inst;o=f(),v.destroy=o}s=s.next}while(s!==h)}}catch(b){ot(i,i.return,b)}}function Ea(t,i,s){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var v=o.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var D=s,B=b;try{B()}catch(K){ot(h,D,K)}}}o=o.next}while(o!==f)}}catch(K){ot(i,i.return,K)}}function Uy(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{Cg(i,s)}catch(o){ot(t,t.return,o)}}}function Ly(t,i,s){s.props=Vs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){ot(t,i,o)}}function kl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){ot(t,i,h)}}function tr(t,i){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ot(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ot(t,i,h)}else s.current=null}function zy(t){var i=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ot(t,t.return,h)}}function df(t,i,s){try{var o=t.stateNode;Kb(o,t.type,s,i),o[Bt]=i}catch(h){ot(t,t.return,h)}}function By(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ra(t.type)||t.tag===4}function ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||By(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ra(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Pn));else if(o!==4&&(o===27&&Ra(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(mf(t,i,s),t=t.sibling;t!==null;)mf(t,i,s),t=t.sibling}function bc(t,i,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(o!==4&&(o===27&&Ra(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(bc(t,i,s),t=t.sibling;t!==null;)bc(t,i,s),t=t.sibling}function qy(t){var i=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);pn(i,o,s),i[lt]=t,i[Bt]=s}catch(f){ot(t,t.return,f)}}var Vr=!1,Jt=!1,pf=!1,Hy=typeof WeakSet=="function"?WeakSet:Set,sn=null;function xb(t,i){if(t=t.containerInfo,kf=qc,t=tg(t),od(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,b=-1,D=-1,B=0,K=0,$=t,q=null;t:for(;;){for(var F;$!==s||h!==0&&$.nodeType!==3||(b=v+h),$!==f||o!==0&&$.nodeType!==3||(D=v+o),$.nodeType===3&&(v+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===t)break t;if(q===s&&++B===h&&(b=v),q===f&&++K===o&&(D=v),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}s=b===-1||D===-1?null:{start:b,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(Pf={focusedElem:t,selectionRange:s},qc=!1,sn=i;sn!==null;)if(i=sn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,sn=t;else for(;sn!==null;){switch(i=sn,f=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=i,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var pe=Vs(s.type,h);t=o.getSnapshotBeforeUpdate(pe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ot(s,s.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)zf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,sn=t;break}sn=i.return}}function Fy(t,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Pr(t,s),o&4&&Vl(5,s);break;case 1:if(Pr(t,s),o&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(v){ot(s,s.return,v)}else{var h=Vs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){ot(s,s.return,v)}}o&64&&Uy(s),o&512&&kl(s,s.return);break;case 3:if(Pr(t,s),o&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Cg(t,i)}catch(v){ot(s,s.return,v)}}break;case 27:i===null&&o&4&&qy(s);case 26:case 5:Pr(t,s),i===null&&o&4&&zy(s),o&512&&kl(s,s.return);break;case 12:Pr(t,s);break;case 31:Pr(t,s),o&4&&Ky(t,s);break;case 13:Pr(t,s),o&4&&Yy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Vb.bind(null,s),tT(t,s))));break;case 22:if(o=s.memoizedState!==null||Vr,!o){i=i!==null&&i.memoizedState!==null||Jt,h=Vr;var f=Jt;Vr=o,(Jt=i)&&!f?Ur(t,s,(s.subtreeFlags&8772)!==0):Pr(t,s),Vr=h,Jt=f}break;case 30:break;default:Pr(t,s)}}function Gy(t){var i=t.alternate;i!==null&&(t.alternate=null,Gy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ce(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Rt=null,Un=!1;function kr(t,i,s){for(s=s.child;s!==null;)Qy(t,i,s),s=s.sibling}function Qy(t,i,s){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Kn,s)}catch{}switch(s.tag){case 26:Jt||tr(s,i),kr(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Jt||tr(s,i);var o=Rt,h=Un;Ra(s.type)&&(Rt=s.stateNode,Un=!1),kr(t,i,s),Gl(s.stateNode),Rt=o,Un=h;break;case 5:Jt||tr(s,i);case 6:if(o=Rt,h=Un,Rt=null,kr(t,i,s),Rt=o,Un=h,Rt!==null)if(Un)try{(Rt.nodeType===9?Rt.body:Rt.nodeName==="HTML"?Rt.ownerDocument.body:Rt).removeChild(s.stateNode)}catch(f){ot(s,i,f)}else try{Rt.removeChild(s.stateNode)}catch(f){ot(s,i,f)}break;case 18:Rt!==null&&(Un?(t=Rt,U0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Uo(t)):U0(Rt,s.stateNode));break;case 4:o=Rt,h=Un,Rt=s.stateNode.containerInfo,Un=!0,kr(t,i,s),Rt=o,Un=h;break;case 0:case 11:case 14:case 15:Ea(2,s,i),Jt||Ea(4,s,i),kr(t,i,s);break;case 1:Jt||(tr(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&Ly(s,i,o)),kr(t,i,s);break;case 21:kr(t,i,s);break;case 22:Jt=(o=Jt)||s.memoizedState!==null,kr(t,i,s),Jt=o;break;default:kr(t,i,s)}}function Ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Uo(t)}catch(s){ot(i,i.return,s)}}}function Yy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Uo(t)}catch(s){ot(i,i.return,s)}}function Rb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Hy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Hy),i;default:throw Error(a(435,t.tag))}}function Tc(t,i){var s=Rb(t);i.forEach(function(o){if(!s.has(o)){s.add(o);var h=kb.bind(null,t,o);o.then(h,h)}})}function Ln(t,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Ra(b.type)){Rt=b.stateNode,Un=!1;break e}break;case 5:Rt=b.stateNode,Un=!1;break e;case 3:case 4:Rt=b.stateNode.containerInfo,Un=!0;break e}b=b.return}if(Rt===null)throw Error(a(160));Qy(f,v,h),Rt=null,Un=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Xy(i,t),i=i.sibling}var Oi=null;function Xy(t,i){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ln(i,t),zn(t),o&4&&(Ea(3,t,t.return),Vl(3,t),Ea(5,t,t.return));break;case 1:Ln(i,t),zn(t),o&512&&(Jt||s===null||tr(s,s.return)),o&64&&Vr&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Oi;if(Ln(i,t),zn(t),o&512&&(Jt||s===null||tr(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Nn]||f[lt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),pn(f,o,s),f[lt]=t,Mt(f),o=f;break e;case"link":var v=X0("link","href",h).get(o+(s.href||""));if(v){for(var b=0;b<v.length;b++)if(f=v[b],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(b,1);break t}}f=h.createElement(o),pn(f,o,s),h.head.appendChild(f);break;case"meta":if(v=X0("meta","content",h).get(o+(s.content||""))){for(b=0;b<v.length;b++)if(f=v[b],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(b,1);break t}}f=h.createElement(o),pn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[lt]=t,Mt(f),o=f}t.stateNode=o}else $0(h,t.type,t.stateNode);else t.stateNode=Y0(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?$0(h,t.type,t.stateNode):Y0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&df(t,t.memoizedProps,s.memoizedProps)}break;case 27:Ln(i,t),zn(t),o&512&&(Jt||s===null||tr(s,s.return)),s!==null&&o&4&&df(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Ln(i,t),zn(t),o&512&&(Jt||s===null||tr(s,s.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(pe){ot(t,t.return,pe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,df(t,h,s!==null?s.memoizedProps:h)),o&1024&&(pf=!0);break;case 6:if(Ln(i,t),zn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(pe){ot(t,t.return,pe)}}break;case 3:if(Uc=null,h=Oi,Oi=kc(i.containerInfo),Ln(i,t),Oi=h,zn(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Uo(i.containerInfo)}catch(pe){ot(t,t.return,pe)}pf&&(pf=!1,$y(t));break;case 4:o=Oi,Oi=kc(t.stateNode.containerInfo),Ln(i,t),zn(t),Oi=o;break;case 12:Ln(i,t),zn(t);break;case 31:Ln(i,t),zn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tc(t,o)));break;case 13:Ln(i,t),zn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Ac=Kt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tc(t,o)));break;case 22:h=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,B=Vr,K=Jt;if(Vr=B||h,Jt=K||D,Ln(i,t),Jt=K,Vr=B,zn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||D||Vr||Jt||ks(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){D=s=i;try{if(f=D.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=D.stateNode;var $=D.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(pe){ot(D,D.return,pe)}}}else if(i.tag===6){if(s===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(pe){ot(D,D.return,pe)}}}else if(i.tag===18){if(s===null){D=i;try{var F=D.stateNode;h?L0(F,!0):L0(D.stateNode,!1)}catch(pe){ot(D,D.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Tc(t,s))));break;case 19:Ln(i,t),zn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Tc(t,o)));break;case 30:break;case 21:break;default:Ln(i,t),zn(t)}}function zn(t){var i=t.flags;if(i&2){try{for(var s,o=t.return;o!==null;){if(By(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=ff(t);bc(t,f,h);break;case 5:var v=s.stateNode;s.flags&32&&(Sn(v,""),s.flags&=-33);var b=ff(t);bc(t,b,v);break;case 3:case 4:var D=s.stateNode.containerInfo,B=ff(t);mf(t,B,D);break;default:throw Error(a(161))}}catch(K){ot(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function $y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;$y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Pr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fy(t,i.alternate,i),i=i.sibling}function ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ea(4,i,i.return),ks(i);break;case 1:tr(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Ly(i,i.return,s),ks(i);break;case 27:Gl(i.stateNode);case 26:case 5:tr(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}t=t.sibling}}function Ur(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:Ur(h,f,s),Vl(4,f);break;case 1:if(Ur(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){ot(o,o.return,B)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Rg(D[h],b)}catch(B){ot(o,o.return,B)}}s&&v&64&&Uy(f),kl(f,f.return);break;case 27:qy(f);case 26:case 5:Ur(h,f,s),s&&o===null&&v&4&&zy(f),kl(f,f.return);break;case 12:Ur(h,f,s);break;case 31:Ur(h,f,s),s&&v&4&&Ky(h,f);break;case 13:Ur(h,f,s),s&&v&4&&Yy(h,f);break;case 22:f.memoizedState===null&&Ur(h,f,s),kl(f,f.return);break;case 30:break;default:Ur(h,f,s)}i=i.sibling}}function gf(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Tl(s))}function yf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Tl(t))}function ji(t,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Jy(t,i,s,o),i=i.sibling}function Jy(t,i,s,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ji(t,i,s,o),h&2048&&Vl(9,i);break;case 1:ji(t,i,s,o);break;case 3:ji(t,i,s,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Tl(t)));break;case 12:if(h&2048){ji(t,i,s,o),t=i.stateNode;try{var f=i.memoizedProps,v=f.id,b=f.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ot(i,i.return,D)}}else ji(t,i,s,o);break;case 31:ji(t,i,s,o);break;case 13:ji(t,i,s,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?ji(t,i,s,o):Pl(t,i):f._visibility&2?ji(t,i,s,o):(f._visibility|=2,Ro(t,i,s,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&gf(v,i);break;case 24:ji(t,i,s,o),h&2048&&yf(i.alternate,i);break;default:ji(t,i,s,o)}}function Ro(t,i,s,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=t,v=i,b=s,D=o,B=v.flags;switch(v.tag){case 0:case 11:case 15:Ro(f,v,b,D,h),Vl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Ro(f,v,b,D,h):Pl(f,v):(K._visibility|=2,Ro(f,v,b,D,h)),h&&B&2048&&gf(v.alternate,v);break;case 24:Ro(f,v,b,D,h),h&&B&2048&&yf(v.alternate,v);break;default:Ro(f,v,b,D,h)}i=i.sibling}}function Pl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,o=i,h=o.flags;switch(o.tag){case 22:Pl(s,o),h&2048&&gf(o.alternate,o);break;case 24:Pl(s,o),h&2048&&yf(o.alternate,o);break;default:Pl(s,o)}i=i.sibling}}var Ul=8192;function Co(t,i,s){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)Zy(t,i,s),t=t.sibling}function Zy(t,i,s){switch(t.tag){case 26:Co(t,i,s),t.flags&Ul&&t.memoizedState!==null&&fT(s,Oi,t.memoizedState,t.memoizedProps);break;case 5:Co(t,i,s);break;case 3:case 4:var o=Oi;Oi=kc(t.stateNode.containerInfo),Co(t,i,s),Oi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ul,Ul=16777216,Co(t,i,s),Ul=o):Co(t,i,s));break;default:Co(t,i,s)}}function Wy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ll(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];sn=o,t0(o,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)e0(t),t=t.sibling}function e0(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&Ea(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):Ll(t);break;default:Ll(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];sn=o,t0(o,t)}Wy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ea(8,i,i.return),Sc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function t0(t,i){for(;sn!==null;){var s=sn;switch(s.tag){case 0:case 11:case 15:Ea(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Tl(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,sn=o;else e:for(s=t;sn!==null;){o=sn;var h=o.sibling,f=o.return;if(Gy(o),o===s){sn=null;break e}if(h!==null){h.return=f,sn=h;break e}sn=f}}}var Cb={getCacheForType:function(t){var i=fn(Yt),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return fn(Yt).controller.signal}},Ib=typeof WeakMap=="function"?WeakMap:Map,rt=0,ft=null,ze=null,He=0,st=0,ii=null,ba=!1,Io=!1,vf=!1,Lr=0,Ut=0,Ta=0,Ps=0,_f=0,ri=0,No=0,zl=null,Bn=null,Ef=!1,Ac=0,n0=0,wc=1/0,xc=null,Sa=null,nn=0,Aa=null,Do=null,zr=0,bf=0,Tf=null,i0=null,Bl=0,Sf=null;function ai(){return(rt&2)!==0&&He!==0?He&-He:Q.T!==null?If():ls()}function r0(){if(ri===0)if((He&536870912)===0||Ye){var t=Xn;Xn<<=1,(Xn&3932160)===0&&(Xn=262144),ri=t}else ri=536870912;return t=ti.current,t!==null&&(t.flags|=32),ri}function qn(t,i,s){(t===ft&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Oo(t,0),wa(t,He,ri,!1)),cn(t,s),((rt&2)===0||t!==ft)&&(t===ft&&((rt&2)===0&&(Ps|=s),Ut===4&&wa(t,He,ri,!1)),nr(t))}function a0(t,i,s){if((rt&6)!==0)throw Error(a(327));var o=!s&&(i&127)===0&&(i&t.expiredLanes)===0||jt(t,i),h=o?Ob(t,i):wf(t,i,!0),f=o;do{if(h===0){Io&&!o&&wa(t,i,0,!1);break}else{if(s=t.current.alternate,f&&!Nb(s)){h=wf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=zl;var D=b.current.memoizedState.isDehydrated;if(D&&(Oo(b,v).flags|=256),v=wf(b,v,!1),v!==2){if(vf&&!D){b.errorRecoveryDisabledLanes|=f,Ps|=f,h=4;break e}f=Bn,Bn=h,f!==null&&(Bn===null?Bn=f:Bn.push.apply(Bn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Oo(t,0),wa(t,i,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:wa(o,i,ri,!ba);break e;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=Ac+300-Kt(),10<h)){if(wa(o,i,ri,!ba),Mn(o,0,!0)!==0)break e;zr=i,o.timeoutHandle=k0(s0.bind(null,o,s,Bn,xc,Ef,i,ri,Ps,No,ba,f,"Throttled",-0,0),h);break e}s0(o,s,Bn,xc,Ef,i,ri,Ps,No,ba,f,null,-0,0)}}break}while(!0);nr(t)}function s0(t,i,s,o,h,f,v,b,D,B,K,$,q,F){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},Zy(i,f,$);var pe=(f&62914560)===f?Ac-Kt():(f&4194048)===f?n0-Kt():0;if(pe=mT($,pe),pe!==null){zr=f,t.cancelPendingCommit=pe(m0.bind(null,t,i,f,s,o,h,v,b,D,K,$,null,q,F)),wa(t,f,v,!B);return}}m0(t,i,f,s,o,h,v,b,D)}function Nb(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Wn(f(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wa(t,i,s,o){i&=~_f,i&=~Ps,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var f=31-gt(h),v=1<<f;o[f]=-1,h&=~v}s!==0&&ye(t,s,i)}function Rc(){return(rt&6)===0?(ql(0),!1):!0}function Af(){if(ze!==null){if(st===0)var t=ze.return;else t=ze,Ir=Cs=null,Ld(t),To=null,Al=0,t=ze;for(;t!==null;)Py(t.alternate,t),t=t.return;ze=null}}function Oo(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,$b(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),zr=0,Af(),ft=t,ze=s=Rr(t.current,null),He=i,st=0,ii=null,ba=!1,Io=jt(t,i),vf=!1,No=ri=_f=Ps=Ta=Ut=0,Bn=zl=null,Ef=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-gt(o),f=1<<h;i|=t[h],o&=~f}return Lr=i,Yu(),s}function o0(t,i){je=null,Q.H=Ol,i===bo||i===nc?(i=Sg(),st=3):i===Rd?(i=Sg(),st=4):st=i===tf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ii=i,ze===null&&(Ut=1,gc(t,pi(i,t.current)))}function l0(){var t=ti.current;return t===null?!0:(He&4194048)===He?_i===null:(He&62914560)===He||(He&536870912)!==0?t===_i:!1}function u0(){var t=Q.H;return Q.H=Ol,t===null?Ol:t}function c0(){var t=Q.A;return Q.A=Cb,t}function Cc(){Ut=4,ba||(He&4194048)!==He&&ti.current!==null||(Io=!0),(Ta&134217727)===0&&(Ps&134217727)===0||ft===null||wa(ft,He,ri,!1)}function wf(t,i,s){var o=rt;rt|=2;var h=u0(),f=c0();(ft!==t||He!==i)&&(xc=null,Oo(t,i)),i=!1;var v=Ut;e:do try{if(st!==0&&ze!==null){var b=ze,D=ii;switch(st){case 8:Af(),v=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(i=!0);var B=st;if(st=0,ii=null,jo(t,b,D,B),s&&Io){v=0;break e}break;default:B=st,st=0,ii=null,jo(t,b,D,B)}}Db(),v=Ut;break}catch(K){o0(t,K)}while(!0);return i&&t.shellSuspendCounter++,Ir=Cs=null,rt=o,Q.H=h,Q.A=f,ze===null&&(ft=null,He=0,Yu()),v}function Db(){for(;ze!==null;)h0(ze)}function Ob(t,i){var s=rt;rt|=2;var o=u0(),h=c0();ft!==t||He!==i?(xc=null,wc=Kt()+500,Oo(t,i)):Io=jt(t,i);e:do try{if(st!==0&&ze!==null){i=ze;var f=ii;t:switch(st){case 1:st=0,ii=null,jo(t,i,f,1);break;case 2:case 9:if(bg(f)){st=0,ii=null,d0(i);break}i=function(){st!==2&&st!==9||ft!==t||(st=7),nr(t)},f.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:bg(f)?(st=0,ii=null,d0(i)):(st=0,ii=null,jo(t,i,f,7));break;case 5:var v=null;switch(ze.tag){case 26:v=ze.memoizedState;case 5:case 27:var b=ze;if(v?J0(v):b.stateNode.complete){st=0,ii=null;var D=b.sibling;if(D!==null)ze=D;else{var B=b.return;B!==null?(ze=B,Ic(B)):ze=null}break t}}st=0,ii=null,jo(t,i,f,5);break;case 6:st=0,ii=null,jo(t,i,f,6);break;case 8:Af(),Ut=6;break e;default:throw Error(a(462))}}jb();break}catch(K){o0(t,K)}while(!0);return Ir=Cs=null,Q.H=o,Q.A=h,rt=s,ze!==null?0:(ft=null,He=0,Yu(),Ut)}function jb(){for(;ze!==null&&!Zs();)h0(ze)}function h0(t){var i=Vy(t.alternate,t,Lr);t.memoizedProps=t.pendingProps,i===null?Ic(t):ze=i}function d0(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Iy(s,i,i.pendingProps,i.type,void 0,He);break;case 11:i=Iy(s,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:Ld(i);default:Py(s,i),i=ze=cg(i,Lr),i=Vy(s,i,Lr)}t.memoizedProps=t.pendingProps,i===null?Ic(t):ze=i}function jo(t,i,s,o){Ir=Cs=null,Ld(i),To=null,Al=0;var h=i.return;try{if(bb(t,h,i,s,He)){Ut=1,gc(t,pi(s,t.current)),ze=null;return}}catch(f){if(h!==null)throw ze=h,f;Ut=1,gc(t,pi(s,t.current)),ze=null;return}i.flags&32768?(Ye||o===1?t=!0:Io||(He&536870912)!==0?t=!1:(ba=t=!0,(o===2||o===9||o===3||o===6)&&(o=ti.current,o!==null&&o.tag===13&&(o.flags|=16384))),f0(i,t)):Ic(i)}function Ic(t){var i=t;do{if((i.flags&32768)!==0){f0(i,ba);return}t=i.return;var s=Ab(i.alternate,i,Lr);if(s!==null){ze=s;return}if(i=i.sibling,i!==null){ze=i;return}ze=i=t}while(i!==null);Ut===0&&(Ut=5)}function f0(t,i){do{var s=wb(t.alternate,t);if(s!==null){s.flags&=32767,ze=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){ze=t;return}ze=t=s}while(t!==null);Ut=6,ze=null}function m0(t,i,s,o,h,f,v,b,D){t.cancelPendingCommit=null;do Nc();while(nn!==0);if((rt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(f=i.lanes|i.childLanes,f|=dd,Hi(t,s,f,v,b,D),t===ft&&(ze=ft=null,He=0),Do=i,Aa=t,zr=s,bf=f,Tf=h,i0=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Pb(Qn,function(){return _0(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=se.p,se.p=2,v=rt,rt|=4;try{xb(t,i,s)}finally{rt=v,se.p=h,Q.T=o}}nn=1,p0(),g0(),y0()}}function p0(){if(nn===1){nn=0;var t=Aa,i=Do,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var o=se.p;se.p=2;var h=rt;rt|=4;try{Xy(i,t);var f=Pf,v=tg(t.containerInfo),b=f.focusedElem,D=f.selectionRange;if(v!==b&&b&&b.ownerDocument&&eg(b.ownerDocument.documentElement,b)){if(D!==null&&od(b)){var B=D.start,K=D.end;if(K===void 0&&(K=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(K,b.value.length);else{var $=b.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),pe=b.textContent.length,Se=Math.min(D.start,pe),ht=D.end===void 0?Se:Math.min(D.end,pe);!F.extend&&Se>ht&&(v=ht,ht=Se,Se=v);var U=Wp(b,Se),M=Wp(b,ht);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var z=$.createRange();z.setStart(U.node,U.offset),F.removeAllRanges(),Se>ht?(F.addRange(z),F.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),F.addRange(z))}}}}for($=[],F=b;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var X=$[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}qc=!!kf,Pf=kf=null}finally{rt=h,se.p=o,Q.T=s}}t.current=i,nn=2}}function g0(){if(nn===2){nn=0;var t=Aa,i=Do,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var o=se.p;se.p=2;var h=rt;rt|=4;try{Fy(t,i.alternate,i)}finally{rt=h,se.p=o,Q.T=s}}nn=3}}function y0(){if(nn===4||nn===3){nn=0,rs();var t=Aa,i=Do,s=zr,o=i0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nn=5:(nn=0,Do=Aa=null,v0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Sa=null),xi(s),i=i.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Kn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=Q.T,h=se.p,se.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<o.length;v++){var b=o[v];f(b.value,{componentStack:b.stack})}}finally{Q.T=i,se.p=h}}(zr&3)!==0&&Nc(),nr(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===Sf?Bl++:(Bl=0,Sf=t):Bl=0,ql(0)}}function v0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Tl(i)))}function Nc(){return p0(),g0(),y0(),_0()}function _0(){if(nn!==5)return!1;var t=Aa,i=bf;bf=0;var s=xi(zr),o=Q.T,h=se.p;try{se.p=32>s?32:s,Q.T=null,s=Tf,Tf=null;var f=Aa,v=zr;if(nn=0,Do=Aa=null,zr=0,(rt&6)!==0)throw Error(a(331));var b=rt;if(rt|=4,e0(f.current),Jy(f,f.current,v,s),rt=b,ql(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Kn,f)}catch{}return!0}finally{se.p=h,Q.T=o,v0(t,i)}}function E0(t,i,s){i=pi(s,i),i=ef(t.stateNode,i,2),t=ya(t,i,2),t!==null&&(cn(t,2),nr(t))}function ot(t,i,s){if(t.tag===3)E0(t,t,s);else for(;i!==null;){if(i.tag===3){E0(i,t,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Sa===null||!Sa.has(o))){t=pi(s,t),s=by(2),o=ya(i,s,2),o!==null&&(Ty(s,o,i,t),cn(o,2),nr(o));break}}i=i.return}}function xf(t,i,s){var o=t.pingCache;if(o===null){o=t.pingCache=new Ib;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(s)||(vf=!0,h.add(s),t=Mb.bind(null,t,i,s),i.then(t,t))}function Mb(t,i,s){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ft===t&&(He&s)===s&&(Ut===4||Ut===3&&(He&62914560)===He&&300>Kt()-Ac?(rt&2)===0&&Oo(t,0):_f|=s,No===He&&(No=0)),nr(t)}function b0(t,i){i===0&&(i=os()),t=ws(t,i),t!==null&&(cn(t,i),nr(t))}function Vb(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),b0(t,s)}function kb(t,i){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),b0(t,s)}function Pb(t,i){return It(t,i)}var Dc=null,Mo=null,Rf=!1,Oc=!1,Cf=!1,xa=0;function nr(t){t!==Mo&&t.next===null&&(Mo===null?Dc=Mo=t:Mo=Mo.next=t),Oc=!0,Rf||(Rf=!0,Lb())}function ql(t,i){if(!Cf&&Oc){Cf=!0;do for(var s=!1,o=Dc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-gt(42|t)+1)-1,f&=h&~(v&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,w0(o,f))}else f=He,f=Mn(o,o===ft?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||jt(o,f)||(s=!0,w0(o,f));o=o.next}while(s);Cf=!1}}function Ub(){T0()}function T0(){Oc=Rf=!1;var t=0;xa!==0&&Xb()&&(t=xa);for(var i=Kt(),s=null,o=Dc;o!==null;){var h=o.next,f=S0(o,i);f===0?(o.next=null,s===null?Dc=h:s.next=h,h===null&&(Mo=s)):(s=o,(t!==0||(f&3)!==0)&&(Oc=!0)),o=h}nn!==0&&nn!==5||ql(t),xa!==0&&(xa=0)}function S0(t,i){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-gt(f),b=1<<v,D=h[v];D===-1?((b&s)===0||(b&o)!==0)&&(h[v]=Ws(b,i)):D<=i&&(t.expiredLanes|=b),f&=~b}if(i=ft,s=He,s=Mn(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===i&&(st===2||st===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&_n(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||jt(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(o!==null&&_n(o),xi(s)){case 2:case 8:s=vr;break;case 32:s=Qn;break;case 268435456:s=ln;break;default:s=Qn}return o=A0.bind(null,t),s=It(s,o),t.callbackPriority=i,t.callbackNode=s,i}return o!==null&&o!==null&&_n(o),t.callbackPriority=2,t.callbackNode=null,2}function A0(t,i){if(nn!==0&&nn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Nc()&&t.callbackNode!==s)return null;var o=He;return o=Mn(t,t===ft?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(a0(t,o,i),S0(t,Kt()),t.callbackNode!=null&&t.callbackNode===s?A0.bind(null,t):null)}function w0(t,i){if(Nc())return null;a0(t,i,!0)}function Lb(){Jb(function(){(rt&6)!==0?It(oi,Ub):T0()})}function If(){if(xa===0){var t=_o;t===0&&(t=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),xa=t}return xa}function x0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:sa(""+t)}function R0(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function zb(t,i,s,o,h){if(i==="submit"&&s&&s.stateNode===h){var f=x0((h[Bt]||null).action),v=o.submitter;v&&(i=(i=v[Bt]||null)?x0(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var b=new Xi("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xa!==0){var D=v?R0(h,v):new FormData(h);Yd(s,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(b.preventDefault(),D=v?R0(h,v):new FormData(h),Yd(s,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Nf=0;Nf<hd.length;Nf++){var Df=hd[Nf],Bb=Df.toLowerCase(),qb=Df[0].toUpperCase()+Df.slice(1);Di(Bb,"on"+qb)}Di(rg,"onAnimationEnd"),Di(ag,"onAnimationIteration"),Di(sg,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(rb,"onTransitionRun"),Di(ab,"onTransitionStart"),Di(sb,"onTransitionCancel"),Di(og,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function C0(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var b=o[v],D=b.instance,B=b.currentTarget;if(b=b.listener,D!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=B;try{f(h)}catch(K){Ku(K)}h.currentTarget=null,f=D}else for(v=0;v<o.length;v++){if(b=o[v],D=b.instance,B=b.currentTarget,b=b.listener,D!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=B;try{f(h)}catch(K){Ku(K)}h.currentTarget=null,f=D}}}}function Be(t,i){var s=i[Ri];s===void 0&&(s=i[Ri]=new Set);var o=t+"__bubble";s.has(o)||(I0(i,t,2,!1),s.add(o))}function Of(t,i,s){var o=0;i&&(o|=4),I0(s,t,o,i)}var jc="_reactListening"+Math.random().toString(36).slice(2);function jf(t){if(!t[jc]){t[jc]=!0,us.forEach(function(s){s!=="selectionchange"&&(Hb.has(s)||Of(s,!1,t),Of(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[jc]||(i[jc]=!0,Of("selectionchange",!1,i))}}function I0(t,i,s,o){switch(rv(i)){case 2:var h=yT;break;case 8:h=vT;break;default:h=Yf}s=h.bind(null,i,s,t),h=void 0,!di||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Mf(t,i,s,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var b=o.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=o.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=oe(b),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){o=f=v;continue e}b=b.parentNode}}o=o.return}yt(function(){var B=f,K=k(s),$=[];e:{var q=lg.get(t);if(q!==void 0){var F=Xi,pe=t;switch(t){case"keypress":if(_s(s)===0)break e;case"keydown":case"keyup":F=Fu;break;case"focusin":pe="focus",F=bs;break;case"focusout":pe="blur",F=bs;break;case"beforeblur":case"afterblur":F=bs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case rg:case ag:case sg:F=Pu;break;case og:F=A;break;case"scroll":case"scrollend":F=fl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=xr;break;case"toggle":case"beforetoggle":F=Oe}var Se=(i&4)!==0,ht=!Se&&(t==="scroll"||t==="scrollend"),U=Se?q!==null?q+"Capture":null:q;Se=[];for(var M=B,z;M!==null;){var X=M;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||U===null||(X=We(M,U),X!=null&&Se.push(Fl(M,X,z))),ht)break;M=M.return}0<Se.length&&(q=new F(q,pe,null,s,K),$.push({event:q,listeners:Se}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&s!==oa&&(pe=s.relatedTarget||s.fromElement)&&(oe(pe)||pe[Zn]))break e;if((F||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,F?(pe=s.relatedTarget||s.toElement,F=B,pe=pe?oe(pe):null,pe!==null&&(ht=u(pe),Se=pe.tag,pe!==ht||Se!==5&&Se!==27&&Se!==6)&&(pe=null)):(F=null,pe=B),F!==pe)){if(Se=ml,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Se=xr,X="onPointerLeave",U="onPointerEnter",M="pointer"),ht=F==null?q:bn(F),z=pe==null?q:bn(pe),q=new Se(X,M+"leave",F,s,K),q.target=ht,q.relatedTarget=z,X=null,oe(K)===B&&(Se=new Se(U,M+"enter",pe,s,K),Se.target=z,Se.relatedTarget=ht,X=Se),ht=X,F&&pe)t:{for(Se=Fb,U=F,M=pe,z=0,X=U;X;X=Se(X))z++;X=0;for(var _e=M;_e;_e=Se(_e))X++;for(;0<z-X;)U=Se(U),z--;for(;0<X-z;)M=Se(M),X--;for(;z--;){if(U===M||M!==null&&U===M.alternate){Se=U;break t}U=Se(U),M=Se(M)}Se=null}else Se=null;F!==null&&N0($,q,F,Se,!1),pe!==null&&ht!==null&&N0($,ht,pe,Se,!0)}}e:{if(q=B?bn(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var et=Kp;else if(Gp(q))if(Yp)et=tb;else{et=WE;var ge=ZE}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&aa(B.elementType)&&(et=Kp):et=eb;if(et&&(et=et(t,B))){Qp($,et,s,K);break e}ge&&ge(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&ms(q,"number",q.value)}switch(ge=B?bn(B):window,t){case"focusin":(Gp(ge)||ge.contentEditable==="true")&&(co=ge,ld=B,_l=null);break;case"focusout":_l=ld=co=null;break;case"mousedown":ud=!0;break;case"contextmenu":case"mouseup":case"dragend":ud=!1,ng($,s,K);break;case"selectionchange":if(ib)break;case"keydown":case"keyup":ng($,s,K)}var Me;if(it)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else uo?Ts(t,s)&&(Fe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Fe="onCompositionStart");Fe&&(Zi&&s.locale!=="ko"&&(uo||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&uo&&(Me=dl()):(Je=K,ro="value"in Je?Je.value:Je.textContent,uo=!0)),ge=Mc(B,Fe),0<ge.length&&(Fe=new Ji(Fe,t,null,s,K),$.push({event:Fe,listeners:ge}),Me?Fe.data=Me:(Me=lo(s),Me!==null&&(Fe.data=Me)))),(Me=fi?YE(t,s):XE(t,s))&&(Fe=Mc(B,"onBeforeInput"),0<Fe.length&&(ge=new Ji("onBeforeInput","beforeinput",null,s,K),$.push({event:ge,listeners:Fe}),ge.data=Me)),zb($,t,B,s,K)}C0($,i)})}function Fl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Mc(t,i){for(var s=i+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=We(t,s),h!=null&&o.unshift(Fl(t,h,f)),h=We(t,i),h!=null&&o.push(Fl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Fb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function N0(t,i,s,o,h){for(var f=i._reactName,v=[];s!==null&&s!==o;){var b=s,D=b.alternate,B=b.stateNode;if(b=b.tag,D!==null&&D===o)break;b!==5&&b!==26&&b!==27||B===null||(D=B,h?(B=We(s,f),B!=null&&v.unshift(Fl(s,B,D))):h||(B=We(s,f),B!=null&&v.push(Fl(s,B,D)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var Gb=/\r\n?/g,Qb=/\u0000|\uFFFD/g;function D0(t){return(typeof t=="string"?t:""+t).replace(Gb,`
`).replace(Qb,"")}function O0(t,i){return i=D0(i),D0(t)===i}function ct(t,i,s,o,h,f){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Sn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Sn(t,""+o);break;case"className":Dn(t,"class",o);break;case"tabIndex":Dn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,s,o);break;case"style":ys(t,o,f);break;case"data":if(i!=="object"){Dn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=sa(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&ct(t,i,"name",h.name,h,null),ct(t,i,"formEncType",h.formEncType,h,null),ct(t,i,"formMethod",h.formMethod,h,null),ct(t,i,"formTarget",h.formTarget,h,null)):(ct(t,i,"encType",h.encType,h,null),ct(t,i,"method",h.method,h,null),ct(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=sa(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=Pn);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=sa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":Be("beforetoggle",t),Be("toggle",t),ia(t,"popover",o);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=io.get(s)||s,ia(t,s,o))}}function Vf(t,i,s,o,h,f){switch(s){case"style":ys(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?Sn(t,o):(typeof o=="number"||typeof o=="bigint")&&Sn(t,""+o);break;case"onScroll":o!=null&&Be("scroll",t);break;case"onScrollEnd":o!=null&&Be("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),f=t[Bt]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):ia(t,s,o)}}}function pn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",t),Be("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ct(t,i,f,v,s,null)}}h&&ct(t,i,"srcSet",s.srcSet,s,null),o&&ct(t,i,"src",s.src,s,null);return;case"input":Be("invalid",t);var b=f=v=h=null,D=null,B=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":h=K;break;case"type":v=K;break;case"checked":D=K;break;case"defaultChecked":B=K;break;case"value":f=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:ct(t,i,o,K,s,null)}}to(t,f,b,D,B,v,h,!1);return;case"select":Be("invalid",t),o=v=f=null;for(h in s)if(s.hasOwnProperty(h)&&(b=s[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":v=b;break;case"multiple":o=b;default:ct(t,i,h,b,s,null)}i=f,s=v,t.multiple=!!o,i!=null?Qi(t,!!o,i,!1):s!=null&&Qi(t,!!o,s,!0);return;case"textarea":Be("invalid",t),f=h=o=null;for(v in s)if(s.hasOwnProperty(v)&&(b=s[v],b!=null))switch(v){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:ct(t,i,v,b,s,null)}Ki(t,o,h,f);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(o=s[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ct(t,i,D,o,s,null)}return;case"dialog":Be("beforetoggle",t),Be("toggle",t),Be("cancel",t),Be("close",t);break;case"iframe":case"object":Be("load",t);break;case"video":case"audio":for(o=0;o<Hl.length;o++)Be(Hl[o],t);break;case"image":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"embed":case"source":case"link":Be("error",t),Be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(o=s[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:ct(t,i,B,o,s,null)}return;default:if(aa(i)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&Vf(t,i,K,o,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(o=s[b],o!=null&&ct(t,i,b,o,s,null))}function Kb(t,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,b=null,D=null,B=null,K=null;for(F in s){var $=s[F];if(s.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=$;default:o.hasOwnProperty(F)||ct(t,i,F,null,o,$)}}for(var q in o){var F=o[q];if($=s[q],o.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":K=F;break;case"value":v=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,i));break;default:F!==$&&ct(t,i,q,F,o,$)}}ra(t,v,b,D,B,K,f,h);return;case"select":F=v=b=q=null;for(f in s)if(D=s[f],s.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":F=D;default:o.hasOwnProperty(f)||ct(t,i,f,null,o,D)}for(h in o)if(f=o[h],D=s[h],o.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":q=f;break;case"defaultValue":b=f;break;case"multiple":v=f;default:f!==D&&ct(t,i,h,f,o,D)}i=b,s=v,o=F,q!=null?Qi(t,!!s,q,!1):!!o!=!!s&&(i!=null?Qi(t,!!s,i,!0):Qi(t,!!s,s?[]:"",!1));return;case"textarea":F=q=null;for(b in s)if(h=s[b],s.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ct(t,i,b,null,o,h)}for(v in o)if(h=o[v],f=s[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ct(t,i,v,h,o,f)}no(t,q,F);return;case"option":for(var pe in s)if(q=s[pe],s.hasOwnProperty(pe)&&q!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:ct(t,i,pe,null,o,q)}for(D in o)if(q=o[D],F=s[D],o.hasOwnProperty(D)&&q!==F&&(q!=null||F!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ct(t,i,D,q,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in s)q=s[Se],s.hasOwnProperty(Se)&&q!=null&&!o.hasOwnProperty(Se)&&ct(t,i,Se,null,o,q);for(B in o)if(q=o[B],F=s[B],o.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:ct(t,i,B,q,o,F)}return;default:if(aa(i)){for(var ht in s)q=s[ht],s.hasOwnProperty(ht)&&q!==void 0&&!o.hasOwnProperty(ht)&&Vf(t,i,ht,void 0,o,q);for(K in o)q=o[K],F=s[K],!o.hasOwnProperty(K)||q===F||q===void 0&&F===void 0||Vf(t,i,K,q,o,F);return}}for(var U in s)q=s[U],s.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&ct(t,i,U,null,o,q);for($ in o)q=o[$],F=s[$],!o.hasOwnProperty($)||q===F||q==null&&F==null||ct(t,i,$,q,o,F)}function j0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Yb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,v=h.initiatorType,b=h.duration;if(f&&b&&j0(v)){for(v=0,b=h.responseEnd,o+=1;o<s.length;o++){var D=s[o],B=D.startTime;if(B>b)break;var K=D.transferSize,$=D.initiatorType;K&&j0($)&&(D=D.responseEnd,v+=K*(D<b?1:(b-B)/(D-B)))}if(--o,i+=8*(f+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var kf=null,Pf=null;function Vc(t){return t.nodeType===9?t:t.ownerDocument}function M0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Uf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Lf=null;function Xb(){var t=window.event;return t&&t.type==="popstate"?t===Lf?!1:(Lf=t,!0):(Lf=null,!1)}var k0=typeof setTimeout=="function"?setTimeout:void 0,$b=typeof clearTimeout=="function"?clearTimeout:void 0,P0=typeof Promise=="function"?Promise:void 0,Jb=typeof queueMicrotask=="function"?queueMicrotask:typeof P0<"u"?function(t){return P0.resolve(null).then(t).catch(Zb)}:k0;function Zb(t){setTimeout(function(){throw t})}function Ra(t){return t==="head"}function U0(t,i){var s=i,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Uo(i);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Gl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Gl(s);for(var f=s.firstChild;f;){var v=f.nextSibling,b=f.nodeName;f[Nn]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=v}}else s==="body"&&Gl(t.ownerDocument.body);s=h}while(s);Uo(i)}function L0(t,i){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function zf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":zf(s),ce(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Wb(t,i,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Nn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Ei(t.nextSibling),t===null)break}return null}function eT(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ei(t.nextSibling),t===null))return null;return t}function z0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ei(t.nextSibling),t===null))return null;return t}function Bf(t){return t.data==="$?"||t.data==="$~"}function qf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tT(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var o=function(){i(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ei(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Hf=null;function B0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Ei(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function q0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function H0(t,i,s){switch(i=Vc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Gl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ce(t)}var bi=new Map,F0=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Br=se.d;se.d={f:nT,r:iT,D:rT,C:aT,L:sT,m:oT,X:uT,S:lT,M:cT};function nT(){var t=Br.f(),i=Rc();return t||i}function iT(t){var i=kn(t);i!==null&&i.tag===5&&i.type==="form"?oy(i):Br.r(t)}var Vo=typeof document>"u"?null:document;function G0(t,i,s){var o=Vo;if(o&&typeof i=="string"&&i){var h=Tn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),F0.has(h)||(F0.add(h),t={rel:t,crossOrigin:s,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),pn(i,"link",t),Mt(i),o.head.appendChild(i)))}}function rT(t){Br.D(t),G0("dns-prefetch",t,null)}function aT(t,i){Br.C(t,i),G0("preconnect",t,i)}function sT(t,i,s){Br.L(t,i,s);var o=Vo;if(o&&t&&i){var h='link[rel="preload"][as="'+Tn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Tn(s.imageSizes)+'"]')):h+='[href="'+Tn(t)+'"]';var f=h;switch(i){case"style":f=ko(t);break;case"script":f=Po(t)}bi.has(f)||(t=x({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),bi.set(f,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Ql(f))||i==="script"&&o.querySelector(Kl(f))||(i=o.createElement("link"),pn(i,"link",t),Mt(i),o.head.appendChild(i)))}}function oT(t,i){Br.m(t,i);var s=Vo;if(s&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Tn(o)+'"][href="'+Tn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Po(t)}if(!bi.has(f)&&(t=x({rel:"modulepreload",href:t},i),bi.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Kl(f)))return}o=s.createElement("link"),pn(o,"link",t),Mt(o),s.head.appendChild(o)}}}function lT(t,i,s){Br.S(t,i,s);var o=Vo;if(o&&t){var h=li(o).hoistableStyles,f=ko(t);i=i||"default";var v=h.get(f);if(!v){var b={loading:0,preload:null};if(v=o.querySelector(Ql(f)))b.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},s),(s=bi.get(f))&&Ff(t,s);var D=v=o.createElement("link");Mt(D),pn(D,"link",t),D._p=new Promise(function(B,K){D.onload=B,D.onerror=K}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Pc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(f,v)}}}function uT(t,i){Br.X(t,i);var s=Vo;if(s&&t){var o=li(s).hoistableScripts,h=Po(t),f=o.get(h);f||(f=s.querySelector(Kl(h)),f||(t=x({src:t,async:!0},i),(i=bi.get(h))&&Gf(t,i),f=s.createElement("script"),Mt(f),pn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cT(t,i){Br.M(t,i);var s=Vo;if(s&&t){var o=li(s).hoistableScripts,h=Po(t),f=o.get(h);f||(f=s.querySelector(Kl(h)),f||(t=x({src:t,async:!0,type:"module"},i),(i=bi.get(h))&&Gf(t,i),f=s.createElement("script"),Mt(f),pn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Q0(t,i,s,o){var h=(h=xe.current)?kc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=ko(s.href),s=li(h).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ko(s.href);var f=li(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Ql(t)))&&!f._p&&(v.instance=f,v.state.loading=5),bi.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},bi.set(t,s),f||hT(h,t,s,v.state))),i&&o===null)throw Error(a(528,""));return v}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Po(s),s=li(h).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ko(t){return'href="'+Tn(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function K0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function hT(t,i,s,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),pn(i,"link",s),Mt(i),t.head.appendChild(i))}function Po(t){return'[src="'+Tn(t)+'"]'}function Kl(t){return"script[async]"+t}function Y0(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+Tn(s.href)+'"]');if(o)return i.instance=o,Mt(o),o;var h=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Mt(o),pn(o,"style",h),Pc(o,s.precedence,t),i.instance=o;case"stylesheet":h=ko(s.href);var f=t.querySelector(Ql(h));if(f)return i.state.loading|=4,i.instance=f,Mt(f),f;o=K0(s),(h=bi.get(h))&&Ff(o,h),f=(t.ownerDocument||t).createElement("link"),Mt(f);var v=f;return v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),pn(f,"link",o),i.state.loading|=4,Pc(f,s.precedence,t),i.instance=f;case"script":return f=Po(s.src),(h=t.querySelector(Kl(f)))?(i.instance=h,Mt(h),h):(o=s,(h=bi.get(f))&&(o=x({},s),Gf(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Mt(h),pn(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Pc(o,s.precedence,t));return i.instance}function Pc(t,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var b=o[v];if(b.dataset.precedence===i)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Ff(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Gf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uc=null;function X0(t,i,s){if(Uc===null){var o=new Map,h=Uc=new Map;h.set(s,o)}else h=Uc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Nn]||f[lt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=t+v;var b=o.get(v);b?b.push(f):o.set(v,[f])}}return o}function $0(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function dT(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function J0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function fT(t,i,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ko(o.href),f=i.querySelector(Ql(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Lc.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=f,Mt(f);return}f=i.ownerDocument||i,o=K0(o),(h=bi.get(h))&&Ff(o,h),f=f.createElement("link"),Mt(f);var v=f;v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),pn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Lc.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Qf=0;function mT(t,i){return t.stylesheets&&t.count===0&&Bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+i);0<t.imgBytes&&Qf===0&&(Qf=62500*Yb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Qf?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function Bc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(pT,t),zc=null,Lc.call(t))}function pT(t,i){if(!(i.state.loading&4)){var s=zc.get(t);if(s)var o=s.get(null);else{s=new Map,zc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=s.get(v)||o,f===o&&s.set(null,h),s.set(v,h),this.count++,o=Lc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Yl={$$typeof:fe,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function gT(t,i,s,o,h,f,v,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Z0(t,i,s,o,h,f,v,b,D,B,K,$){return t=new gT(t,i,s,v,D,B,K,$,b),i=1,f===!0&&(i|=24),f=ei(3,null,null,i),t.current=f,f.stateNode=t,i=Ad(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:i},Cd(f),t}function W0(t){return t?(t=mo,t):mo}function ev(t,i,s,o,h,f){h=W0(h),o.context===null?o.context=h:o.pendingContext=h,o=ga(i),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ya(t,o,i),s!==null&&(qn(s,t,i),xl(s,t,i))}function tv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Kf(t,i){tv(t,i),(t=t.alternate)&&tv(t,i)}function nv(t){if(t.tag===13||t.tag===31){var i=ws(t,67108864);i!==null&&qn(i,t,67108864),Kf(t,67108864)}}function iv(t){if(t.tag===13||t.tag===31){var i=ai();i=Fi(i);var s=ws(t,i);s!==null&&qn(s,t,i),Kf(t,i)}}var qc=!0;function yT(t,i,s,o){var h=Q.T;Q.T=null;var f=se.p;try{se.p=2,Yf(t,i,s,o)}finally{se.p=f,Q.T=h}}function vT(t,i,s,o){var h=Q.T;Q.T=null;var f=se.p;try{se.p=8,Yf(t,i,s,o)}finally{se.p=f,Q.T=h}}function Yf(t,i,s,o){if(qc){var h=Xf(o);if(h===null)Mf(t,i,o,Hc,s),av(t,o);else if(ET(h,t,i,s,o))o.stopPropagation();else if(av(t,o),i&4&&-1<_T.indexOf(t)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=un(f.pendingLanes);if(v!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var D=1<<31-gt(v);b.entanglements[1]|=D,v&=~D}nr(f),(rt&6)===0&&(wc=Kt()+500,ql(0))}}break;case 31:case 13:b=ws(f,2),b!==null&&qn(b,f,2),Rc(),Kf(f,2)}if(f=Xf(o),f===null&&Mf(t,i,o,Hc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Mf(t,i,o,null,s)}}function Xf(t){return t=k(t),$f(t)}var Hc=null;function $f(t){if(Hc=null,t=oe(t),t!==null){var i=u(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=d(i),t!==null)return t;t=null}else if(s===31){if(t=g(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hc=t,null}function rv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case oi:return 2;case vr:return 8;case Qn:case as:return 32;case ln:return 268435456;default:return 32}default:return 32}}var Jf=!1,Ca=null,Ia=null,Na=null,Xl=new Map,$l=new Map,Da=[],_T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function av(t,i){switch(t){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":Xl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Jl(t,i,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=kn(i),i!==null&&nv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function ET(t,i,s,o,h){switch(i){case"focusin":return Ca=Jl(Ca,t,i,s,o,h),!0;case"dragenter":return Ia=Jl(Ia,t,i,s,o,h),!0;case"mouseover":return Na=Jl(Na,t,i,s,o,h),!0;case"pointerover":var f=h.pointerId;return Xl.set(f,Jl(Xl.get(f)||null,t,i,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,$l.set(f,Jl($l.get(f)||null,t,i,s,o,h)),!0}return!1}function sv(t){var i=oe(t.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=d(s),i!==null){t.blockedOn=i,Jn(t.priority,function(){iv(s)});return}}else if(i===31){if(i=g(s),i!==null){t.blockedOn=i,Jn(t.priority,function(){iv(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Xf(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);oa=o,s.target.dispatchEvent(o),oa=null}else return i=kn(s),i!==null&&nv(i),t.blockedOn=s,!1;i.shift()}return!0}function ov(t,i,s){Fc(t)&&s.delete(i)}function bT(){Jf=!1,Ca!==null&&Fc(Ca)&&(Ca=null),Ia!==null&&Fc(Ia)&&(Ia=null),Na!==null&&Fc(Na)&&(Na=null),Xl.forEach(ov),$l.forEach(ov)}function Gc(t,i){t.blockedOn===i&&(t.blockedOn=null,Jf||(Jf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,bT)))}var Qc=null;function lv(t){Qc!==t&&(Qc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Qc===t&&(Qc=null);for(var i=0;i<t.length;i+=3){var s=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if($f(o||s)===null)continue;break}var f=kn(s);f!==null&&(t.splice(i,3),i-=3,Yd(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Uo(t){function i(D){return Gc(D,t)}Ca!==null&&Gc(Ca,t),Ia!==null&&Gc(Ia,t),Na!==null&&Gc(Na,t),Xl.forEach(i),$l.forEach(i);for(var s=0;s<Da.length;s++){var o=Da[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Da.length&&(s=Da[0],s.blockedOn===null);)sv(s),s.blockedOn===null&&Da.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],v=h[Bt]||null;if(typeof f=="function")v||lv(s);else if(v){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[Bt]||null)b=v.formAction;else if($f(h)!==null)continue}else b=v.action;typeof b=="function"?s[o+1]=b:(s.splice(o,3),o-=3),lv(s)}}}function uv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Zf(t){this._internalRoot=t}Kc.prototype.render=Zf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,o=ai();ev(s,o,t,i,null,null)},Kc.prototype.unmount=Zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;ev(t.current,2,null,t,null,null),Rc(),i[Zn]=null}};function Kc(t){this._internalRoot=t}Kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=ls();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Da.length&&i!==0&&i<Da[s].priority;s++);Da.splice(s,0,t),s===0&&sv(t)}};var cv=e.version;if(cv!=="19.2.3")throw Error(a(527,cv,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(i),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var TT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{Kn=Yc.inject(TT),tn=Yc}catch{}}return Wl.createRoot=function(t,i){if(!l(t))throw Error(a(299));var s=!1,o="",h=yy,f=vy,v=_y;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Z0(t,1,!1,null,null,s,o,null,h,f,v,uv),t[Zn]=i.current,jf(t),new Zf(i)},Wl.hydrateRoot=function(t,i,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=yy,v=vy,b=_y,D=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),i=Z0(t,1,!0,i,s??null,o,h,D,f,v,b,uv),i.context=W0(null),s=i.current,o=ai(),o=Fi(o),h=ga(o),h.callback=null,ya(s,h,o),s=o,i.current.lanes=s,cn(i,s),nr(i),t[Zn]=i.current,jf(t),new Kc(i)},Wl.version="19.2.3",Wl}var Ev;function OT(){if(Ev)return tm.exports;Ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=DT(),tm.exports}var jT=OT();/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c2=(...r)=>r.filter((e,n,a)=>!!e&&a.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=le.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...g},y)=>le.createElement("svg",{ref:y,...VT,width:e,height:e,stroke:r,strokeWidth:a?Number(n)*24/Number(e):n,className:c2("lucide",l),...g},[...d.map(([_,S])=>le.createElement(_,S)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=(r,e)=>{const n=le.forwardRef(({className:a,...l},u)=>le.createElement(kT,{ref:u,iconNode:e,className:c2(`lucide-${MT(r)}`,a),...l}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=Xr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=Xr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=Xr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=Xr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Xr("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=Xr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Xr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Xr("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Xr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),qT=()=>{};var bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},HT=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const l=r[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],g=r[n++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],d=r[n++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},p2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,S=u>>2,x=(u&3)<<4|g>>4;let j=(g&15)<<2|_>>6,G=_&63;y||(G=64,d||(j=64)),a.push(n[S],n[x],n[j],n[G])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(m2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):HT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const x=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||g==null||_==null||x==null)throw new FT;const j=u<<2|g>>4;if(a.push(j),_!==64){const G=g<<4&240|_>>2;if(a.push(G),x!==64){const te=_<<6&192|x;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GT=function(r){const e=m2(r);return p2.encodeByteArray(e,!0)},ph=function(r){return GT(r).replace(/\./g,"")},g2=function(r){try{return p2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=()=>QT().__FIREBASE_DEFAULTS__,YT=()=>{if(typeof process>"u"||typeof bv>"u")return;const r=bv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},XT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&g2(r[1]);return e&&JSON.parse(e)},Uh=()=>{try{return qT()||KT()||YT()||XT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y2=r=>{var e,n;return(n=(e=Uh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},$T=r=>{const e=y2(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},v2=()=>{var r;return(r=Uh())==null?void 0:r.config},_2=r=>{var e;return(e=Uh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E2(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ph(JSON.stringify(n)),ph(JSON.stringify(d)),""].join(".")}const ou={};function WT(){const r={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?r.emulator.push(e):r.prod.push(e);return r}function eS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Tv=!1;function b2(r,e){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||ou[r]===e||ou[r]||Tv)return;ou[r]=e;function n(j){return`__firebase__banner__${j}`}const a="__firebase__banner",u=WT().prod.length>0;function d(){const j=document.getElementById(a);j&&j.remove()}function g(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function y(j,G){j.setAttribute("width","24"),j.setAttribute("id",G),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function _(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{Tv=!0,d()},j}function S(j,G){j.setAttribute("id",G),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function x(){const j=eS(a),G=n("text"),te=document.getElementById(G)||document.createElement("span"),ne=n("learnmore"),ee=document.getElementById(ne)||document.createElement("a"),ae=n("preprendIcon"),be=document.getElementById(ae)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const fe=j.element;g(fe),S(ee,ne);const qe=_();y(be,ae),fe.append(be,te,ee,qe),document.body.appendChild(fe)}u?(te.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cn())}function nS(){var e;const r=(e=Uh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sS(){const r=Cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oS(){return!nS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lS(){try{return typeof indexedDB=="object"}catch{return!1}}function uS(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="FirebaseError";class $r extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=cS,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?hS(u,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new $r(l,g,a)}}function hS(r,e){return r.replace(dS,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const dS=/\{\$([^}]+)}/g;function fS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Hs(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const u=r[l],d=e[l];if(Sv(u)&&Sv(d)){if(!Hs(u,d))return!1}else if(u!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function Sv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function eu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,u]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function tu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function mS(r,e){const n=new pS(r,e);return n.subscribe.bind(n)}class pS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");gS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=am),l.error===void 0&&(l.error=am),l.complete===void 0&&(l.complete=am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function am(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r){return r&&r._delegate?r._delegate:r}class Fs{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new JT;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_S(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);a===g&&d.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vS(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vS(r){return r===Ls?void 0:r}function _S(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ge||(Ge={}));const bS={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},TS=Ge.INFO,SS={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},AS=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=SS[e];if(l)console[l](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=TS,this._logHandler=AS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const wS=(r,e)=>e.some(n=>r instanceof n);let Av,wv;function xS(){return Av||(Av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RS(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T2=new WeakMap,bm=new WeakMap,S2=new WeakMap,sm=new WeakMap,Zm=new WeakMap;function CS(r){const e=new Promise((n,a)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Ba(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&T2.set(n,r)}).catch(()=>{}),Zm.set(e,r),e}function IS(r){if(bm.has(r))return;const e=new Promise((n,a)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});bm.set(r,e)}let Tm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||S2.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NS(r){Tm=r(Tm)}function DS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(om(this),e,...n);return S2.set(a,e.sort?e.sort():[e]),Ba(a)}:RS().includes(r)?function(...e){return r.apply(om(this),e),Ba(T2.get(this))}:function(...e){return Ba(r.apply(om(this),e))}}function OS(r){return typeof r=="function"?DS(r):(r instanceof IDBTransaction&&IS(r),wS(r,xS())?new Proxy(r,Tm):r)}function Ba(r){if(r instanceof IDBRequest)return CS(r);if(sm.has(r))return sm.get(r);const e=OS(r);return e!==r&&(sm.set(r,e),Zm.set(e,r)),e}const om=r=>Zm.get(r);function jS(r,e,{blocked:n,upgrade:a,blocking:l,terminated:u}={}){const d=indexedDB.open(r,e),g=Ba(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Ba(d.result),y.oldVersion,y.newVersion,Ba(d.transaction),y)}),n&&d.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const MS=["get","getKey","getAll","getAllKeys","count"],VS=["put","add","delete","clear"],lm=new Map;function xv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=VS.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||MS.includes(n)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&y.done]))[0]};return lm.set(e,u),u}NS(r=>({...r,get:(e,n,a)=>xv(e,n)||r.get(e,n,a),has:(e,n)=>!!xv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PS(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function PS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sm="@firebase/app",Rv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Jm("@firebase/app"),US="@firebase/app-compat",LS="@firebase/analytics-compat",zS="@firebase/analytics",BS="@firebase/app-check-compat",qS="@firebase/app-check",HS="@firebase/auth",FS="@firebase/auth-compat",GS="@firebase/database",QS="@firebase/data-connect",KS="@firebase/database-compat",YS="@firebase/functions",XS="@firebase/functions-compat",$S="@firebase/installations",JS="@firebase/installations-compat",ZS="@firebase/messaging",WS="@firebase/messaging-compat",eA="@firebase/performance",tA="@firebase/performance-compat",nA="@firebase/remote-config",iA="@firebase/remote-config-compat",rA="@firebase/storage",aA="@firebase/storage-compat",sA="@firebase/firestore",oA="@firebase/ai",lA="@firebase/firestore-compat",uA="firebase",cA="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",hA={[Sm]:"fire-core",[US]:"fire-core-compat",[zS]:"fire-analytics",[LS]:"fire-analytics-compat",[qS]:"fire-app-check",[BS]:"fire-app-check-compat",[HS]:"fire-auth",[FS]:"fire-auth-compat",[GS]:"fire-rtdb",[QS]:"fire-data-connect",[KS]:"fire-rtdb-compat",[YS]:"fire-fn",[XS]:"fire-fn-compat",[$S]:"fire-iid",[JS]:"fire-iid-compat",[ZS]:"fire-fcm",[WS]:"fire-fcm-compat",[eA]:"fire-perf",[tA]:"fire-perf-compat",[nA]:"fire-rc",[iA]:"fire-rc-compat",[rA]:"fire-gcs",[aA]:"fire-gcs-compat",[sA]:"fire-fst",[lA]:"fire-fst-compat",[oA]:"fire-vertex","fire-js":"fire-js",[uA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,dA=new Map,wm=new Map;function Cv(r,e){try{r.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function $o(r){const e=r.name;if(wm.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,r);for(const n of gh.values())Cv(n,r);for(const n of dA.values())Cv(n,r);return!0}function Wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Si(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qa=new Tu("app","Firebase",fA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=cA;function A2(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a={name:Am,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw qa.create("bad-app-name",{appName:String(l)});if(n||(n=v2()),!n)throw qa.create("no-options");const u=gh.get(l);if(u){if(Hs(n,u.options)&&Hs(a,u.config))return u;throw qa.create("duplicate-app",{appName:l})}const d=new ES(l);for(const y of wm.values())d.addComponent(y);const g=new mA(n,a,d);return gh.set(l,g),g}function w2(r=Am){const e=gh.get(r);if(!e&&r===Am&&v2())return A2();if(!e)throw qa.create("no-app",{appName:r});return e}function Ha(r,e,n){let a=hA[r]??r;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(d.join(" "));return}$o(new Fs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="firebase-heartbeat-database",gA=1,fu="firebase-heartbeat-store";let um=null;function x2(){return um||(um=jS(pA,gA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fu)}catch(n){console.warn(n)}}}}).catch(r=>{throw qa.create("idb-open",{originalErrorMessage:r.message})})),um}async function yA(r){try{const n=(await x2()).transaction(fu),a=await n.objectStore(fu).get(R2(r));return await n.done,a}catch(e){if(e instanceof $r)Gr.warn(e.message);else{const n=qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function Iv(r,e){try{const a=(await x2()).transaction(fu,"readwrite");await a.objectStore(fu).put(e,R2(r)),await a.done}catch(n){if(n instanceof $r)Gr.warn(n.message);else{const a=qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(a.message)}}}function R2(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=1024,_A=30;class EA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TA(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Nv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>_A){const d=SA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Gr.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Nv(),{heartbeatsToSend:a,unsentEntries:l}=bA(this._heartbeatsCache.heartbeats),u=ph(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Gr.warn(n),""}}}function Nv(){return new Date().toISOString().substring(0,10)}function bA(r,e=vA){const n=[];let a=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Dv(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),Dv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class TA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lS()?uS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Iv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Dv(r){return ph(JSON.stringify({version:2,heartbeats:r})).length}function SA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(r){$o(new Fs("platform-logger",e=>new kS(e),"PRIVATE")),$o(new Fs("heartbeat",e=>new EA(e),"PRIVATE")),Ha(Sm,Rv,r),Ha(Sm,Rv,"esm2020"),Ha("fire-js","")}AA("");var wA="firebase",xA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha(wA,xA,"app");function C2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RA=C2,I2=new Tu("auth","Firebase",C2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Jm("@firebase/auth");function CA(r,...e){yh.logLevel<=Ge.WARN&&yh.warn(`Auth (${al}): ${r}`,...e)}function ah(r,...e){yh.logLevel<=Ge.ERROR&&yh.error(`Auth (${al}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(r,...e){throw ep(r,...e)}function sr(r,...e){return ep(r,...e)}function N2(r,e,n){const a={...RA(),[e]:n};return new Tu("auth","Firebase",a).create(e,{appName:r.name})}function Fr(r){return N2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ep(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return I2.create(r,...e)}function Re(r,e,...n){if(!r)throw ep(e,...n)}function qr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ah(e),new Error(e)}function Qr(r,e){r||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function IA(){return Ov()==="http:"||Ov()==="https:"}function Ov(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IA()||rS()||"connection"in navigator)?navigator.onLine:!0}function DA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qr(n>e,"Short delay should be less than long delay!"),this.isMobile=tS()||aS()}get(){return NA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r,e){Qr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MA=new Au(3e4,6e4);function Jr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function fr(r,e,n,a,l={}){return O2(r,l,async()=>{let u={},d={};a&&(e==="GET"?d=a:u={body:JSON.stringify(a)});const g=Su({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...u};return iS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&rl(r.emulatorConfig.host)&&(_.credentials="include"),D2.fetch()(await j2(r,r.config.apiHost,n,g),_)})}async function O2(r,e,n){r._canInitEmulator=!1;const a={...OA,...e};try{const l=new kA(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Xc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Xc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Xc(r,"user-disabled",d);const S=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw N2(r,S,_);Ui(r,S)}}catch(l){if(l instanceof $r)throw l;Ui(r,"network-request-failed",{message:String(l)})}}async function wu(r,e,n,a,l={}){const u=await fr(r,e,n,a,l);return"mfaPendingCredential"in u&&Ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function j2(r,e,n,a){const l=`${e}${n}?${a}`,u=r,d=u.config.emulator?tp(r.config,l):`${r.config.apiScheme}://${l}`;return jA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function VA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(sr(this.auth,"network-request-failed")),MA.get())})}}function Xc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=sr(r,e,a);return l.customData._tokenResponse=n,l}function jv(r){return r!==void 0&&r.enterprise!==void 0}class PA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UA(r,e){return fr(r,"GET","/v2/recaptchaConfig",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LA(r,e){return fr(r,"POST","/v1/accounts:delete",e)}async function vh(r,e){return fr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zA(r,e=!1){const n=Ct(r),a=await n.getIdToken(e),l=np(a);Re(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:a,authTime:lu(cm(l.auth_time)),issuedAtTime:lu(cm(l.iat)),expirationTime:lu(cm(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function cm(r){return Number(r)*1e3}function np(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const l=g2(n);return l?JSON.parse(l):(ah("Failed to decode base64 JWT payload"),null)}catch(l){return ah("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Mv(r){const e=np(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof $r&&BA(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function BA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(r){var x;const e=r.auth,n=await r.getIdToken(),a=await Jo(r,vh(e,{idToken:n}));Re(a==null?void 0:a.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const u=(x=l.providerUserInfo)!=null&&x.length?V2(l.providerUserInfo):[],d=HA(r.providerData,u),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),_=g?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Rm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function M2(r){const e=Ct(r);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HA(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function V2(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(r,e){const n=await O2(r,{},async()=>{const a=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await j2(r,l,"/v1/token",`key=${u}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&rl(r.emulatorConfig.host)&&(y.credentials="include"),D2.fetch()(d,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function GA(r,e){return fr(r,"POST","/v2/accounts:revokeToken",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=Mv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:u}=await FA(e,n);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:u}=n,d=new Fo;return a&&(Re(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Re(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Re(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Vi{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new qA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Jo(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zA(this,e)}reload(){return M2(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(Fr(this.auth));const e=await this.getIdToken();return await Jo(this,LA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,S=n.lastLoginAt??void 0,{uid:x,emailVerified:j,isAnonymous:G,providerData:te,stsTokenManager:ne}=n;Re(x&&ne,e,"internal-error");const ee=Fo.fromJSON(this.name,ne);Re(typeof x=="string",e,"internal-error"),ja(a,e.name),ja(l,e.name),Re(typeof j=="boolean",e,"internal-error"),Re(typeof G=="boolean",e,"internal-error"),ja(u,e.name),ja(d,e.name),ja(g,e.name),ja(y,e.name),ja(_,e.name),ja(S,e.name);const ae=new Vi({uid:x,auth:e,email:l,emailVerified:j,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:ee,createdAt:_,lastLoginAt:S});return te&&Array.isArray(te)&&(ae.providerData=te.map(be=>({...be}))),y&&(ae._redirectEventId=y),ae}static async _fromIdTokenResponse(e,n,a=!1){const l=new Fo;l.updateFromServerResponse(n);const u=new Vi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await _h(u),u}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];Re(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?V2(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new Fo;g.updateFromIdToken(a);const y=new Vi({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;function Hr(r){Qr(r instanceof Function,"Expected a class definition");let e=Vv.get(r);return e?(Qr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Vv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k2.type="NONE";const kv=k2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(r,e,n){return`firebase:${r}:${e}:${n}`}class Go{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=sh(this.userKey,l.apiKey,u),this.fullPersistenceKey=sh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vh(this.auth,{idToken:e}).catch(()=>{});return n?Vi._fromGetAccountInfoResponse(this.auth,n,e):null}return Vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new Go(Hr(kv),e,a);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=l[0]||Hr(kv);const d=sh(a,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const S=await _._get(d);if(S){let x;if(typeof S=="string"){const j=await vh(e,{idToken:S}).catch(()=>{});if(!j)break;x=await Vi._fromGetAccountInfoResponse(e,j,S)}else x=Vi._fromJSON(e,S);_!==u&&(g=x),u=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Go(u,e,a):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(d)}catch{}})),new Go(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(q2(e))return"Blackberry";if(H2(e))return"Webos";if(U2(e))return"Safari";if((e.includes("chrome/")||L2(e))&&!e.includes("edge/"))return"Chrome";if(B2(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function P2(r=Cn()){return/firefox\//i.test(r)}function U2(r=Cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L2(r=Cn()){return/crios\//i.test(r)}function z2(r=Cn()){return/iemobile/i.test(r)}function B2(r=Cn()){return/android/i.test(r)}function q2(r=Cn()){return/blackberry/i.test(r)}function H2(r=Cn()){return/webos/i.test(r)}function ip(r=Cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function QA(r=Cn()){var e;return ip(r)&&!!((e=window.navigator)!=null&&e.standalone)}function KA(){return sS()&&document.documentMode===10}function F2(r=Cn()){return ip(r)||B2(r)||H2(r)||q2(r)||/windows phone/i.test(r)||z2(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(r,e=[]){let n;switch(r){case"Browser":n=Pv(Cn());break;case"Worker":n=`${Pv(Cn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${al}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(r,e={}){return fr(r,"GET","/v2/passwordPolicy",Jr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=6;class JA{constructor(e){var a;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$A,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((a=e.allowedNonAlphanumericCharacters)==null?void 0:a.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uv(this),this.idTokenSubscription=new Uv(this),this.beforeStateQueue=new YA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var a,l,u;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vh(this,{idToken:e}),a=await Vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Si(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=a==null?void 0:a._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===g)&&(y!=null&&y.user)&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(d){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(Fr(this));const n=e?Ct(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XA(this),n=new JA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await GA(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,a,l);return()=>{d=!0,y()}}else{const y=e.addObserver(n);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=G2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){var n;if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&CA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ts(r){return Ct(r)}class Uv{constructor(e){this.auth=e,this.observer=null,this.addObserver=mS(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WA(r){Lh=r}function Q2(r){return Lh.loadJS(r)}function ew(){return Lh.recaptchaEnterpriseScript}function tw(){return Lh.gapiScript}function nw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class iw{constructor(){this.enterprise=new rw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aw="recaptcha-enterprise",K2="NO_RECAPTCHA";class sw{constructor(e){this.type=aw,this.auth=ts(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{UA(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new PA(y);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,d(_.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;jv(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(_=>{d(_)}).catch(()=>{d(K2)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{a(this.auth).then(g=>{if(!n&&jv(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=ew();y.length!==0&&(y+=g),Q2(y).then(()=>{l(g,u,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function Lv(r,e,n,a=!1,l=!1){const u=new sw(r);let d;if(l)d=K2;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Eh(r,e,n,a,l){var u;if((u=r._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await Lv(r,e,n,n==="getOobCode");return a(r,d)}else return a(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Lv(r,e,n,n==="getOobCode");return a(r,g)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(r,e){const n=Wm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Hs(u,e??{}))return l;Ui(l,"already-initialized")}return n.initialize({options:e})}function lw(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function uw(r,e,n){const a=ts(r);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=Y2(e),{host:d,port:g}=cw(e),y=g===null?"":`:${g}`,_={url:`${u}//${d}${y}/`},S=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(Hs(_,a.config.emulator)&&Hs(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,rl(d)?(E2(`${u}//${d}${y}`),b2("Auth",!0)):hw()}function Y2(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function cw(r){const e=Y2(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:zv(a.substr(u.length+1))}}else{const[u,d]=a.split(":");return{host:u,port:zv(d)}}}function zv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function hw(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,n){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function dw(r,e){return fr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fw(r,e){return wu(r,"POST","/v1/accounts:signInWithPassword",Jr(r,e))}async function X2(r,e){return fr(r,"POST","/v1/accounts:sendOobCode",Jr(r,e))}async function mw(r,e){return X2(r,e)}async function pw(r,e){return X2(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(r,e){return wu(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,e))}async function yw(r,e){return wu(r,"POST","/v1/accounts:signInWithEmailLink",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends rp{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new mu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new mu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,n,"signInWithPassword",fw);case"emailLink":return gw(e,{email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Eh(e,a,"signUpPassword",dw);case"emailLink":return yw(e,{idToken:n,email:this._email,oobCode:this._password});default:Ui(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r,e){return wu(r,"POST","/v1/accounts:signInWithIdp",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="http://localhost";class Gs extends rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...u}=n;if(!a||!l)return null;const d=new Gs(a,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Qo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Qo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qo(e,n)}buildRequest(){const e={requestUri:vw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ew(r){const e=eu(tu(r)).link,n=e?eu(tu(e)).deep_link_id:null,a=eu(tu(r)).deep_link_id;return(a?eu(tu(a)).link:null)||a||n||e||r}class ap{constructor(e){const n=eu(tu(e)),a=n.apiKey??null,l=n.oobCode??null,u=_w(n.mode??null);Re(a&&l&&u,"argument-error"),this.apiKey=a,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Ew(e);try{return new ap(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.providerId=Ya.PROVIDER_ID}static credential(e,n){return mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=ap.parseLink(n);return Re(a,"argument-error"),mu._fromEmailAndCode(e,a.code,a.tenantId)}}Ya.PROVIDER_ID="password";Ya.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ya.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends $2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends xu{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ka.credential(e.oauthAccessToken)}catch{return null}}}ka.FACEBOOK_SIGN_IN_METHOD="facebook.com";ka.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gs._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Pa.credential(n,a)}catch{return null}}}Pa.GOOGLE_SIGN_IN_METHOD="google.com";Pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends xu{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ua.credential(e.oauthAccessToken)}catch{return null}}}Ua.GITHUB_SIGN_IN_METHOD="github.com";Ua.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends xu{constructor(){super("twitter.com")}static credential(e,n){return Gs._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return La.credentialFromTaggedObject(e)}static credentialFromError(e){return La.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return La.credential(n,a)}catch{return null}}}La.TWITTER_SIGN_IN_METHOD="twitter.com";La.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(r,e){return wu(r,"POST","/v1/accounts:signUp",Jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const u=await Vi._fromIdTokenResponse(e,a,l),d=Bv(a);return new Qs({user:u,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=Bv(a);return new Qs({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function Bv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends $r{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new bh(e,n,a,l)}}function J2(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(r,u,e,a):u})}async function Tw(r,e,n=!1){const a=await Jo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Qs._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z2(r,e,n=!1){const{auth:a}=r;if(Si(a.app))return Promise.reject(Fr(a));const l="reauthenticate";try{const u=await Jo(r,J2(a,l,e,r),n);Re(u.idToken,a,"internal-error");const d=np(u.idToken);Re(d,a,"internal-error");const{sub:g}=d;return Re(r.uid===g,a,"user-mismatch"),Qs._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ui(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2(r,e,n=!1){if(Si(r.app))return Promise.reject(Fr(r));const a="signIn",l=await J2(r,a,e),u=await Qs._fromIdTokenResponse(r,a,l);return n||await r._updateCurrentUser(u.user),u}async function Sw(r,e){return W2(ts(r),e)}async function qv(r,e){return Z2(Ct(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(r){const e=ts(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hm(r,e,n){const a=ts(r);await Eh(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",pw)}async function Aw(r,e,n){if(Si(r.app))return Promise.reject(Fr(r));const a=ts(r),d=await Eh(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bw).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&e1(r),y}),g=await Qs._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function ww(r,e,n){return Si(r.app)?Promise.reject(Fr(r)):Sw(Ct(r),Ya.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&e1(r),a})}async function Hv(r,e){const n=Ct(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await mw(n.auth,l);u!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xw(r,e){return fr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fv(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=Ct(r),u={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await Jo(a,xw(a.auth,u));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const g=a.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=a.displayName,g.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r,e){return Ct(r).setPersistence(e)}function Rw(r,e,n,a){return Ct(r).onIdTokenChanged(e,n,a)}function Cw(r,e,n){return Ct(r).beforeAuthStateChanged(e,n)}function Iw(r,e,n,a){return Ct(r).onAuthStateChanged(e,n,a)}function $c(r){return Ct(r).signOut()}async function Nw(r){return Ct(r).delete()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=1e3,Ow=10;class n1 extends t1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},u=this.storage.getItem(a);KA()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,Ow):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},Dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n1.type="LOCAL";const Cm=n1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends t1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}i1.type="SESSION";const Sh=i1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new zh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,u)),y=await jw(g);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const _=sp("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(x){const j=x;if(j.data.eventId===_)switch(j.data.status){case"ack":clearTimeout(S),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(j.data.response);break;default:clearTimeout(S),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function Vw(r){or().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function kw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Uw(){return r1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="firebaseLocalStorageDb",Lw=1,Ah="firebaseLocalStorage",s1="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bh(r,e){return r.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function zw(){const r=indexedDB.deleteDatabase(a1);return new Ru(r).toPromise()}function Im(){const r=indexedDB.open(a1,Lw);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Ah,{keyPath:s1})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Ah)?e(a):(a.close(),await zw(),e(await Im()))})})}async function Qv(r,e,n){const a=Bh(r,!0).put({[s1]:e,value:n});return new Ru(a).toPromise()}async function Bw(r,e){const n=Bh(r,!1).get(e),a=await new Ru(n).toPromise();return a===void 0?null:a.value}function Kv(r,e){const n=Bh(r,!0).delete(e);return new Ru(n).toPromise()}const qw=800,Hw=3;class o1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>Hw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zh._getInstance(Uw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,a;if(this.activeServiceWorker=await kw(),!this.activeServiceWorker)return;this.sender=new Mw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await Qv(e,Th,"1"),await Kv(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Qv(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>Bw(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Bh(l,!1).getAll();return new Ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}o1.type="LOCAL";const Fw=o1;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r,e){return e?Hr(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Qw(r){return W2(r.auth,new op(r),r.bypassAuthState)}function Kw(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),Z2(n,new op(r),r.bypassAuthState)}async function Yw(r){const{auth:e,user:n}=r;return Re(n,e,"internal-error"),Tw(n,new op(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qw;case"linkViaPopup":case"linkViaRedirect":return Yw;case"reauthViaPopup":case"reauthViaRedirect":return Kw;default:Ui(this.auth,"internal-error")}}resolve(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Au(2e3,1e4);class Ho extends l1{constructor(e,n,a,l,u){super(e,n,l,u),this.provider=a,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Qr(this.filter.length===1,"Popup operations only handle one event");const e=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Xw.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="pendingRedirect",oh=new Map;class Jw extends l1{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const a=await Zw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zw(r,e){const n=tx(e),a=ex(r);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function Ww(r,e){oh.set(r._key(),e)}function ex(r){return Hr(r._redirectPersistence)}function tx(r){return sh($w,r.config.apiKey,r.name)}async function nx(r,e,n=!1){if(Si(r.app))return Promise.reject(Fr(r));const a=ts(r),l=Gw(a,e),d=await new Jw(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix=600*1e3;class rx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ax(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!u1(e)){const l=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ix&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yv(e))}saveEventToCache(e){this.cachedEventUids.add(Yv(e)),this.lastProcessedEventTime=Date.now()}}function Yv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function u1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ax(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sx(r,e={}){return fr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lx=/^https?/;async function ux(r){if(r.config.emulator)return;const{authorizedDomains:e}=await sx(r);for(const n of e)try{if(cx(n))return}catch{}Ui(r,"unauthorized-domain")}function cx(r){const e=xm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!lx.test(n))return!1;if(ox.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=new Au(3e4,6e4);function Xv(){const r=or().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function dx(r){return new Promise((e,n)=>{var l,u,d;function a(){Xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xv(),n(sr(r,"network-request-failed"))},timeout:hx.get()})}if((u=(l=or().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((d=or().gapi)!=null&&d.load)a();else{const g=nw("iframefcb");return or()[g]=()=>{gapi.load?a():n(sr(r,"network-request-failed"))},Q2(`${tw()}?onload=${g}`).catch(y=>n(y))}}).catch(e=>{throw lh=null,e})}let lh=null;function fx(r){return lh=lh||dx(r),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new Au(5e3,15e3),px="__/auth/iframe",gx="emulator/auth/iframe",yx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _x(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?tp(e,gx):`https://${r.config.authDomain}/${px}`,a={apiKey:e.apiKey,appName:r.name,v:al},l=vx.get(r.config.apiHost);l&&(a.eid=l);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Su(a).slice(1)}`}async function Ex(r){const e=await fx(r),n=or().gapi;return Re(n,r,"internal-error"),e.open({where:document.body,url:_x(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yx,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const d=sr(r,"network-request-failed"),g=or().setTimeout(()=>{u(d)},mx.get());function y(){or().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tx=500,Sx=600,Ax="_blank",wx="http://localhost";class $v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xx(r,e,n,a=Tx,l=Sx){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...bx,width:a.toString(),height:l.toString(),top:u,left:d},_=Cn().toLowerCase();n&&(g=L2(_)?Ax:n),P2(_)&&(e=e||wx,y.scrollbars="yes");const S=Object.entries(y).reduce((j,[G,te])=>`${j}${G}=${te},`,"");if(QA(_)&&g!=="_self")return Rx(e||"",g),new $v(null);const x=window.open(e||"",g,S);Re(x,r,"popup-blocked");try{x.focus()}catch{}return new $v(x)}function Rx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="__/auth/handler",Ix="emulator/auth/handler",Nx=encodeURIComponent("fac");async function Jv(r,e,n,a,l,u){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:al,eventId:l};if(e instanceof $2){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",fS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,x]of Object.entries({}))d[S]=x}if(e instanceof xu){const S=e.getScopes().filter(x=>x!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await r._getAppCheckToken(),_=y?`#${Nx}=${encodeURIComponent(y)}`:"";return`${Dx(r)}?${Su(g).slice(1)}${_}`}function Dx({config:r}){return r.emulator?tp(r,Ix):`https://${r.authDomain}/${Cx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="webStorageSupport";class Ox{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sh,this._completeRedirectFn=nx,this._overrideRedirectResult=Ww}async _openPopup(e,n,a,l){var d;Qr((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await Jv(e,n,a,xm(),l);return xx(e,u,sp())}async _openRedirect(e,n,a,l){await this._originValidation(e);const u=await Jv(e,n,a,xm(),l);return Vw(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(Qr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await Ex(e),a=new rx(e);return n.register("authEvent",l=>(Re(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dm,{type:dm},l=>{var d;const u=(d=l==null?void 0:l[0])==null?void 0:d[dm];u!==void 0&&n(!!u),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ux(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F2()||U2()||ip()}}const jx=Ox;var Zv="@firebase/auth",Wv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kx(r){$o(new Fs("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Re(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G2(r)},_=new ZA(a,l,u,y);return lw(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),$o(new Fs("auth-internal",e=>{const n=ts(e.getProvider("auth").getImmediate());return(a=>new Mx(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ha(Zv,Wv,Vx(r)),Ha(Zv,Wv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=300,Ux=_2("authIdTokenMaxAge")||Px;let e_=null;const Lx=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>Ux)return;const l=n==null?void 0:n.token;e_!==l&&(e_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function zx(r=w2()){const e=Wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=ow(r,{popupRedirectResolver:jx,persistence:[Fw,Cm,Sh]}),a=_2("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const d=Lx(u.toString());Cw(n,d,()=>d(n.currentUser)),Rw(n,g=>d(g))}}const l=y2("auth");return l&&uw(n,`http://${l}`),n}function Bx(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}WA({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const u=sr("internal-error");u.customData=l,n(u)},a.type="text/javascript",a.charset="UTF-8",Bx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kx("Browser");var t_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fa,c1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function N(){}N.prototype=R.prototype,I.F=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(P,O,T){for(var C=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)C[Ue-2]=arguments[Ue];return R.prototype[O].apply(P,C)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,R,N){N||(N=0);const P=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)P[O]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(O=0;O<16;++O)P[O]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],O=I.g[2];let T=I.g[3],C;C=R+(T^N&(O^T))+P[0]+3614090360&4294967295,R=N+(C<<7&4294967295|C>>>25),C=T+(O^R&(N^O))+P[1]+3905402710&4294967295,T=R+(C<<12&4294967295|C>>>20),C=O+(N^T&(R^N))+P[2]+606105819&4294967295,O=T+(C<<17&4294967295|C>>>15),C=N+(R^O&(T^R))+P[3]+3250441966&4294967295,N=O+(C<<22&4294967295|C>>>10),C=R+(T^N&(O^T))+P[4]+4118548399&4294967295,R=N+(C<<7&4294967295|C>>>25),C=T+(O^R&(N^O))+P[5]+1200080426&4294967295,T=R+(C<<12&4294967295|C>>>20),C=O+(N^T&(R^N))+P[6]+2821735955&4294967295,O=T+(C<<17&4294967295|C>>>15),C=N+(R^O&(T^R))+P[7]+4249261313&4294967295,N=O+(C<<22&4294967295|C>>>10),C=R+(T^N&(O^T))+P[8]+1770035416&4294967295,R=N+(C<<7&4294967295|C>>>25),C=T+(O^R&(N^O))+P[9]+2336552879&4294967295,T=R+(C<<12&4294967295|C>>>20),C=O+(N^T&(R^N))+P[10]+4294925233&4294967295,O=T+(C<<17&4294967295|C>>>15),C=N+(R^O&(T^R))+P[11]+2304563134&4294967295,N=O+(C<<22&4294967295|C>>>10),C=R+(T^N&(O^T))+P[12]+1804603682&4294967295,R=N+(C<<7&4294967295|C>>>25),C=T+(O^R&(N^O))+P[13]+4254626195&4294967295,T=R+(C<<12&4294967295|C>>>20),C=O+(N^T&(R^N))+P[14]+2792965006&4294967295,O=T+(C<<17&4294967295|C>>>15),C=N+(R^O&(T^R))+P[15]+1236535329&4294967295,N=O+(C<<22&4294967295|C>>>10),C=R+(O^T&(N^O))+P[1]+4129170786&4294967295,R=N+(C<<5&4294967295|C>>>27),C=T+(N^O&(R^N))+P[6]+3225465664&4294967295,T=R+(C<<9&4294967295|C>>>23),C=O+(R^N&(T^R))+P[11]+643717713&4294967295,O=T+(C<<14&4294967295|C>>>18),C=N+(T^R&(O^T))+P[0]+3921069994&4294967295,N=O+(C<<20&4294967295|C>>>12),C=R+(O^T&(N^O))+P[5]+3593408605&4294967295,R=N+(C<<5&4294967295|C>>>27),C=T+(N^O&(R^N))+P[10]+38016083&4294967295,T=R+(C<<9&4294967295|C>>>23),C=O+(R^N&(T^R))+P[15]+3634488961&4294967295,O=T+(C<<14&4294967295|C>>>18),C=N+(T^R&(O^T))+P[4]+3889429448&4294967295,N=O+(C<<20&4294967295|C>>>12),C=R+(O^T&(N^O))+P[9]+568446438&4294967295,R=N+(C<<5&4294967295|C>>>27),C=T+(N^O&(R^N))+P[14]+3275163606&4294967295,T=R+(C<<9&4294967295|C>>>23),C=O+(R^N&(T^R))+P[3]+4107603335&4294967295,O=T+(C<<14&4294967295|C>>>18),C=N+(T^R&(O^T))+P[8]+1163531501&4294967295,N=O+(C<<20&4294967295|C>>>12),C=R+(O^T&(N^O))+P[13]+2850285829&4294967295,R=N+(C<<5&4294967295|C>>>27),C=T+(N^O&(R^N))+P[2]+4243563512&4294967295,T=R+(C<<9&4294967295|C>>>23),C=O+(R^N&(T^R))+P[7]+1735328473&4294967295,O=T+(C<<14&4294967295|C>>>18),C=N+(T^R&(O^T))+P[12]+2368359562&4294967295,N=O+(C<<20&4294967295|C>>>12),C=R+(N^O^T)+P[5]+4294588738&4294967295,R=N+(C<<4&4294967295|C>>>28),C=T+(R^N^O)+P[8]+2272392833&4294967295,T=R+(C<<11&4294967295|C>>>21),C=O+(T^R^N)+P[11]+1839030562&4294967295,O=T+(C<<16&4294967295|C>>>16),C=N+(O^T^R)+P[14]+4259657740&4294967295,N=O+(C<<23&4294967295|C>>>9),C=R+(N^O^T)+P[1]+2763975236&4294967295,R=N+(C<<4&4294967295|C>>>28),C=T+(R^N^O)+P[4]+1272893353&4294967295,T=R+(C<<11&4294967295|C>>>21),C=O+(T^R^N)+P[7]+4139469664&4294967295,O=T+(C<<16&4294967295|C>>>16),C=N+(O^T^R)+P[10]+3200236656&4294967295,N=O+(C<<23&4294967295|C>>>9),C=R+(N^O^T)+P[13]+681279174&4294967295,R=N+(C<<4&4294967295|C>>>28),C=T+(R^N^O)+P[0]+3936430074&4294967295,T=R+(C<<11&4294967295|C>>>21),C=O+(T^R^N)+P[3]+3572445317&4294967295,O=T+(C<<16&4294967295|C>>>16),C=N+(O^T^R)+P[6]+76029189&4294967295,N=O+(C<<23&4294967295|C>>>9),C=R+(N^O^T)+P[9]+3654602809&4294967295,R=N+(C<<4&4294967295|C>>>28),C=T+(R^N^O)+P[12]+3873151461&4294967295,T=R+(C<<11&4294967295|C>>>21),C=O+(T^R^N)+P[15]+530742520&4294967295,O=T+(C<<16&4294967295|C>>>16),C=N+(O^T^R)+P[2]+3299628645&4294967295,N=O+(C<<23&4294967295|C>>>9),C=R+(O^(N|~T))+P[0]+4096336452&4294967295,R=N+(C<<6&4294967295|C>>>26),C=T+(N^(R|~O))+P[7]+1126891415&4294967295,T=R+(C<<10&4294967295|C>>>22),C=O+(R^(T|~N))+P[14]+2878612391&4294967295,O=T+(C<<15&4294967295|C>>>17),C=N+(T^(O|~R))+P[5]+4237533241&4294967295,N=O+(C<<21&4294967295|C>>>11),C=R+(O^(N|~T))+P[12]+1700485571&4294967295,R=N+(C<<6&4294967295|C>>>26),C=T+(N^(R|~O))+P[3]+2399980690&4294967295,T=R+(C<<10&4294967295|C>>>22),C=O+(R^(T|~N))+P[10]+4293915773&4294967295,O=T+(C<<15&4294967295|C>>>17),C=N+(T^(O|~R))+P[1]+2240044497&4294967295,N=O+(C<<21&4294967295|C>>>11),C=R+(O^(N|~T))+P[8]+1873313359&4294967295,R=N+(C<<6&4294967295|C>>>26),C=T+(N^(R|~O))+P[15]+4264355552&4294967295,T=R+(C<<10&4294967295|C>>>22),C=O+(R^(T|~N))+P[6]+2734768916&4294967295,O=T+(C<<15&4294967295|C>>>17),C=N+(T^(O|~R))+P[13]+1309151649&4294967295,N=O+(C<<21&4294967295|C>>>11),C=R+(O^(N|~T))+P[4]+4149444226&4294967295,R=N+(C<<6&4294967295|C>>>26),C=T+(N^(R|~O))+P[11]+3174756917&4294967295,T=R+(C<<10&4294967295|C>>>22),C=O+(R^(T|~N))+P[2]+718787259&4294967295,O=T+(C<<15&4294967295|C>>>17),C=N+(T^(O|~R))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+T&4294967295}a.prototype.v=function(I,R){R===void 0&&(R=I.length);const N=R-this.blockSize,P=this.C;let O=this.h,T=0;for(;T<R;){if(O==0)for(;T<=N;)l(this,I,T),T+=this.blockSize;if(typeof I=="string"){for(;T<R;)if(P[O++]=I.charCodeAt(T++),O==this.blockSize){l(this,P),O=0;break}}else for(;T<R;)if(P[O++]=I[T++],O==this.blockSize){l(this,P),O=0;break}}this.h=O,this.o+=R},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)I[R++]=this.g[N]>>>P&255;return I};function u(I,R){var N=g;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function d(I,R){this.h=R;const N=[];let P=!0;for(let O=I.length-1;O>=0;O--){const T=I[O]|0;P&&T==R||(N[O]=T,P=!1)}this.g=N}var g={};function y(I){return-128<=I&&I<128?u(I,function(R){return new d([R|0],R<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return ee(_(-I));const R=[];let N=1;for(let P=0;I>=N;P++)R[P]=I/N|0,N*=4294967296;return new d(R,0)}function S(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return ee(S(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(R,8));let P=x;for(let T=0;T<I.length;T+=8){var O=Math.min(8,I.length-T);const C=parseInt(I.substring(T,T+O),R);O<8?(O=_(Math.pow(R,O)),P=P.j(O).add(_(C))):(P=P.j(N),P=P.add(_(C)))}return P}var x=y(0),j=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(ne(this))return-ee(this).m();let I=0,R=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);I+=(P>=0?P:4294967296+P)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(te(this))return"0";if(ne(this))return"-"+ee(this).toString(I);const R=_(Math.pow(I,6));var N=this;let P="";for(;;){const O=qe(N,R).g;N=ae(N,O.j(R));let T=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=O,te(N))return T+P;for(;T.length<6;)T="0"+T;P=T+P}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function te(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function ne(I){return I.h==-1}r.l=function(I){return I=ae(this,I),ne(I)?-1:te(I)?0:1};function ee(I){const R=I.g.length,N=[];for(let P=0;P<R;P++)N[P]=~I.g[P];return new d(N,~I.h).add(j)}r.abs=function(){return ne(this)?ee(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),N=[];let P=0;for(let O=0;O<=R;O++){let T=P+(this.i(O)&65535)+(I.i(O)&65535),C=(T>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);P=C>>>16,T&=65535,C&=65535,N[O]=C<<16|T}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ae(I,R){return I.add(ee(R))}r.j=function(I){if(te(this)||te(I))return x;if(ne(this))return ne(I)?ee(this).j(ee(I)):ee(ee(this).j(I));if(ne(I))return ee(this.j(ee(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const R=this.g.length+I.g.length,N=[];for(var P=0;P<2*R;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let O=0;O<I.g.length;O++){const T=this.i(P)>>>16,C=this.i(P)&65535,Ue=I.i(O)>>>16,pt=I.i(O)&65535;N[2*P+2*O]+=C*pt,be(N,2*P+2*O),N[2*P+2*O+1]+=T*pt,be(N,2*P+2*O+1),N[2*P+2*O+1]+=C*Ue,be(N,2*P+2*O+1),N[2*P+2*O+2]+=T*Ue,be(N,2*P+2*O+2)}for(I=0;I<R;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=R;I<2*R;I++)N[I]=0;return new d(N,0)};function be(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function fe(I,R){this.g=I,this.h=R}function qe(I,R){if(te(R))throw Error("division by zero");if(te(I))return new fe(x,x);if(ne(I))return R=qe(ee(I),R),new fe(ee(R.g),ee(R.h));if(ne(R))return R=qe(I,ee(R)),new fe(ee(R.g),R.h);if(I.g.length>30){if(ne(I)||ne(R))throw Error("slowDivide_ only works with positive integers.");for(var N=j,P=R;P.l(I)<=0;)N=Ae(N),P=Ae(P);var O=Ve(N,1),T=Ve(P,1);for(P=Ve(P,2),N=Ve(N,2);!te(P);){var C=T.add(P);C.l(I)<=0&&(O=O.add(N),T=C),P=Ve(P,1),N=Ve(N,1)}return R=ae(I,O.j(R)),new fe(O,R)}for(O=x;I.l(R)>=0;){for(N=Math.max(1,Math.floor(I.m()/R.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),T=_(N),C=T.j(R);ne(C)||C.l(I)>0;)N-=P,T=_(N),C=T.j(R);te(T)&&(T=j),O=O.add(T),I=ae(I,C)}return new fe(O,I)}r.B=function(I){return qe(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<R;P++)N[P]=this.i(P)&I.i(P);return new d(N,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<R;P++)N[P]=this.i(P)|I.i(P);return new d(N,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let P=0;P<R;P++)N[P]=this.i(P)^I.i(P);return new d(N,this.h^I.h)};function Ae(I){const R=I.g.length+1,N=[];for(let P=0;P<R;P++)N[P]=I.i(P)<<1|I.i(P-1)>>>31;return new d(N,I.h)}function Ve(I,R){const N=R>>5;R%=32;const P=I.g.length-N,O=[];for(let T=0;T<P;T++)O[T]=R>0?I.i(T+N)>>>R|I.i(T+N+1)<<32-R:I.i(T+N);return new d(O,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,c1=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Fa=d}).apply(typeof t_<"u"?t_:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h1,nu,d1,uh,Nm,f1,m1,p1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var p=0;p<c.length;++p){var E=c[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function l(c,p){if(p)e:{var E=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in E))break e;E=E[L]}c=c[c.length-1],A=E[c],p=p(A),p!=A&&p!=null&&e(E,c,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(p){var E=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&E.push([A,p[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function y(c,p,E){return c.call.apply(c.bind,arguments)}function _(c,p,E){return _=y,_.apply(null,arguments)}function S(c,p){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,p){function E(){}E.prototype=p.prototype,c.Z=p.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,L,H){for(var ie=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ie[Oe-2]=arguments[Oe];return p.prototype[L].apply(A,ie)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function G(c){const p=c.length;if(p>0){const E=Array(p);for(let A=0;A<p;A++)E[A]=c[A];return E}return[]}function te(c,p){for(let A=1;A<arguments.length;A++){const L=arguments[A];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=c.length||0;const H=L.length||0;c.length=E+H;for(let ie=0;ie<H;ie++)c[E+ie]=L[ie]}else c.push(L)}}class ne{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(c){d.setTimeout(()=>{throw c},0)}function ae(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class be{constructor(){this.h=this.g=null}add(p,E){const A=fe.get();A.set(p,E),this.h?this.h.next=A:this.g=A,this.h=A}}var fe=new ne(()=>new qe,c=>c.reset());class qe{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,Ve=!1,I=new be,R=()=>{const c=Promise.resolve(void 0);Ae=()=>{c.then(N)}};function N(){for(var c;c=ae();){try{c.h.call(c.g)}catch(E){ee(E)}var p=fe;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}Ve=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var T=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};d.addEventListener("test",E,p),d.removeEventListener("test",E,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Ue(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}x(Ue,O),Ue.prototype.init=function(c,p){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(E=="mouseover"?p=c.fromElement:E=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function se(c,p,E,A,L){this.listener=c,this.proxy=null,this.src=p,this.type=E,this.capture=!!A,this.ha=L,this.key=++Q,this.da=this.fa=!1}function ve(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c,p,E){for(const A in c)p.call(E,c[A],A,c)}function Ze(c,p){for(const E in c)p.call(void 0,c[E],E,c)}function V(c){const p={};for(const E in c)p[E]=c[E];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,p){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)c[E]=A[E];for(let H=0;H<Y.length;H++)E=Y[H],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,p,E,A,L){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const ie=xe(c,p,A,L);return ie>-1?(p=c[ie],E||(p.fa=!1)):(p=new se(p,this.src,H,!!A,L),p.fa=E,c.push(p)),p};function we(c,p){const E=p.type;if(E in c.g){var A=c.g[E],L=Array.prototype.indexOf.call(A,p,void 0),H;(H=L>=0)&&Array.prototype.splice.call(A,L,1),H&&(ve(p),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xe(c,p,E,A){for(let L=0;L<c.length;++L){const H=c[L];if(!H.da&&H.listener==p&&H.capture==!!E&&H.ha==A)return L}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),Ot={};function Xe(c,p,E,A,L){if(Array.isArray(p)){for(let H=0;H<p.length;H++)Xe(c,p[H],E,A,L);return null}return E=yr(E),c&&c[pt]?c.J(p,E,g(A)?!!A.capture:!1,L):zi(c,p,E,!1,A,L)}function zi(c,p,E,A,L,H){if(!p)throw Error("Invalid event type");const ie=g(L)?!!L.capture:!!L;let Oe=Bi(c);if(Oe||(c[ke]=Oe=new ue(c)),E=Oe.add(p,E,A,ie,H),E.proxy)return E;if(A=mr(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)T||(L=ie),L===void 0&&(L=!1),c.addEventListener(p.toString(),A,L);else if(c.attachEvent)c.attachEvent(Gn(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function mr(){function c(E){return p.call(c.src,c.listener,E)}const p=gr;return c}function pr(c,p,E,A,L){if(Array.isArray(p))for(var H=0;H<p.length;H++)pr(c,p[H],E,A,L);else A=g(A)?!!A.capture:!!A,E=yr(E),c&&c[pt]?(c=c.i,H=String(p).toString(),H in c.g&&(p=c.g[H],E=xe(p,E,A,L),E>-1&&(ve(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete c.g[H],c.h--)))):c&&(c=Bi(c))&&(p=c.g[p.toString()],c=-1,p&&(c=xe(p,E,A,L)),(E=c>-1?p[c]:null)&&In(E))}function In(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[pt])we(p.i,c);else{var E=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(E,A,c.capture):p.detachEvent?p.detachEvent(Gn(E),A):p.addListener&&p.removeListener&&p.removeListener(A),(E=Bi(p))?(we(E,c),E.h==0&&(E.src=null,p[ke]=null)):ve(c)}}}function Gn(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function gr(c,p){if(c.da)c=!0;else{p=new Ue(p,this);const E=c.listener,A=c.ha||c.src;c.fa&&In(c),c=E.call(A,p)}return c}function Bi(c){return c=c[ke],c instanceof ue?c:null}var Zr="__closure_events_fn_"+(Math.random()*1e9>>>0);function yr(c){return typeof c=="function"?c:(c[Zr]||(c[Zr]=function(p){return c.handleEvent(p)}),c[Zr])}function St(){P.call(this),this.i=new ue(this),this.M=this,this.G=null}x(St,P),St.prototype[pt]=!0,St.prototype.removeEventListener=function(c,p,E,A){pr(this,c,p,E,A)};function It(c,p){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var L=p;p=new O(A,c),re(p,L)}L=!0;let H,ie;if(E)for(ie=E.length-1;ie>=0;ie--)H=p.g=E[ie],L=_n(H,A,!0,p)&&L;if(H=p.g=c,L=_n(H,A,!0,p)&&L,L=_n(H,A,!1,p)&&L,E)for(ie=0;ie<E.length;ie++)H=p.g=E[ie],L=_n(H,A,!1,p)&&L}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const E=c.g[p];for(let A=0;A<E.length;A++)ve(E[A]);delete c.g[p],c.h--}}this.G=null},St.prototype.J=function(c,p,E,A){return this.i.add(String(c),p,!1,E,A)},St.prototype.K=function(c,p,E,A){return this.i.add(String(c),p,!0,E,A)};function _n(c,p,E,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let H=0;H<p.length;++H){const ie=p[H];if(ie&&!ie.da&&ie.capture==E){const Oe=ie.listener,qt=ie.ha||ie.src;ie.fa&&we(c.i,ie),L=Oe.call(qt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Zs(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(c,p||0)}function rs(c){c.g=Zs(()=>{c.g=null,c.i&&(c.i=!1,rs(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Kt extends P{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:rs(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(c){P.call(this),this.h=c,this.g={}}x(qi,P);var oi=[];function vr(c){Le(c.g,function(p,E){this.g.hasOwnProperty(E)&&In(p)},c),c.g={}}qi.prototype.N=function(){qi.Z.N.call(this),vr(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=d.JSON.stringify,as=d.JSON.parse,ln=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ss(){}function Wr(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){O.call(this,"d")}x(tn,O);function En(){O.call(this,"c")}x(En,O);var gt={},wi=null;function _r(){return wi=wi||new St}gt.Ia="serverreachability";function _t(c){O.call(this,gt.Ia,c)}x(_t,O);function Yn(c){const p=_r();It(p,new _t(p))}gt.STAT_EVENT="statevent";function Xn(c,p){O.call(this,gt.STAT_EVENT,c),this.stat=p}x(Xn,O);function At(c){const p=_r();It(p,new Xn(p,c))}gt.Ja="timingevent";function un(c,p){O.call(this,gt.Ja,c),this.size=p}x(un,O);function Mn(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},p)}function jt(){this.g=!0}jt.prototype.ua=function(){this.g=!1};function Ws(c,p,E,A,L,H){c.info(function(){if(c.g)if(H){var ie="",Oe=H.split("&");for(let it=0;it<Oe.length;it++){var qt=Oe[it].split("=");if(qt.length>1){const xt=qt[0];qt=qt[1];const fi=xt.split("_");ie=fi.length>=2&&fi[1]=="type"?ie+(xt+"="+qt+"&"):ie+(xt+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+E+`
`+ie})}function os(c,p,E,A,L,H,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+E+`
`+H+" "+ie})}function $n(c,p,E,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Hi(c,E)+(A?" "+A:"")})}function cn(c,p){c.info(function(){return"TIMEOUT: "+p})}jt.prototype.info=function(){};function Hi(c,p){if(!c.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var E=H[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return Qn(H)}catch{return p}}var ye={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ea={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Er;function Fi(){}x(Fi,ss),Fi.prototype.g=function(){return new XMLHttpRequest},Er=new Fi;function xi(c){return encodeURIComponent(String(c))}function ls(c){var p=1;c=c.split(":");const E=[];for(;p>0&&c.length;)E.push(c.shift()),p--;return c.length&&E.push(c.join(":")),E}function Jn(c,p,E,A){this.j=c,this.i=p,this.l=E,this.S=A||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vn}function Vn(){this.i=null,this.g="",this.h=!1}var lt={},Bt={};function Zn(c,p,E){c.M=1,c.A=Tr(Vt(p)),c.u=E,c.R=!0,Ri(c,null)}function Ri(c,p){c.F=Date.now(),Nn(c),c.B=Vt(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),aa(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Vn,c.g=qu(c.j,E?p:null,!c.u),c.P>0&&(c.O=new Kt(_(c.Y,c,c.g),c.P)),p=c.V,E=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(oi[0]=L.toString()),L=oi);for(let H=0;H<L.length;H++){const ie=Xe(E,L[H],A||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),Yn(),Ws(c.i,c.v,c.B,c.l,c.S,c.u)}Jn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Ci(c)==3?p.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const Oe=Ci(this.g),qt=this.g.ya(),it=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||hn(this.g)))){this.K||Oe!=4||qt==7||(qt==8||it<=0?Yn(3):Yn(2)),oe(this);var p=this.g.ca();this.X=p;var E=hl(this);if(this.o=p==200,os(this.i,this.v,this.B,this.l,this.S,Oe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var H=A;break t}}H=null}if(c=H)$n(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,c);else{this.o=!1,this.m=3,At(12),bn(this),kn(this);break e}}if(this.R){c=!0;let xt;for(;!this.K&&this.C<E.length;)if(xt=eo(this,E),xt==Bt){Oe==4&&(this.m=4,At(14),c=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==lt){this.m=4,At(15),$n(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else $n(this.i,this.l,xt,null),li(this,xt);if(ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||E.length!=0||this.h.h||(this.m=1,At(16),c=!1),this.o=this.o&&c,!c)$n(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),pl(ie),ie.P=!0,At(11))}}else $n(this.i,this.l,E,null),li(this,E);Oe==4&&bn(this),this.o&&!this.K&&(Oe==4?Uu(this.j,this):(this.o=!1,Nn(this)))}else wr(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),bn(this),kn(this)}}}catch{}finally{}};function hl(c){if(!ta(c))return c.g.la();const p=hn(c.g);if(p==="")return"";let E="";const A=p.length,L=Ci(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return bn(c),kn(c),"";c.h.i=new d.TextDecoder}for(let H=0;H<A;H++)c.h.h=!0,E+=c.h.i.decode(p[H],{stream:!(L&&H==A-1)});return p.length=0,c.h.g+=E,c.C=0,c.h.g}function ta(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function eo(c,p){var E=c.C,A=p.indexOf(`
`,E);return A==-1?Bt:(E=Number(p.substring(E,A)),isNaN(E)?lt:(A+=1,A+E>p.length?Bt:(p=p.slice(A,A+E),c.C=A+E,p)))}Jn.prototype.cancel=function(){this.K=!0,bn(this)};function Nn(c){c.T=Date.now()+c.H,ce(c,c.H)}function ce(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Mn(_(c.aa,c),p)}function oe(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Jn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(cn(this.i,this.B),this.M!=2&&(Yn(),At(17)),bn(this),this.m=2,kn(this)):ce(this,this.T-c)};function kn(c){c.j.I==0||c.K||Uu(c.j,c)}function bn(c){oe(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,vr(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function li(c,p){try{var E=c.j;if(E.I!=0&&(E.g==c||ci(E.h,c))){if(!c.L&&ci(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)oo(E),ua(E);else break e;bs(E),At(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Mn(_(E.Va,E),6e3));ui(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ji(E,11)}else if((c.L||E.g==c)&&oo(E),!C(p))for(L=E.Ba.g.parse(p),p=0;p<L.length;p++){let it=L[p];const xt=it[0];if(!(xt<=E.K))if(E.K=xt,it=it[1],E.I==2)if(it[0]=="c"){E.M=it[1],E.ba=it[2];const fi=it[3];fi!=null&&(E.ka=fi,E.j.info("VER="+E.ka));const Zi=it[4];Zi!=null&&(E.za=Zi,E.j.info("SVER="+E.za));const Ii=it[5];Ii!=null&&typeof Ii=="number"&&Ii>0&&(A=1.5*Ii,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Ni=c.g;if(Ni){const Ts=Ni.g?Ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ts){var H=A.h;H.g||Ts.indexOf("spdy")==-1&&Ts.indexOf("quic")==-1&&Ts.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(hs(H,H.h),H.h=null))}if(A.G){const lo=Ni.g?Ni.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(A.wa=lo,nt(A.J,A.G,lo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ie=c;if(A.na=Bu(A,A.L?A.ba:null,A.W),ie.L){na(A.h,ie);var Oe=ie,qt=A.O;qt&&(Oe.H=qt),Oe.D&&(oe(Oe),Nn(Oe)),A.g=ie}else ku(A);E.i.length>0&&$i(E)}else it[0]!="stop"&&it[0]!="close"||Ji(E,7);else E.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Ji(E,7):fl(E):it[0]!="noop"&&E.l&&E.l.qa(it),E.A=0)}}Yn(4)}catch{}}var Mt=class{constructor(c,p){this.g=c,this.map=p}};function us(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ui(c){return c.h?1:c.g?c.g.size:0}function ci(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function hs(c,p){c.g?c.g.add(p):c.h=p}function na(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}us.prototype.cancel=function(){if(this.i=br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function br(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const E of c.g.values())p=p.concat(E.G);return p}return G(c.i)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(c,p){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let L,H=null;A>=0?(L=c[E].substring(0,A),H=c[E].substring(A+1)):L=c[E],p(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Dn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Dn?(this.l=c.l,kt(this,c.j),this.o=c.o,this.g=c.g,Gi(this,c.u),this.h=c.h,fs(this,io(c.i)),this.m=c.m):c&&(p=String(c).match(ds))?(this.l=!1,kt(this,p[1]||"",!0),this.o=hi(p[2]||""),this.g=hi(p[3]||"",!0),Gi(this,p[4]),this.h=hi(p[5]||"",!0),fs(this,p[6]||"",!0),this.m=hi(p[7]||"")):(this.l=!1,this.i=new Ki(null,this.l))}Dn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Sr(p,ra,!0),":");var E=this.g;return(E||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Sr(p,ra,!0),"@"),c.push(xi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Sr(E,E.charAt(0)=="/"?ms:to,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Sr(E,no)),c.join("")},Dn.prototype.resolve=function(c){const p=Vt(this);let E=!!c.j;E?kt(p,c.j):E=!!c.o,E?p.o=c.o:E=!!c.g,E?p.g=c.g:E=c.u!=null;var A=c.h;if(E)Gi(p,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=p.h.lastIndexOf("/");L!=-1&&(A=p.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let ie=0;ie<L.length;){const Oe=L[ie++];Oe=="."?A&&ie==L.length&&H.push(""):Oe==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ie==L.length&&H.push("")):(H.push(Oe),A=!0)}A=H.join("/")}else A=L}return E?p.h=A:E=c.i.toString()!=="",E?fs(p,io(c.i)):E=!!c.m,E&&(p.m=c.m),p};function Vt(c){return new Dn(c)}function kt(c,p,E){c.j=E?hi(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Gi(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function fs(c,p,E){p instanceof Ki?(c.i=p,sa(c.i,c.l)):(E||(p=Sr(p,Qi)),c.i=new Ki(p,c.l))}function nt(c,p,E){c.i.set(p,E)}function Tr(c){return nt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function hi(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sr(c,p,E){return typeof c=="string"?(c=encodeURI(c).replace(p,Tn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ra=/[#\/\?@]/g,to=/[#\?:]/g,ms=/[#\?]/g,Qi=/[#\?@]/g,no=/#/g;function Ki(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ia(c.i,function(p,E){c.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}r=Ki.prototype,r.add=function(c,p){Sn(this),this.i=null,c=Yi(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(p),this.h+=1,this};function ps(c,p){Sn(c),p=Yi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function gs(c,p){return Sn(c),p=Yi(c,p),c.g.has(p)}r.forEach=function(c,p){Sn(this),this.g.forEach(function(E,A){E.forEach(function(L){c.call(p,L,A,this)},this)},this)};function ys(c,p){Sn(c);let E=[];if(typeof p=="string")gs(c,p)&&(E=E.concat(c.g.get(Yi(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)E=E.concat(c[p]);return E}r.set=function(c,p){return Sn(this),this.i=null,c=Yi(this,c),gs(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=ys(this,c),c.length>0?String(c[0]):p):p};function aa(c,p,E){ps(c,p),E.length>0&&(c.i=null,c.g.set(Yi(c,p),G(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var E=p[A];const L=xi(E);E=ys(this,E);for(let H=0;H<E.length;H++){let ie=L;E[H]!==""&&(ie+="="+xi(E[H])),c.push(ie)}}return this.i=c.join("&")};function io(c){const p=new Ki;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function Yi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function sa(c,p){p&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(E,A){const L=A.toLowerCase();A!=L&&(ps(this,A),aa(this,L,E))},c)),c.j=p}function Pn(c,p){const E=new jt;if(d.Image){const A=new Image;A.onload=S(k,E,"TestLoadImage: loaded",!0,p,A),A.onerror=S(k,E,"TestLoadImage: error",!1,p,A),A.onabort=S(k,E,"TestLoadImage: abort",!1,p,A),A.ontimeout=S(k,E,"TestLoadImage: timeout",!1,p,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function oa(c,p){const E=new jt,A=new AbortController,L=setTimeout(()=>{A.abort(),k(E,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?k(E,"TestPingServer: ok",!0,p):k(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),k(E,"TestPingServer: error",!1,p)})}function k(c,p,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function w(){this.g=new ln}function W(c){this.i=c.Sb||null,this.h=c.ab||!1}x(W,ss),W.prototype.g=function(){return new Te(this.i,this.h)};function Te(c,p){St.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Te,St),r=Te.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,We(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yt(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,We(this)),this.g&&(this.readyState=3,We(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;dt(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function dt(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?yt(this):We(this),this.readyState==3&&dt(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,yt(this))},r.Na=function(c){this.g&&(this.response=c,yt(this))},r.ga=function(){this.g&&yt(this)};function yt(c){c.readyState=4,c.l=null,c.j=null,c.B=null,We(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=p.next();return c.join(`\r
`)};function We(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Te.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function wt(c){let p="";return Le(c,function(E,A){p+=A,p+=":",p+=E,p+=`\r
`}),p}function di(c,p,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=wt(E),typeof c=="string"?E!=null&&xi(E):nt(c,p,E))}function Pe(c){St.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Pe,St);var Je=/^https?$/i,ro=["POST","PUT"];r=Pe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Er.g(),this.g.onreadystatechange=j(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(H){vs(this,H);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())E.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(ro,p,void 0)>=0)||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of E)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){vs(this,H)}};function vs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,dl(c),Ar(c)}function dl(c){c.A||(c.A=!0,It(c,"complete"),It(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,It(this,"complete"),It(this,"abort"),Ar(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ar(this,!0)),Pe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},r.Xa=function(){_s(this)};function _s(c){if(c.h&&typeof u<"u"){if(c.v&&Ci(c)==4)setTimeout(c.Ca.bind(c),0);else if(It(c,"readystatechange"),Ci(c)==4){c.h=!1;try{const H=c.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var A;if(A=H===0){let ie=String(c.D).match(ds)[1]||null;!ie&&d.self&&d.self.location&&(ie=d.self.location.protocol.slice(0,-1)),A=!Je.test(ie?ie.toLowerCase():"")}E=A}if(E)It(c,"complete"),It(c,"success");else{c.o=6;try{var L=Ci(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",dl(c)}}finally{Ar(c)}}}}function Ar(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,p||It(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ci(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Ci(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),as(p)}};function hn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wr(c){const p={};c=(c.g&&Ci(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var E=ls(c[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const H=p[L]||[];p[L]=H,H.push(E)}Ze(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(c,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||p}function la(c){this.za=0,this.i=[],this.j=new jt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,c),this.Za=Xi("retryDelaySeedMs",1e4,c),this.Ta=Xi("forwardChannelMaxRetries",2,c),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new us(c&&c.concurrentRequestLimit),this.Ba=new w,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=la.prototype,r.ka=8,r.I=1,r.connect=function(c,p,E,A){At(0),this.W=c,this.H=p||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Bu(this,null,this.W),$i(this)};function fl(c){if(ao(c),c.I==3){var p=c.V++,E=Vt(c.J);if(nt(E,"SID",c.M),nt(E,"RID",p),nt(E,"TYPE","terminate"),Es(c,E),p=new Jn(c,c.j,p),p.M=2,p.A=Tr(Vt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=p.A,E=!0),E||(p.g=qu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Nn(p)}zu(c)}function ua(c){c.g&&(pl(c),c.g.cancel(),c.g=null)}function ao(c){ua(c),c.v&&(d.clearTimeout(c.v),c.v=null),oo(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function $i(c){if(!cs(c.h)&&!c.m){c.m=!0;var p=c.Ea;Ae||R(),Ve||(Ae(),Ve=!0),I.add(p,c),c.D=0}}function so(c,p){return ui(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Mn(_(c.Ea,c,p),Lu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Jn(this,this.j,c);let H=this.o;if(this.U&&(H?(H=V(H),re(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Vu(this,L,p),E=Vt(this.J),nt(E,"RID",c),nt(E,"CVER",22),this.G&&nt(E,"X-HTTP-Session-Id",this.G),Es(this,E),H&&(this.R?p="headers="+xi(wt(H))+"&"+p:this.u&&di(E,this.u,H)),hs(this.h,L),this.Ra&&nt(E,"TYPE","init"),this.S?(nt(E,"$req",p),nt(E,"SID","null"),L.U=!0,Zn(L,E,null)):Zn(L,E,p),this.I=2}}else this.I==3&&(c?ml(this,c):this.i.length==0||cs(this.h)||ml(this))};function ml(c,p){var E;p?E=p.l:E=c.V++;const A=Vt(c.J);nt(A,"SID",c.M),nt(A,"RID",E),nt(A,"AID",c.K),Es(c,A),c.u&&c.o&&di(A,c.u,c.o),E=new Jn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Vu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),hs(c.h,E),Zn(E,A,p)}function Es(c,p){c.H&&Le(c.H,function(E,A){nt(p,A,E)}),c.l&&Le({},function(E,A){nt(p,A,E)})}function Vu(c,p,E){E=Math.min(c.i.length,E);const A=c.l?_(c.l.Ka,c.l,c):null;e:{var L=c.i;let Oe=-1;for(;;){const qt=["count="+E];Oe==-1?E>0?(Oe=L[0].g,qt.push("ofs="+Oe)):Oe=0:qt.push("ofs="+Oe);let it=!0;for(let xt=0;xt<E;xt++){var H=L[xt].g;const fi=L[xt].map;if(H-=Oe,H<0)Oe=Math.max(0,L[xt].g-100),it=!1;else try{H="req"+H+"_"||"";try{var ie=fi instanceof Map?fi:Object.entries(fi);for(const[Zi,Ii]of ie){let Ni=Ii;g(Ii)&&(Ni=Qn(Ii)),qt.push(H+Zi+"="+encodeURIComponent(Ni))}}catch(Zi){throw qt.push(H+"type="+encodeURIComponent("_badmap")),Zi}}catch{A&&A(fi)}}if(it){ie=qt.join("&");break e}}ie=void 0}return c=c.i.splice(0,E),p.G=c,ie}function ku(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Ae||R(),Ve||(Ae(),Ve=!0),I.add(p,c),c.A=0}}function bs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Mn(_(c.Da,c),Lu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Mn(_(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),ua(this),Pu(this))};function pl(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function Pu(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=Vt(c.na);nt(p,"RID","rpc"),nt(p,"SID",c.M),nt(p,"AID",c.K),nt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&nt(p,"TO",c.ia),nt(p,"TYPE","xmlhttp"),Es(c,p),c.u&&c.o&&di(p,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Tr(Vt(p)),E.u=null,E.R=!0,Ri(E,c)}r.Va=function(){this.C!=null&&(this.C=null,ua(this),bs(this),At(19))};function oo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Uu(c,p){var E=null;if(c.g==p){oo(c),pl(c),c.g=null;var A=2}else if(ci(c.h,p))E=p.G,na(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;A=_r(),It(A,new un(A,E)),$i(c)}else ku(c);else if(L=p.m,L==3||L==0&&p.X>0||!(A==1&&so(c,p)||A==2&&bs(c)))switch(E&&E.length>0&&(p=c.h,p.i=p.i.concat(E)),L){case 1:Ji(c,5);break;case 4:Ji(c,10);break;case 3:Ji(c,6);break;default:Ji(c,2)}}}function Lu(c,p){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*p}function Ji(c,p){if(c.j.info("Error code "+p),p==2){var E=_(c.bb,c),A=c.Ua;const L=!A;A=new Dn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||kt(A,"https"),Tr(A),L?Pn(A.toString(),E):oa(A.toString(),E)}else At(2);c.I=0,c.l&&c.l.pa(p),zu(c),ao(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const p=br(c.h);(p.length!=0||c.i.length!=0)&&(te(c.ja,p),te(c.ja,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.oa()}}function Bu(c,p,E){var A=E instanceof Dn?Vt(E):new Dn(E);if(A.g!="")p&&(A.g=p+"."+A.g),Gi(A,A.u);else{var L=d.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const H=new Dn(null);A&&kt(H,A),p&&(H.g=p),L&&Gi(H,L),E&&(H.h=E),A=H}return E=c.G,p=c.wa,E&&p&&nt(A,E,p),nt(A,"VER",c.ka),Es(c,A),A}function qu(c,p,E){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new Pe(new W({ab:E})):new Pe(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hu(){}r=Hu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ca(){}ca.prototype.g=function(c,p){return new On(c,p)};function On(c,p){St.call(this),this.g=new la(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new xr(this)}x(On,St),On.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){fl(this.g)},On.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Qn(c),c=E);p.i.push(new Mt(p.Ya++,c)),p.I==3&&$i(p)},On.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,On.Z.N.call(this)};function Fu(c){tn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const E in p){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}x(Fu,tn);function Gu(){En.call(this),this.status=1}x(Gu,En);function xr(c){this.g=c}x(xr,Hu),xr.prototype.ra=function(){It(this.g,"a")},xr.prototype.qa=function(c){It(this.g,new Fu(c))},xr.prototype.pa=function(c){It(this.g,new Gu)},xr.prototype.oa=function(){It(this.g,"b")},ca.prototype.createWebChannel=ca.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,p1=function(){return new ca},m1=function(){return _r()},f1=gt,Nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,uh=ye,ea.COMPLETE="complete",d1=ea,Wr.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",St.prototype.listen=St.prototype.J,nu=Wr,Pe.prototype.listenOnce=Pe.prototype.K,Pe.prototype.getLastError=Pe.prototype.Ha,Pe.prototype.getLastErrorCode=Pe.prototype.ya,Pe.prototype.getStatus=Pe.prototype.ca,Pe.prototype.getResponseJson=Pe.prototype.La,Pe.prototype.getResponseText=Pe.prototype.la,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Fa,h1=Pe}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const n_="@firebase/firestore",i_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Jm("@firebase/firestore");function Lo(){return Ks.logLevel}function me(r,...e){if(Ks.logLevel<=Ge.DEBUG){const n=e.map(lp);Ks.debug(`Firestore (${sl}): ${r}`,...n)}}function Kr(r,...e){if(Ks.logLevel<=Ge.ERROR){const n=e.map(lp);Ks.error(`Firestore (${sl}): ${r}`,...n)}}function Zo(r,...e){if(Ks.logLevel<=Ge.WARN){const n=e.map(lp);Ks.warn(`Firestore (${sl}): ${r}`,...n)}}function lp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,g1(r,a,n)}function g1(r,e,n){let a=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Kr(a),new Error(a)}function at(r,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,r||g1(e,l,a)}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends $r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(xn.UNAUTHENTICATED)))}shutdown(){}}class Hx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Fx{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,n(y)):Promise.resolve();let u=new Ga;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ga,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ga)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(at(typeof a.accessToken=="string",31837,{l:a}),new y1(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class Gx{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qx{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new Gx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class r_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){at(this.o===void 0,3512);const a=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const l=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new r_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(at(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Yx(40);for(let u=0;u<l.length;++u)a.length<20&&l[u]<n&&(a+=e.charAt(l[u]%62))}return a}}function Qe(r,e){return r<e?-1:r>e?1:0}function Dm(r,e){const n=Math.min(r.length,e.length);for(let a=0;a<n;a++){const l=r.charAt(a),u=e.charAt(a);if(l!==u)return fm(l)===fm(u)?Qe(l,u):fm(l)?1:-1}return Qe(r.length,e.length)}const Xx=55296,$x=57343;function fm(r){const e=r.charCodeAt(0);return e>=Xx&&e<=$x}function Wo(r,e,n){return r.length===e.length&&r.every(((a,l)=>n(a,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="__name__";class ar{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Ce(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const u=ar.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Qe(e.length,n.length)}static compareSegments(e,n){const a=ar.isNumericId(e),l=ar.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?ar.extractNumericId(e).compare(ar.extractNumericId(n)):Dm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fa.fromString(e.substring(4,e.length-2))}}class vt extends ar{construct(e,n,a){return new vt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const Jx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends ar{construct(e,n,a){return new yn(e,n,a)}static isValidIdentifier(e){return Jx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a_}static keyField(){return new yn([a_])}static fromServerFormat(e){const n=[];let a="",l=0;const u=()=>{if(a.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(u(),l++)}if(u(),d)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(n)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(vt.fromString(e))}static fromName(e){return new Ee(vt.fromString(e).popFirst(5))}static empty(){return new Ee(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(r,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Zx(r,e,n,a){if(e===!0&&a===!0)throw new de(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function s_(r){if(!Ee.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function o_(r){if(Ee.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function qh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce(12329,{type:typeof r})}function ki(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qh(r);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r,e){const n={typeString:r};return e&&(n.value=e),n}function Cu(r,e){if(!_1(r))throw new de(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){n=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new de(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=-62135596800,u_=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*u_);return new Tt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<l_)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/u_}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,Tt._jsonSchema))return new Tt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-l_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tt._jsonSchemaVersion="firestore/timestamp/1.0",Tt._jsonSchema={type:en("string",Tt._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Tt(0,0))}static max(){return new Ie(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function Wx(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(a===1e9?new Tt(n+1,0):new Tt(n,a));return new Xa(l,Ee.empty(),e)}function eR(r){return new Xa(r.readTime,r.key,pu)}class Xa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Xa(Ie.min(),Ee.empty(),pu)}static max(){return new Xa(Ie.max(),Ee.empty(),pu)}}function tR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(r.documentKey,e.documentKey),n!==0?n:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==nR)throw r;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((a,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,a)=>{n(e)}))}static reject(e){return new Z(((n,a)=>{a(e)}))}static waitFor(e){return new Z(((n,a)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&n()}),(y=>a(y)))})),d=!0,u===l&&n()}))}static or(e){let n=Z.resolve(!1);for(const a of e)n=n.next((l=>l?Z.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,u)=>{a.push(n.call(this,l,u))})),this.waitFor(a)}static mapArray(e,n){return new Z(((a,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const _=y;n(e[_]).next((S=>{d[_]=S,++g,g===u&&a(d)}),(S=>l(S)))}}))}static doWhile(e,n){return new Z(((a,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):a()};u()}))}}function rR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=-1;function Fh(r){return r==null}function wh(r){return r===0&&1/r==-1/0}function aR(r){return typeof r=="number"&&Number.isInteger(r)&&!wh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="";function sR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=c_(e)),e=oR(r.get(n),e);return c_(e)}function oR(r,e){let n=e;const a=r.length;for(let l=0;l<a;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case E1:n+="";break;default:n+=u}}return n}function c_(r){return r+E1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ns(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function b1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,n){this.comparator=e,this.root=n||gn.EMPTY}insert(e,n){return new Dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,n,a,l,u){this.key=e,this.value=n,this.color=a??gn.RED,this.left=l??gn.EMPTY,this.right=u??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,u){return new gn(e??this.key,n??this.value,a??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const u=a(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,a),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return gn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,a,l,u){return this}insert(e,n,a){return new gn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d_(this.data.getIterator())}getIteratorFrom(e){return new d_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new an(this.comparator);return n.data=e,n}}class d_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new si([])}unionWith(e){let n=new an(yn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new T1("Invalid base64 string: "+u):u}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const lR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(r){if(at(!!r,39018),typeof r=="string"){let e=0;const n=lR.exec(r);if(at(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Qt(r.seconds),nanos:Qt(r.nanos)}}function Qt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ja(r){return typeof r=="string"?vn.fromBase64String(r):vn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="server_timestamp",A1="__type__",w1="__previous_value__",x1="__local_write_time__";function hp(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[A1])==null?void 0:a.stringValue)===S1}function Gh(r){const e=r.mapValue.fields[w1];return hp(e)?Gh(e):e}function gu(r){const e=$a(r.mapValue.fields[x1].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n,a,l,u,d,g,y,_,S){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const xh="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||xh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="__type__",cR="__max__",Wc={mapValue:{}},C1="__vector__",Rh="value";function Za(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?hp(r)?4:dR(r)?9007199254740991:hR(r)?10:11:Ce(28295,{value:r})}function dr(r,e){if(r===e)return!0;const n=Za(r);if(n!==Za(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return gu(r).isEqual(gu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=$a(l.timestampValue),g=$a(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return Ja(l.bytesValue).isEqual(Ja(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return Qt(l.geoPointValue.latitude)===Qt(u.geoPointValue.latitude)&&Qt(l.geoPointValue.longitude)===Qt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Qt(l.integerValue)===Qt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Qt(l.doubleValue),g=Qt(u.doubleValue);return d===g?wh(d)===wh(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Wo(r.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(h_(d)!==h_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!dr(d[y],g[y])))return!1;return!0})(r,e);default:return Ce(52216,{left:r})}}function vu(r,e){return(r.values||[]).find((n=>dr(n,e)))!==void 0}function el(r,e){if(r===e)return 0;const n=Za(r),a=Za(e);if(n!==a)return Qe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Qt(u.integerValue||u.doubleValue),y=Qt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return f_(r.timestampValue,e.timestampValue);case 4:return f_(gu(r),gu(e));case 5:return Dm(r.stringValue,e.stringValue);case 6:return(function(u,d){const g=Ja(u),y=Ja(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const S=Qe(g[_],y[_]);if(S!==0)return S}return Qe(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=Qe(Qt(u.latitude),Qt(d.latitude));return g!==0?g:Qe(Qt(u.longitude),Qt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return m_(r.arrayValue,e.arrayValue);case 10:return(function(u,d){var j,G,te,ne;const g=u.fields||{},y=d.fields||{},_=(j=g[Rh])==null?void 0:j.arrayValue,S=(G=y[Rh])==null?void 0:G.arrayValue,x=Qe(((te=_==null?void 0:_.values)==null?void 0:te.length)||0,((ne=S==null?void 0:S.values)==null?void 0:ne.length)||0);return x!==0?x:m_(_,S)})(r.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Wc.mapValue&&d===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(d===Wc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let x=0;x<y.length&&x<S.length;++x){const j=Dm(y[x],S[x]);if(j!==0)return j;const G=el(g[y[x]],_[S[x]]);if(G!==0)return G}return Qe(y.length,S.length)})(r.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function f_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const n=$a(r),a=$a(e),l=Qe(n.seconds,a.seconds);return l!==0?l:Qe(n.nanos,a.nanos)}function m_(r,e){const n=r.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const u=el(n[l],a[l]);if(u)return u}return Qe(n.length,a.length)}function tl(r){return Om(r)}function Om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=$a(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ja(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ee.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",l=!0;for(const u of n.values||[])l?l=!1:a+=",",a+=Om(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of a)u?u=!1:l+=",",l+=`${d}:${Om(n.fields[d])}`;return l+"}"})(r.mapValue):Ce(61005,{value:r})}function ch(r){switch(Za(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(r);return e?16+ch(e):16;case 5:return 2*r.stringValue.length;case 6:return Ja(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,u)=>l+ch(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ns(a.fields,((u,d)=>{l+=u.length+ch(d)})),l})(r.mapValue);default:throw Ce(13486,{value:r})}}function p_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jm(r){return!!r&&"integerValue"in r}function dp(r){return!!r&&"arrayValue"in r}function g_(r){return!!r&&"nullValue"in r}function y_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hh(r){return!!r&&"mapValue"in r}function hR(r){var n,a;return((a=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[R1])==null?void 0:a.stringValue)===C1}function uu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ns(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=uu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(r.arrayValue.values[n]);return e}return{...r}}function dR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=yn.emptyPath(),a={},l=[];e.forEach(((d,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,a,l),a={},l=[],n=g.popLast()}d?a[g.lastSegment()]=uu(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,l)}delete(e){const n=this.field(e.popLast());hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];hh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){ns(n,((l,u)=>e[l]=u));for(const l of a)delete e[l]}clone(){return new Fn(uu(this.value))}}function I1(r){const e=[];return ns(r.fields,((n,a)=>{const l=new yn([n]);if(hh(a)){const u=I1(a.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,n,a,l,u,d,g){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Rn(e,0,Ie.min(),Ie.min(),Ie.min(),Fn.empty(),0)}static newFoundDocument(e,n,a,l){return new Rn(e,1,n,Ie.min(),a,l,0)}static newNoDocument(e,n){return new Rn(e,2,n,Ie.min(),Ie.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new Rn(e,3,n,Ie.min(),Ie.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function v_(r,e,n){let a=0;for(let l=0;l<r.position.length;l++){const u=e[l],d=r.position[l];if(u.field.isKeyField()?a=Ee.comparator(Ee.fromName(d.referenceValue),n.key):a=el(d,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function __(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!dr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function fR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{}class Wt extends N1{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new pR(e,n,a):n==="array-contains"?new vR(e,a):n==="in"?new _R(e,a):n==="not-in"?new ER(e,a):n==="array-contains-any"?new bR(e,a):new Wt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new gR(e,a):new yR(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(el(n,this.value)):n!==null&&Za(this.value)===Za(n)&&this.matchesComparison(el(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends N1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return D1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function D1(r){return r.op==="and"}function O1(r){return mR(r)&&D1(r)}function mR(r){for(const e of r.filters)if(e instanceof Li)return!1;return!0}function Mm(r){if(r instanceof Wt)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(O1(r))return r.filters.map((e=>Mm(e))).join(",");{const e=r.filters.map((n=>Mm(n))).join(",");return`${r.op}(${e})`}}function j1(r,e){return r instanceof Wt?(function(a,l){return l instanceof Wt&&a.op===l.op&&a.field.isEqual(l.field)&&dr(a.value,l.value)})(r,e):r instanceof Li?(function(a,l){return l instanceof Li&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((u,d,g)=>u&&j1(d,l.filters[g])),!0):!1})(r,e):void Ce(19439)}function M1(r){return r instanceof Wt?(function(n){return`${n.field.canonicalString()} ${n.op} ${tl(n.value)}`})(r):r instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(M1).join(" ,")+"}"})(r):"Filter"}class pR extends Wt{constructor(e,n,a){super(e,n,a),this.key=Ee.fromName(a.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class gR extends Wt{constructor(e,n){super(e,"in",n),this.keys=V1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class yR extends Wt{constructor(e,n){super(e,"not-in",n),this.keys=V1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function V1(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>Ee.fromName(a.referenceValue)))}class vR extends Wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dp(n)&&vu(n.arrayValue,this.value)}}class _R extends Wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class ER extends Wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vu(this.value.arrayValue,n)}}class bR extends Wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>vu(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n=null,a=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function E_(r,e=null,n=[],a=[],l=null,u=null,d=null){return new TR(r,e,n,a,l,u,d)}function fp(r){const e=De(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Mm(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>tl(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>tl(a))).join(",")),e.Te=n}return e.Te}function mp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!fR(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!j1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!__(r.startAt,e.startAt)&&__(r.endAt,e.endAt)}function Vm(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n=null,a=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function SR(r,e,n,a,l,u,d,g){return new Iu(r,e,n,a,l,u,d,g)}function Qh(r){return new Iu(r)}function b_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function k1(r){return r.collectionGroup!==null}function cu(r){const e=De(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new an(yn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ih(u,a))})),n.has(yn.keyField().canonicalString())||e.Ie.push(new Ih(yn.keyField(),a))}return e.Ie}function lr(r){const e=De(r);return e.Ee||(e.Ee=AR(e,cu(r))),e.Ee}function AR(r,e){if(r.limitType==="F")return E_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Ih(l.field,u)}));const n=r.endAt?new Ch(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Ch(r.startAt.position,r.startAt.inclusive):null;return E_(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function km(r,e){const n=r.filters.concat([e]);return new Iu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Pm(r,e,n){return new Iu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Kh(r,e){return mp(lr(r),lr(e))&&r.limitType===e.limitType}function P1(r){return`${fp(lr(r))}|lt:${r.limitType}`}function zo(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>M1(l))).join(", ")}]`),Fh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>tl(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>tl(l))).join(",")),`Target(${a})`})(lr(r))}; limitType=${r.limitType})`}function Yh(r,e){return e.isFoundDocument()&&(function(a,l){const u=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):Ee.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,e)&&(function(a,l){for(const u of cu(a))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const u of a.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,g,y){const _=v_(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,cu(a),l)||a.endAt&&!(function(d,g,y){const _=v_(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,cu(a),l))})(r,e)}function wR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function U1(r){return(e,n)=>{let a=!1;for(const l of cu(r)){const u=xR(l,e,n);if(u!==0)return u;a=a||l.field.isKeyField()}return 0}}function xR(r,e,n){const a=r.field.isKeyField()?Ee.comparator(e.key,n.key):(function(u,d,g){const y=d.data.field(u),_=g.data.field(u);return y!==null&&_!==null?el(y,_):Ce(42886)})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ce(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,u]of a)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,((n,a)=>{for(const[l,u]of a)e(l,u)}))}isEmpty(){return b1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Dt(Ee.comparator);function Yr(){return RR}const L1=new Dt(Ee.comparator);function iu(...r){let e=L1;for(const n of r)e=e.insert(n.key,n);return e}function z1(r){let e=L1;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Bs(){return hu()}function B1(){return hu()}function hu(){return new $s((r=>r.toString()),((r,e)=>r.isEqual(e)))}const CR=new Dt(Ee.comparator),IR=new an(Ee.comparator);function Ke(...r){let e=IR;for(const n of r)e=e.add(n);return e}const NR=new an(Qe);function DR(){return NR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function q1(r){return{integerValue:""+r}}function H1(r,e){return aR(e)?q1(e):pp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function OR(r,e,n){return r instanceof Nh?(function(l,u){const d={fields:{[A1]:{stringValue:S1},[x1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&hp(u)&&(u=Gh(u)),u&&(d.fields[w1]=u),{mapValue:d}})(n,e):r instanceof _u?G1(r,e):r instanceof Eu?Q1(r,e):(function(l,u){const d=F1(l,u),g=T_(d)+T_(l.Ae);return jm(d)&&jm(l.Ae)?q1(g):pp(l.serializer,g)})(r,e)}function jR(r,e,n){return r instanceof _u?G1(r,e):r instanceof Eu?Q1(r,e):n}function F1(r,e){return r instanceof bu?(function(a){return jm(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Nh extends Xh{}class _u extends Xh{constructor(e){super(),this.elements=e}}function G1(r,e){const n=K1(e);for(const a of r.elements)n.some((l=>dr(l,a)))||n.push(a);return{arrayValue:{values:n}}}class Eu extends Xh{constructor(e){super(),this.elements=e}}function Q1(r,e){let n=K1(e);for(const a of r.elements)n=n.filter((l=>!dr(l,a)));return{arrayValue:{values:n}}}class bu extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function T_(r){return Qt(r.integerValue||r.doubleValue)}function K1(r){return dp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.field=e,this.transform=n}}function VR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof _u&&l instanceof _u||a instanceof Eu&&l instanceof Eu?Wo(a.elements,l.elements,dr):a instanceof bu&&l instanceof bu?dr(a.Ae,l.Ae):a instanceof Nh&&l instanceof Nh})(r.transform,e.transform)}class kR{constructor(e,n){this.version=e,this.transformResults=n}}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function Y1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gp(r.key,Pi.none()):new Nu(r.key,r.data,Pi.none());{const n=r.data,a=Fn.empty();let l=new an(yn.comparator);for(let u of e.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?a.delete(u):a.set(u,d),l=l.add(u)}return new is(r.key,a,new si(l.toArray()),Pi.none())}}function PR(r,e,n){r instanceof Nu?(function(l,u,d){const g=l.value.clone(),y=A_(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,n):r instanceof is?(function(l,u,d){if(!dh(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=A_(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(X1(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function du(r,e,n,a){return r instanceof Nu?(function(u,d,g,y){if(!dh(u.precondition,d))return g;const _=u.value.clone(),S=w_(u.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,n,a):r instanceof is?(function(u,d,g,y){if(!dh(u.precondition,d))return g;const _=w_(u.fieldTransforms,y,d),S=d.data;return S.setAll(X1(u)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(r,e,n,a):(function(u,d,g){return dh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,n)}function UR(r,e){let n=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),u=F1(a.transform,l||null);u!=null&&(n===null&&(n=Fn.empty()),n.set(a.field,u))}return n||null}function S_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Wo(a,l,((u,d)=>VR(u,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Nu extends $h{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class is extends $h{constructor(e,n,a,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function X1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function A_(r,e,n){const a=new Map;at(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,g=e.data.field(u.field);a.set(u.field,jR(d,g,n[l]))}return a}function w_(r,e,n){const a=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);a.set(l.field,OR(u,d,e))}return a}class gp extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LR extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&PR(u,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=du(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=du(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=B1();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=n.has(l.key)?null:g;const y=Y1(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ke())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,((n,a)=>S_(n,a)))&&Wo(this.baseMutations,e.baseMutations,((n,a)=>S_(n,a)))}}class yp{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){at(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return CR})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,a[d].version);return new yp(e,n,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,$e;function HR(r){switch(r){case J.OK:return Ce(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ce(15467,{code:r})}}function $1(r){if(r===void 0)return Kr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Zt.OK:return J.OK;case Zt.CANCELLED:return J.CANCELLED;case Zt.UNKNOWN:return J.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return J.INTERNAL;case Zt.UNAVAILABLE:return J.UNAVAILABLE;case Zt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Zt.NOT_FOUND:return J.NOT_FOUND;case Zt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Zt.ABORTED:return J.ABORTED;case Zt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Zt.DATA_LOSS:return J.DATA_LOSS;default:return Ce(39323,{code:r})}}($e=Zt||(Zt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new Fa([4294967295,4294967295],0);function x_(r){const e=FR().encode(r),n=new c1;return n.update(e),new Uint8Array(n.digest())}function R_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fa([n,a],0),new Fa([l,u],0)]}class vp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ru(`Invalid padding: ${n}`);if(a<0)throw new ru(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new ru(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fa.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(Fa.fromNumber(a)));return l.compare(GR)===1&&(l=new Fa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=x_(e),[a,l]=R_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);if(!this.we(d))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new vp(u,l,n);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const n=x_(e),[a,l]=R_(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(a,l,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,a,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Jh(Ie.min(),l,new Dt(Qe),Yr(),Ke())}}class Du{constructor(e,n,a,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Du(a,n,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,a,l){this.be=e,this.removedTargetIds=n,this.key=a,this.De=l}}class J1{constructor(e,n){this.targetId=e,this.Ce=n}}class Z1{constructor(e,n,a=vn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class C_{constructor(){this.ve=0,this.Fe=I_(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ke(),n=Ke(),a=Ke();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Ce(38017,{changeType:u})}})),new Du(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=I_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Yr(),this.Je=eh(),this.He=eh(),this.Ye=new Dt(Qe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Vm(u))if(a===0){const d=new Ee(u.path);this.et(n,d,Rn.newNoDocument(d,Ie.min()))}else at(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:u=0}=n;let d,g;try{d=Ja(a).toUint8Array()}catch(y){if(y instanceof T1)return Zo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new vp(d,l,u)}catch(y){return Zo(y instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Vm(g.target)){const y=new Ee(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Rn.newNoDocument(y,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let a=Ke();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Jh(e,n,this.Ye,this.je,a);return this.je=Yr(),this.Je=eh(),this.He=eh(),this.Ye=new Dt(Qe),l}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new C_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new an(Qe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new an(Qe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new C_),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function eh(){return new Dt(Ee.comparator)}function I_(){return new Dt(Ee.comparator)}const KR={asc:"ASCENDING",desc:"DESCENDING"},YR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XR={and:"AND",or:"OR"};class $R{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(r,e){return r.useProto3Json||Fh(e)?e:{value:e}}function Dh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function JR(r,e){return Dh(r,e.toTimestamp())}function ur(r){return at(!!r,49232),Ie.fromTimestamp((function(n){const a=$a(n);return new Tt(a.seconds,a.nanos)})(r))}function _p(r,e){return Lm(r,e).canonicalString()}function Lm(r,e){const n=(function(l){return new vt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function eE(r){const e=vt.fromString(r);return at(aE(e),10190,{key:e.toString()}),e}function zm(r,e){return _p(r.databaseId,e.path)}function mm(r,e){const n=eE(e);if(n.get(1)!==r.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ee(nE(n))}function tE(r,e){return _p(r.databaseId,e)}function ZR(r){const e=eE(r);return e.length===4?vt.emptyPath():nE(e)}function Bm(r){return new vt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nE(r){return at(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function N_(r,e,n){return{name:zm(r,e),fields:n.value.mapValue.fields}}function WR(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ce(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(_,S){return _.useProto3Json?(at(S===void 0||typeof S=="string",58123),vn.fromBase64String(S||"")):(at(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),vn.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?J.UNKNOWN:$1(_.code);return new de(S,_.message||"")})(d);n=new Z1(a,l,u,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=mm(r,a.document.name),u=ur(a.document.updateTime),d=a.document.createTime?ur(a.document.createTime):Ie.min(),g=new Fn({mapValue:{fields:a.document.fields}}),y=Rn.newFoundDocument(l,u,d,g),_=a.targetIds||[],S=a.removedTargetIds||[];n=new fh(_,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=mm(r,a.document),u=a.readTime?ur(a.readTime):Ie.min(),d=Rn.newNoDocument(l,u),g=a.removedTargetIds||[];n=new fh([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=mm(r,a.document),u=a.removedTargetIds||[];n=new fh([],u,l,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:u}=a,d=new qR(l,u),g=a.targetId;n=new J1(g,d)}}return n}function eC(r,e){let n;if(e instanceof Nu)n={update:N_(r,e.key,e.value)};else if(e instanceof gp)n={delete:zm(r,e.key)};else if(e instanceof is)n={update:N_(r,e.key,e.data),updateMask:uC(e.fieldMask)};else{if(!(e instanceof LR))return Ce(16599,{Vt:e.type});n={verify:zm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,d){const g=d.transform;if(g instanceof Nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof _u)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Eu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof bu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ce(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:JR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce(27497)})(r,e.precondition)),n}function tC(r,e){return r&&r.length>0?(at(e!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?ur(l.updateTime):ur(u);return d.isEqual(Ie.min())&&(d=ur(u)),new kR(d,l.transformResults||[])})(n,e)))):[]}function nC(r,e){return{documents:[tE(r,e.path)]}}function iC(r,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=tE(r,l);const u=(function(_){if(_.length!==0)return rE(Li.create(_,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(_){if(_.length!==0)return _.map((S=>(function(j){return{field:Bo(j.field),direction:sC(j.dir)}})(S)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=Um(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:l}}function rC(r){let e=ZR(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){at(a===1,65062);const S=n.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let u=[];n.where&&(u=(function(x){const j=iE(x);return j instanceof Li&&O1(j)?j.getFilters():[j]})(n.where));let d=[];n.orderBy&&(d=(function(x){return x.map((j=>(function(te){return new Ih(qo(te.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(j)))})(n.orderBy));let g=null;n.limit&&(g=(function(x){let j;return j=typeof x=="object"?x.value:x,Fh(j)?null:j})(n.limit));let y=null;n.startAt&&(y=(function(x){const j=!!x.before,G=x.values||[];return new Ch(G,j)})(n.startAt));let _=null;return n.endAt&&(_=(function(x){const j=!x.before,G=x.values||[];return new Ch(G,j)})(n.endAt)),SR(e,l,d,u,g,"F",y,_)}function aC(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function iE(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=qo(n.unaryFilter.field);return Wt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=qo(n.unaryFilter.field);return Wt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=qo(n.unaryFilter.field);return Wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qo(n.unaryFilter.field);return Wt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Wt.create(qo(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((a=>iE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(r):Ce(30097,{filter:r})}function sC(r){return KR[r]}function oC(r){return YR[r]}function lC(r){return XR[r]}function Bo(r){return{fieldPath:r.canonicalString()}}function qo(r){return yn.fromServerFormat(r.fieldPath)}function rE(r){return r instanceof Wt?(function(n){if(n.op==="=="){if(y_(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(g_(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y_(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(g_(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:oC(n.op),value:n.value}}})(r):r instanceof Li?(function(n){const a=n.getFilters().map((l=>rE(l)));return a.length===1?a[0]:{compositeFilter:{op:lC(n.op),filters:a}}})(r):Ce(54877,{filter:r})}function uC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function aE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,a,l,u=Ie.min(),d=Ie.min(),g=vn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.yt=e}}function hC(r){const e=rC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.Cn=new fC}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Xa.min())}updateCollectionGroup(e,n,a){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class fC{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new an(vt.comparator),u=!l.has(a);return this.index[n]=l.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new an(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sE=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(sE,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LruGarbageCollector",mC=1048576;function j_([r,e],[n,a]){const l=Qe(r,n);return l===0?Qe(e,a):l}class pC{constructor(e){this.Ir=e,this.buffer=new an(j_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();j_(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gC{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(O_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?me(O_,"Ignoring IndexedDB error during garbage collection: ",n):await ol(n)}await this.Vr(3e5)}))}}class yC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Hh.ce);const a=new pC(n);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(D_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),D_):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,l,u,d,g,y,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,d=Date.now(),this.nthSequenceNumber(e,l)))).next((x=>(a=x,g=Date.now(),this.removeTargets(e,a,n)))).next((x=>(u=x,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(_=Date.now(),Lo()<=Ge.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${x} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:x}))))}}function vC(r,e){return new yC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(){this.changes=new $s((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?Z.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&du(a.mutation,l,si.empty(),Tt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Ke()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Ke()){const l=Bs();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((u=>{let d=iu();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const a=Bs();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Ke())))}populateOverlays(e,n,a){const l=[];return a.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{n.set(d,g)}))}))}computeViews(e,n,a,l){let u=Yr();const d=hu(),g=(function(){return hu()})();return n.forEach(((y,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof is)?u=u.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),du(S.mutation,_,S.mutation.getFieldMask(),Tt.now())):d.set(_.key,si.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((_,S)=>d.set(_,S))),n.forEach(((_,S)=>g.set(_,new EC(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,n){const a=hu();let l=new Dt(((d,g)=>d-g)),u=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let S=a.get(y)||si.empty();S=g.applyToLocalView(_,S),a.set(y,S);const x=(l.get(g.batchId)||Ke()).add(y);l=l.insert(g.batchId,x)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,S=y.value,x=B1();S.forEach((j=>{if(!u.has(j)){const G=Y1(n.get(j),a.get(j));G!==null&&x.set(j,G),u=u.add(j)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,x))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return(function(d){return Ee.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-u.size):Z.resolve(Bs());let g=pu,y=u;return d.next((_=>Z.forEach(_,((S,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),u.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((j=>{y=y.insert(S,j)}))))).next((()=>this.populateOverlays(e,_,u))).next((()=>this.computeViews(e,y,_,Ke()))).next((S=>({batchId:g,changes:z1(S)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((a=>{let l=iu();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const u=n.collectionGroup;let d=iu();return this.indexManager.getCollectionParents(e,u).next((g=>Z.forEach(g,(y=>{const _=(function(x,j){return new Iu(j,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((S=>{S.forEach(((x,j)=>{d=d.insert(x,j)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,l)))).next((d=>{u.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Rn.newInvalidDocument(S)))}));let g=iu();return d.forEach(((y,_)=>{const S=u.get(y);S!==void 0&&du(S.mutation,_,si.empty(),Tt.now()),Yh(n,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:ur(l.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:hC(l.bundledQuery),readTime:ur(l.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.overlays=new Dt(Ee.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Bs();return Z.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&a.set(l,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,u)=>{this.St(e,n,u)})),Z.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,n,a){const l=Bs(),u=n.length+1,d=new Ee(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&y.largestBatchId>a&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let u=new Dt(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>a){let S=u.get(_.largestBatchId);S===null&&(S=Bs(),u=u.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Bs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=l)););return Z.resolve(g)}St(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new BR(n,a));let u=this.qr.get(n);u===void 0&&(u=Ke(),this.qr.set(n,u)),this.qr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.Qr=new an(on.$r),this.Ur=new an(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new on(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new Ee(new vt([])),a=new on(n,e),l=new on(n,e+1),u=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new vt([])),a=new on(n,e),l=new on(n,e+1);let u=Ke();return this.Ur.forEachInRange([a,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new on(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||Qe(e.Yr,n.Yr)}static Kr(e,n){return Qe(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new an(on.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zR(u,n,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new on(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.ei(a),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?cp:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new on(n,0),l=new on(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new an(Qe);return n.forEach((l=>{const u=new on(l,0),d=new on(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let u=a;Ee.isDocumentKey(u)||(u=u.child(""));const d=new on(new Ee(u),0);let g=new an(Qe);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){at(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(n.mutations,(l=>{const u=new on(l.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new on(n,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.ri=e,this.docs=(function(){return new Dt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),u=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return Z.resolve(a?a.document.mutableCopy():Rn.newInvalidDocument(n))}getEntries(e,n){let a=Yr();return n.forEach((l=>{const u=this.docs.get(l);a=a.insert(l,u?u.document.mutableCopy():Rn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let u=Yr();const d=n.path,g=new Ee(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||tR(eR(S),a)<=0||(l.has(S.key)||Yh(n,S))&&(u=u.insert(S.key,S.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,a,l){Ce(9500)}ii(e,n){return Z.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new RC(this)}getSize(e){return Z.resolve(this.size)}}class RC extends _C{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.persistence=e,this.si=new $s((n=>fp(n)),mp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Ep,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,n){return this.si.forEach(((a,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,a){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=n&&a.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return Z.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),Z.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return Z.resolve(a)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hh(0),this.li=!1,this.li=!0,this.hi=new AC,this.referenceDelegate=e(this),this.Pi=new CC(this),this.indexManager=new dC,this.remoteDocumentCache=(function(l){return new xC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new cC(n),this.Ii=new TC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new wC(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){me("MemoryPersistence","Starting transaction:",e);const l=new IC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class IC extends iR{constructor(e){super(),this.currentSequenceNumber=e}}class bp{constructor(e){this.persistence=e,this.Ri=new Ep,this.Vi=null}static mi(e){return new bp(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=Ee.fromPath(a);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Ie.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.pi=new $s((a=>sR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=vC(this,n)}static mi(e,n){return new Oh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((a,l)=>this.br(e,a,l).next((u=>u?Z.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((g=>{g||(a++,u.removeEntry(d,Ie.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}br(e,n,a){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=l}static As(e,n){let a=Ke(),l=Ke();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Tp(e,n.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oS()?8:rR(Cn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,l,a).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new NC;return this.Ss(e,n,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,d,g.size)}))})).next((()=>u.result))}bs(e,n,a,l){return a.documentReadCount<this.fs?(Lo()<=Ge.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Lo()<=Ge.DEBUG&&me("QueryEngine","Query:",zo(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Lo()<=Ge.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(n))):Z.resolve())}ys(e,n){if(b_(n))return Z.resolve(null);let a=lr(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Pm(n,null,"F"),a=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const d=Ke(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const _=this.Ds(n,g);return this.Cs(n,_,d,y.readTime)?this.ys(e,Pm(n,null,"F")):this.vs(e,_,n,y)}))))})))))}ws(e,n,a,l){return b_(n)||l.isEqual(Ie.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,a,l)?Z.resolve(null):(Lo()<=Ge.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),zo(n)),this.vs(e,d,n,Wx(l,pu)).next((g=>g)))}))}Ds(e,n){let a=new an(U1(e));return n.forEach(((l,u)=>{Yh(e,u)&&(a=a.add(u))})),a}Cs(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,a){return Lo()<=Ge.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",zo(n)),this.ps.getDocumentsMatchingQuery(e,n,Xa.min(),a)}vs(e,n,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="LocalStore",OC=3e8;class jC{constructor(e,n,a,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new Dt(Qe),this.xs=new $s((u=>fp(u)),mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function MC(r,e,n,a){return new jC(r,e,n,a)}async function lE(r,e){const n=De(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const d=[],g=[];let y=Ke();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of u){g.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return n.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function VC(r,e){const n=De(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,S){const x=_.batch,j=x.keys();let G=Z.resolve();return j.forEach((te=>{G=G.next((()=>S.getEntry(y,te))).next((ne=>{const ee=_.docVersions.get(te);at(ee!==null,48541),ne.version.compareTo(ee)<0&&(x.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),S.addEntry(ne)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(y,x)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Ke();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function uE(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function kC(r,e){const n=De(r),a=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((S,x)=>{const j=l.get(x);if(!j)return;g.push(n.Pi.removeMatchingKeys(u,S.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(u,S.addedDocuments,x))));let G=j.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?G=G.withResumeToken(vn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,a)),l=l.insert(x,G),(function(ne,ee,ae){return ne.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=OC?!0:ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0})(j,G,S)&&g.push(n.Pi.updateTargetData(u,G))}));let y=Yr(),_=Ke();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,S))})),g.push(PC(u,d,e.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!a.isEqual(Ie.min())){const S=n.Pi.getLastRemoteSnapshotVersion(u).next((x=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));g.push(S)}return Z.waitFor(g).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,y,_))).next((()=>y))})).then((u=>(n.Ms=l,u)))}function PC(r,e,n){let a=Ke(),l=Ke();return n.forEach((u=>a=a.add(u))),e.getEntries(r,a).next((u=>{let d=Yr();return n.forEach(((g,y)=>{const _=u.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Ie.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):me(Sp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function UC(r,e){const n=De(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=cp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function LC(r,e){const n=De(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,e).next((u=>u?(l=u,Z.resolve(l)):n.Pi.allocateTargetId(a).next((d=>(l=new za(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function qm(r,e,n){const a=De(r),l=a.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ll(d))throw d;me(Sp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function M_(r,e,n){const a=De(r);let l=Ie.min(),u=Ke();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const x=De(y),j=x.xs.get(S);return j!==void 0?Z.resolve(x.Ms.get(j)):x.Pi.getTargetData(_,S)})(a,d,lr(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,n?l:Ie.min(),n?u:Ke()))).next((g=>(zC(a,wR(e),g),{documents:g,Qs:u})))))}function zC(r,e,n){let a=r.Os.get(e)||Ie.min();n.forEach(((l,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(e,a)}class V_{constructor(){this.activeTargetIds=DR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BC{constructor(){this.Mo=new V_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V_,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="ConnectivityMonitor";class P_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(k_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(k_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function Hm(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="RestConnection",HC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===xh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,n,a,l,u){const d=Hm(),g=this.zo(e,n.toUriEncodedString());me(pm,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:_}=new URL(g),S=rl(_);return this.Jo(e,g,y,a,S).then((x=>(me(pm,`Received RPC '${e}' ${d}: `,x),x)),(x=>{throw Zo(pm,`RPC '${e}' ${d} failed with error: `,x,"url: ",g,"request:",a),x}))}Ho(e,n,a,l,u,d){return this.Go(e,n,a,l,u)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),a&&a.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const a=HC[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class QC extends FC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,l,u){const d=Hm();return new Promise(((g,y)=>{const _=new h1;_.setWithCredentials(!0),_.listenOnce(d1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case uh.NO_ERROR:const x=_.getResponseJson();me(wn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(x)),g(x);break;case uh.TIMEOUT:me(wn,`RPC '${e}' ${d} timed out`),y(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const j=_.getStatus();if(me(wn,`RPC '${e}' ${d} failed with status:`,j,"response text:",_.getResponseText()),j>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const te=G==null?void 0:G.error;if(te&&te.status&&te.message){const ne=(function(ae){const be=ae.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(be)>=0?be:J.UNKNOWN})(te.status);y(new de(ne,te.message))}else y(new de(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new de(J.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{me(wn,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(l);me(wn,`RPC '${e}' ${d} sending request:`,l),_.send(n,"POST",S,a,15)}))}T_(e,n,a){const l=Hm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=p1(),g=m1(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,a),y.encodeInitMessageHeaders=!0;const S=u.join("");me(wn,`Creating RPC '${e}' stream ${l}: ${S}`,y);const x=d.createWebChannel(S,y);this.I_(x);let j=!1,G=!1;const te=new GC({Yo:ee=>{G?me(wn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(j||(me(wn,`Opening RPC '${e}' stream ${l} transport.`),x.open(),j=!0),me(wn,`RPC '${e}' stream ${l} sending:`,ee),x.send(ee))},Zo:()=>x.close()}),ne=(ee,ae,be)=>{ee.listen(ae,(fe=>{try{be(fe)}catch(qe){setTimeout((()=>{throw qe}),0)}}))};return ne(x,nu.EventType.OPEN,(()=>{G||(me(wn,`RPC '${e}' stream ${l} transport opened.`),te.o_())})),ne(x,nu.EventType.CLOSE,(()=>{G||(G=!0,me(wn,`RPC '${e}' stream ${l} transport closed`),te.a_(),this.E_(x))})),ne(x,nu.EventType.ERROR,(ee=>{G||(G=!0,Zo(wn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),te.a_(new de(J.UNAVAILABLE,"The operation could not be completed")))})),ne(x,nu.EventType.MESSAGE,(ee=>{var ae;if(!G){const be=ee.data[0];at(!!be,16349);const fe=be,qe=(fe==null?void 0:fe.error)||((ae=fe[0])==null?void 0:ae.error);if(qe){me(wn,`RPC '${e}' stream ${l} received error:`,qe);const Ae=qe.status;let Ve=(function(N){const P=Zt[N];if(P!==void 0)return $1(P)})(Ae),I=qe.message;Ve===void 0&&(Ve=J.INTERNAL,I="Unknown error status: "+Ae+" with message "+qe.message),G=!0,te.a_(new de(Ve,I)),x.close()}else me(wn,`RPC '${e}' stream ${l} received:`,be),te.u_(be)}})),ne(g,f1.STAT_EVENT,(ee=>{ee.stat===Nm.PROXY?me(wn,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===Nm.NOPROXY&&me(wn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(r){return new $R(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,a=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="PersistentStream";class hE{constructor(e,n,a,l,u,d,g,y){this.Mi=e,this.S_=a,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new de(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(U_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(U_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KC extends hE{constructor(e,n,a,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WR(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ie.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?ur(d.readTime):Ie.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=Bm(this.serializer),n.addTarget=(function(u,d){let g;const y=d.target;if(g=Vm(y)?{documents:nC(u,y)}:{query:iC(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=W1(u,d.resumeToken);const _=Um(u,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ie.min())>0){g.readTime=Dh(u,d.snapshotVersion.toTimestamp());const _=Um(u,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const a=aC(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.q_(n)}}class YC extends hE{constructor(e,n,a,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tC(e.writeResults,e.commitTime),a=ur(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=Bm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>eC(this.serializer,a)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{}class $C extends XC{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Lm(n,a),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(J.UNKNOWN,u.toString())}))}Ho(e,n,a,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Lm(n,a),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class JC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Kr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="RemoteStore";class ZC{constructor(e,n,a,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Js(this)&&(me(Ys,"Restarting streams for network reachability change."),await(async function(y){const _=De(y);_.Ea.add(4),await Ou(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Wh(_)})(this))}))})),this.Ra=new JC(a,l)}}async function Wh(r){if(Js(r))for(const e of r.da)await e(!0)}async function Ou(r){for(const e of r.da)await e(!1)}function dE(r,e){const n=De(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rp(n)?xp(n):ul(n).O_()&&wp(n,e))}function Ap(r,e){const n=De(r),a=ul(n);n.Ia.delete(e),a.O_()&&fE(n,e),n.Ia.size===0&&(a.O_()?a.L_():Js(n)&&n.Ra.set("Unknown"))}function wp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ul(r).Y_(e)}function fE(r,e){r.Va.Ue(e),ul(r).Z_(e)}function xp(r){r.Va=new QR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.Ra.ua()}function Rp(r){return Js(r)&&!ul(r).x_()&&r.Ia.size>0}function Js(r){return De(r).Ea.size===0}function mE(r){r.Va=void 0}async function WC(r){r.Ra.set("Online")}async function eI(r){r.Ia.forEach(((e,n)=>{wp(r,e)}))}async function tI(r,e){mE(r),Rp(r)?(r.Ra.ha(e),xp(r)):r.Ra.set("Unknown")}async function nI(r,e,n){if(r.Ra.set("Online"),e instanceof Z1&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(a){me(Ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await jh(r,a)}else if(e instanceof fh?r.Va.Ze(e):e instanceof J1?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ie.min()))try{const a=await uE(r.localStore);n.compareTo(a)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=u.Ia.get(_);S&&u.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const S=u.Ia.get(y);if(!S)return;u.Ia.set(y,S.withResumeToken(vn.EMPTY_BYTE_STRING,S.snapshotVersion)),fE(u,y);const x=new za(S.target,y,_,S.sequenceNumber);wp(u,x)})),u.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(a){me(Ys,"Failed to raise snapshot:",a),await jh(r,a)}}async function jh(r,e,n){if(!ll(e))throw e;r.Ea.add(1),await Ou(r),r.Ra.set("Offline"),n||(n=()=>uE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{me(Ys,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Wh(r)}))}function pE(r,e){return e().catch((n=>jh(r,n,e)))}async function ed(r){const e=De(r),n=Wa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:cp;for(;iI(e);)try{const l=await UC(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,rI(e,l)}catch(l){await jh(e,l)}gE(e)&&yE(e)}function iI(r){return Js(r)&&r.Ta.length<10}function rI(r,e){r.Ta.push(e);const n=Wa(r);n.O_()&&n.X_&&n.ea(e.mutations)}function gE(r){return Js(r)&&!Wa(r).x_()&&r.Ta.length>0}function yE(r){Wa(r).start()}async function aI(r){Wa(r).ra()}async function sI(r){const e=Wa(r);for(const n of r.Ta)e.ea(n.mutations)}async function oI(r,e,n){const a=r.Ta.shift(),l=yp.from(a,e,n);await pE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await ed(r)}async function lI(r,e){e&&Wa(r).X_&&await(async function(a,l){if((function(d){return HR(d)&&d!==J.ABORTED})(l.code)){const u=a.Ta.shift();Wa(a).B_(),await pE(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,l))),await ed(a)}})(r,e),gE(r)&&yE(r)}async function L_(r,e){const n=De(r);n.asyncQueue.verifyOperationInProgress(),me(Ys,"RemoteStore received new credentials");const a=Js(n);n.Ea.add(3),await Ou(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Wh(n)}async function uI(r,e){const n=De(r);e?(n.Ea.delete(2),await Wh(n)):e||(n.Ea.add(2),await Ou(n),n.Ra.set("Unknown"))}function ul(r){return r.ma||(r.ma=(function(n,a,l){const u=De(n);return u.sa(),new KC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:WC.bind(null,r),t_:eI.bind(null,r),r_:tI.bind(null,r),H_:nI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Rp(r)?xp(r):r.Ra.set("Unknown")):(await r.ma.stop(),mE(r))}))),r.ma}function Wa(r){return r.fa||(r.fa=(function(n,a,l){const u=De(n);return u.sa(),new YC(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:aI.bind(null,r),r_:lI.bind(null,r),ta:sI.bind(null,r),na:oI.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await ed(r)):(await r.fa.stop(),r.Ta.length>0&&(me(Ys,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,a,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=u,this.deferred=new Ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,u){const d=Date.now()+a,g=new Cp(e,n,d,l,u);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(r,e){if(Kr("AsyncQueue",`${e}: ${r}`),ll(r))return new de(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ee.comparator(n.key,a.key):(n,a)=>Ee.comparator(n.key,a.key),this.keyedMap=iu(),this.sortedSet=new Dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=a.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Ko;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.ga=new Dt(Ee.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class il{constructor(e,n,a,l,u,d,g,y,_){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,a,l,u){const d=[];return n.forEach((g=>{d.push({type:0,doc:g})})),new il(e,n,Ko.emptySet(n),d,a,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class hI{constructor(){this.queries=B_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=De(n),u=l.queries;l.queries=B_(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new de(J.ABORTED,"Firestore shutting down"))}}function B_(){return new $s((r=>P1(r)),Kh)}async function vE(r,e){const n=De(r);let a=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(a=2):(u=new cI,a=e.Da()?0:1);try{switch(a){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=Ip(d,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Np(n)}async function _E(r,e){const n=De(r),a=e.query;let l=3;const u=n.queries.get(a);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function dI(r,e){const n=De(r);let a=!1;for(const l of e){const u=l.query,d=n.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&Np(n)}function fI(r,e,n){const a=De(r),l=a.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);a.queries.delete(e)}function Np(r){r.Ca.forEach((e=>{e.next()}))}var Fm,q_;(q_=Fm||(Fm={})).Ma="default",q_.Cache="cache";class EE{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new il(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=il.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class mI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ke(),this.mutatedKeys=Ke(),this.eu=U1(e),this.tu=new Ko(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new z_,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,x)=>{const j=l.get(S),G=Yh(this.query,x)?x:null,te=!!j&&this.mutatedKeys.has(j.key),ne=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ee=!1;j&&G?j.data.isEqual(G.data)?te!==ne&&(a.track({type:3,doc:G}),ee=!0):this.su(j,G)||(a.track({type:2,doc:G}),ee=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(g=!0)):!j&&G?(a.track({type:0,doc:G}),ee=!0):j&&!G&&(a.track({type:1,doc:j}),ee=!0,(y||_)&&(g=!0)),ee&&(G?(d=d.add(G),u=ne?u.add(S):u.delete(S)):(d=d.delete(S),u=u.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),u=u.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((S,x)=>(function(G,te){const ne=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:ee})}};return ne(G)-ne(te)})(S.type,x.type)||this.eu(S.doc,x.doc))),this.ou(a),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new il(this.query,e.tu,u,d,e.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ke(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new TE(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new bE(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dp="SyncEngine";class pI{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class gI{constructor(e){this.key=e,this.hu=!1}}class yI{constructor(e,n,a,l,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $s((g=>P1(g)),Kh),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(Ee.comparator),this.Au=new Map,this.Ru=new Ep,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vI(r,e,n=!0){const a=CE(r);let l;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await SE(a,e,n,!0),l}async function _I(r,e){const n=CE(r);await SE(n,e,!0,!1)}async function SE(r,e,n,a){const l=await LC(r.localStore,lr(e)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let g;return a&&(g=await EI(r,e,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&dE(r.remoteStore,l),g}async function EI(r,e,n,a,l){r.pu=(x,j,G)=>(async function(ne,ee,ae,be){let fe=ee.view.ru(ae);fe.Cs&&(fe=await M_(ne.localStore,ee.query,!1).then((({documents:I})=>ee.view.ru(I,fe))));const qe=be&&be.targetChanges.get(ee.targetId),Ae=be&&be.targetMismatches.get(ee.targetId)!=null,Ve=ee.view.applyChanges(fe,ne.isPrimaryClient,qe,Ae);return F_(ne,ee.targetId,Ve.au),Ve.snapshot})(r,x,j,G);const u=await M_(r.localStore,e,!0),d=new mI(e,u.Qs),g=d.ru(u.documents),y=Du.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);F_(r,n,_.au);const S=new pI(e,n,d);return r.Tu.set(e,S),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),_.snapshot}async function bI(r,e,n){const a=De(r),l=a.Tu.get(e),u=a.Iu.get(l.targetId);if(u.length>1)return a.Iu.set(l.targetId,u.filter((d=>!Kh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await qm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Ap(a.remoteStore,l.targetId),Gm(a,l.targetId)})).catch(ol)):(Gm(a,l.targetId),await qm(a.localStore,l.targetId,!0))}async function TI(r,e){const n=De(r),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Ap(n.remoteStore,a.targetId))}async function SI(r,e,n){const a=NI(r);try{const l=await(function(d,g){const y=De(d),_=Tt.now(),S=g.reduce(((G,te)=>G.add(te.key)),Ke());let x,j;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let te=Yr(),ne=Ke();return y.Ns.getEntries(G,S).next((ee=>{te=ee,te.forEach(((ae,be)=>{be.isValidDocument()||(ne=ne.add(ae))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,te))).next((ee=>{x=ee;const ae=[];for(const be of g){const fe=UR(be,x.get(be.key).overlayedDocument);fe!=null&&ae.push(new is(be.key,fe,I1(fe.value.mapValue),Pi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,ae,g)})).next((ee=>{j=ee;const ae=ee.applyToLocalDocumentSet(x,ne);return y.documentOverlayCache.saveOverlays(G,ee.batchId,ae)}))})).then((()=>({batchId:j.batchId,changes:z1(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new Dt(Qe)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,n),await ju(a,l.changes),await ed(a.remoteStore)}catch(l){const u=Ip(l,"Failed to persist write");n.reject(u)}}async function AE(r,e){const n=De(r);try{const a=await kC(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(at(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?at(d.hu,14607):l.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))})),await ju(n,a,e)}catch(a){await ol(a)}}function H_(r,e,n){const a=De(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=De(d);y.onlineState=g;let _=!1;y.queries.forEach(((S,x)=>{for(const j of x.Sa)j.va(g)&&(_=!0)})),_&&Np(y)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function AI(r,e,n){const a=De(r);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),u=l&&l.key;if(u){let d=new Dt(Ee.comparator);d=d.insert(u,Rn.newNoDocument(u,Ie.min()));const g=Ke().add(u),y=new Jh(Ie.min(),new Map,new Dt(Qe),d,g);await AE(a,y),a.du=a.du.remove(u),a.Au.delete(e),Op(a)}else await qm(a.localStore,e,!1).then((()=>Gm(a,e,n))).catch(ol)}async function wI(r,e){const n=De(r),a=e.batch.batchId;try{const l=await VC(n.localStore,e);xE(n,a,null),wE(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await ju(n,l)}catch(l){await ol(l)}}async function xI(r,e,n){const a=De(r);try{const l=await(function(d,g){const y=De(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,g).next((x=>(at(x!==null,37113),S=x.keys(),y.mutationQueue.removeMutationBatch(_,x)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(a.localStore,e);xE(a,e,n),wE(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await ju(a,l)}catch(l){await ol(l)}}function wE(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function xE(r,e,n){const a=De(r);let l=a.Vu[a.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Gm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),n&&r.Pu.yu(a,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||RE(r,a)}))}function RE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Ap(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Op(r))}function F_(r,e,n){for(const a of n)a instanceof bE?(r.Ru.addReference(a.key,e),RI(r,a)):a instanceof TE?(me(Dp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||RE(r,a.key)):Ce(19791,{wu:a})}function RI(r,e){const n=e.key,a=n.path.canonicalString();r.du.get(n)||r.Eu.has(a)||(me(Dp,"New document in limbo: "+n),r.Eu.add(a),Op(r))}function Op(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ee(vt.fromString(e)),a=r.fu.next();r.Au.set(a,new gI(n)),r.du=r.du.insert(n,a),dE(r.remoteStore,new za(lr(Qh(n.path)),a,"TargetPurposeLimboResolution",Hh.ce))}}async function ju(r,e,n){const a=De(r),l=[],u=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,n).then((_=>{var S;if((_||n)&&a.isPrimaryClient){const x=_?!_.fromCache:(S=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:S.current;a.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(_){l.push(_);const x=Tp.As(y.targetId,_);u.push(x)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const S=De(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Z.forEach(_,(j=>Z.forEach(j.Es,(G=>S.persistence.referenceDelegate.addReference(x,j.targetId,G))).next((()=>Z.forEach(j.ds,(G=>S.persistence.referenceDelegate.removeReference(x,j.targetId,G)))))))))}catch(x){if(!ll(x))throw x;me(Sp,"Failed to update sequence numbers: "+x)}for(const x of _){const j=x.targetId;if(!x.fromCache){const G=S.Ms.get(j),te=G.snapshotVersion,ne=G.withLastLimboFreeSnapshotVersion(te);S.Ms=S.Ms.insert(j,ne)}}})(a.localStore,u))}async function CI(r,e){const n=De(r);if(!n.currentUser.isEqual(e)){me(Dp,"User change. New user:",e.toKey());const a=await lE(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new de(J.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ju(n,a.Ls)}}function II(r,e){const n=De(r),a=n.Au.get(e);if(a&&a.hu)return Ke().add(a.key);{let l=Ke();const u=n.Iu.get(e);if(!u)return l;for(const d of u){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function CE(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=AE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=II.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AI.bind(null,e),e.Pu.H_=dI.bind(null,e.eventManager),e.Pu.yu=fI.bind(null,e.eventManager),e}function NI(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xI.bind(null,e),e}class Mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return MC(this.persistence,new DC,e.initialUser,this.serializer)}Cu(e){return new oE(bp.mi,this.serializer)}Du(e){return new BC}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mh.provider={build:()=>new Mh};class DI extends Mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){at(this.persistence.referenceDelegate instanceof Oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new gC(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new oE((a=>Oh.mi(a,n)),this.serializer)}}class Qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>H_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=CI.bind(null,this.syncEngine),await uI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hI})()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),a=(function(u){return new QC(u)})(e.databaseInfo);return(function(u,d,g,y){return new $C(u,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,u,d,g){return new ZC(a,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>H_(this.syncEngine,n,0)),(function(){return P_.v()?new P_:new qC})())}createSyncEngine(e,n){return(function(l,u,d,g,y,_,S){const x=new yI(l,u,d,g,y,_);return S&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=De(l);me(Ys,"RemoteStore shutting down."),u.Ea.add(5),await Ou(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Qm.provider={build:()=>new Qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class OI{constructor(e,n,a,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=xn.UNAUTHENTICATED,this.clientId=up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async d=>{me(es,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(me(es,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=Ip(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function ym(r,e){r.asyncQueue.verifyOperationInProgress(),me(es,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await lE(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function G_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await jI(r);me(es,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>L_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>L_(e.remoteStore,l))),r._onlineComponents=e}async function jI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){me(es,"Using user provided OfflineComponentProvider");try{await ym(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await ym(r,new Mh)}}else me(es,"Using default OfflineComponentProvider"),await ym(r,new DI(void 0));return r._offlineComponents}async function NE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(me(es,"Using user provided OnlineComponentProvider"),await G_(r,r._uninitializedComponentsProvider._online)):(me(es,"Using default OnlineComponentProvider"),await G_(r,new Qm))),r._onlineComponents}function MI(r){return NE(r).then((e=>e.syncEngine))}async function Km(r){const e=await NE(r),n=e.eventManager;return n.onListen=vI.bind(null,e.syncEngine),n.onUnlisten=bI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_I.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TI.bind(null,e.syncEngine),n}function VI(r,e,n={}){const a=new Ga;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,_){const S=new IE({next:j=>{S.Nu(),d.enqueueAndForget((()=>_E(u,x)));const G=j.docs.has(g);!G&&j.fromCache?_.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&j.fromCache&&y&&y.source==="server"?_.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(j)},error:j=>_.reject(j)}),x=new EE(Qh(g.path),S,{includeMetadataChanges:!0,qa:!0});return vE(u,x)})(await Km(r),r.asyncQueue,e,n,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firestore.googleapis.com",K_=!0;class Y_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OE,this.ssl=K_}else this.host=e.host,this.ssl=e.ssl??K_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mC)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class td{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new qx;switch(a.type){case"firstParty":return new Qx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=Q_.get(n);a&&(me("ComponentProvider","Removing Datastore"),Q_.delete(n),a.terminate())})(this),Promise.resolve()}}function kI(r,e,n,a={}){var _;r=ki(r,td);const l=rl(e),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(E2(`https://${g}`),b2("Firestore",!0)),u.host!==OE&&u.host!==g&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:a};if(!Hs(y,d)&&(r._setSettings(y),a.mockUserToken)){let S,x;if(typeof a.mockUserToken=="string")S=a.mockUserToken,x=xn.MOCK_USER;else{S=ZT(a.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const j=a.mockUserToken.sub||a.mockUserToken.user_id;if(!j)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new xn(j)}r._authCredentials=new Hx(new y1(S,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new cl(this.firestore,e,this._query)}}class zt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Cu(n,zt._jsonSchema))return new zt(e,a||null,new Ee(vt.fromString(n.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:en("string",zt._jsonSchemaVersion),referencePath:en("string")};class Qa extends cl{constructor(e,n,a){super(e,n,Qh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new Ee(e))}withConverter(e){return new Qa(this.firestore,e,this._path)}}function PI(r,e,...n){if(r=Ct(r),v1("collection","path",e),r instanceof td){const a=vt.fromString(e,...n);return o_(a),new Qa(r,null,a)}{if(!(r instanceof zt||r instanceof Qa))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(vt.fromString(e,...n));return o_(a),new Qa(r.firestore,null,a)}}function ir(r,e,...n){if(r=Ct(r),arguments.length===1&&(e=up.newId()),v1("doc","path",e),r instanceof td){const a=vt.fromString(e,...n);return s_(a),new zt(r,null,new Ee(a))}{if(!(r instanceof zt||r instanceof Qa))throw new de(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(vt.fromString(e,...n));return s_(a),new zt(r.firestore,r instanceof Qa?r.converter:null,new Ee(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="AsyncQueue";class $_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cE(this,"async_queue_retry"),this._c=()=>{const a=gm();a&&me(X_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ga;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;me(X_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Kr("INTERNAL UNHANDLED ERROR: ",J_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Cp.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ce(47125,{Pc:J_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function J_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of a)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class Xs extends td{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new $_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $_(e),this._firestoreClient=void 0,await e}}}function UI(r,e){const n=typeof r=="object"?r:w2(),a=typeof r=="string"?r:xh,l=Wm(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const u=$T("firestore");u&&kI(l,...u)}return l}function jp(r){if(r._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LI(r),r._firestoreClient}function LI(r){var a,l,u;const e=r._freezeSettings(),n=(function(g,y,_,S){return new uR(g,y,_,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,DE(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)})(r._databaseId,((a=r._app)==null?void 0:a.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new OI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ai(vn.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ai(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Ai._jsonSchema))return Ai.fromBase64String(e.bytes)}}Ai._jsonSchemaVersion="firestore/bytes/1.0",Ai._jsonSchema={type:en("string",Ai._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:en("string",cr._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hr(e.vectorValues);throw new de(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:en("string",hr._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=/^__.*__$/;class BI{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Nu(e,this.data,n,this.fieldTransforms)}}class jE{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ME(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:r})}}class Mp{constructor(e,n,a,l,u,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Vh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(ME(this.Ac)&&zI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class qI{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Zh(e)}Cc(e,n,a,l=!1){return new Mp({Ac:e,methodName:n,Dc:a,path:yn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vp(r){const e=r._freezeSettings(),n=Zh(r._databaseId);return new qI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function HI(r,e,n,a,l,u={}){const d=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);Pp("Data must be an object, but it was:",d,a);const g=VE(a,d);let y,_;if(u.merge)y=new si(d.fieldMask),_=d.fieldTransforms;else if(u.mergeFields){const S=[];for(const x of u.mergeFields){const j=Ym(e,x,n);if(!d.contains(j))throw new de(J.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);PE(S,j)||S.push(j)}y=new si(S),_=d.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,_=d.fieldTransforms;return new BI(new Fn(g),y,_)}class rd extends id{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rd}}class kp extends id{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new bu(e.serializer,H1(e.serializer,this.Fc));return new MR(e.path,n)}isEqual(e){return e instanceof kp&&this.Fc===e.Fc}}function FI(r,e,n,a){const l=r.Cc(1,e,n);Pp("Data must be an object, but it was:",l,a);const u=[],d=Fn.empty();ns(a,((y,_)=>{const S=Up(e,y,n);_=Ct(_);const x=l.yc(S);if(_ instanceof rd)u.push(S);else{const j=Mu(_,x);j!=null&&(u.push(S),d.set(S,j))}}));const g=new si(u);return new jE(d,g,l.fieldTransforms)}function GI(r,e,n,a,l,u){const d=r.Cc(1,e,n),g=[Ym(e,a,n)],y=[l];if(u.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)g.push(Ym(e,u[j])),y.push(u[j+1]);const _=[],S=Fn.empty();for(let j=g.length-1;j>=0;--j)if(!PE(_,g[j])){const G=g[j];let te=y[j];te=Ct(te);const ne=d.yc(G);if(te instanceof rd)_.push(G);else{const ee=Mu(te,ne);ee!=null&&(_.push(G),S.set(G,ee))}}const x=new si(_);return new jE(S,x,d.fieldTransforms)}function QI(r,e,n,a=!1){return Mu(n,r.Cc(a?4:3,e))}function Mu(r,e){if(kE(r=Ct(r)))return Pp("Unsupported field value:",e,r),VE(r,e);if(r instanceof id)return(function(a,l){if(!ME(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const u=[];let d=0;for(const g of a){let y=Mu(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(r,e)}return(function(a,l){if((a=Ct(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return H1(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=Tt.fromDate(a);return{timestampValue:Dh(l.serializer,u)}}if(a instanceof Tt){const u=new Tt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Dh(l.serializer,u)}}if(a instanceof cr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ai)return{bytesValue:W1(l.serializer,a._byteString)};if(a instanceof zt){const u=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:_p(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof hr)return(function(d,g){return{mapValue:{fields:{[R1]:{stringValue:C1},[Rh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return pp(g.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${qh(a)}`)})(r,e)}function VE(r,e){const n={};return b1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(r,((a,l)=>{const u=Mu(l,e.mc(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function kE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Tt||r instanceof cr||r instanceof Ai||r instanceof zt||r instanceof id||r instanceof hr)}function Pp(r,e,n){if(!kE(n)||!_1(n)){const a=qh(n);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Ym(r,e,n){if((e=Ct(e))instanceof nd)return e._internalPath;if(typeof e=="string")return Up(r,e);throw Vh("Field path arguments must be of type string or ",r,!1,void 0,n)}const KI=new RegExp("[~\\*/\\[\\]]");function Up(r,e,n){if(e.search(KI)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new nd(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Vh(r,e,n,a,l){const u=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new de(J.INVALID_ARGUMENT,g+r+y)}function PE(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,n,a,l,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(LE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YI extends UE{data(){return super.data()}}function LE(r,e){return typeof e=="string"?Up(r,e):e instanceof nd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{}class $I extends Lp{}function JI(r,e,...n){let a=[];e instanceof Lp&&a.push(e),a=a.concat(n),(function(u){const d=u.filter((y=>y instanceof Bp)).length,g=u.filter((y=>y instanceof zp)).length;if(d>1||d>0&&g>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)r=l._apply(r);return r}class zp extends $I{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new zp(e,n,a)}_apply(e){const n=this._parse(e);return zE(e._query,n),new cl(e.firestore,e.converter,km(e._query,n))}_parse(e){const n=Vp(e.firestore);return(function(u,d,g,y,_,S,x){let j;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){e2(x,S);const te=[];for(const ne of x)te.push(W_(y,u,ne));j={arrayValue:{values:te}}}else j=W_(y,u,x)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||e2(x,S),j=QI(g,d,x,S==="in"||S==="not-in");return Wt.create(_,S,j)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Bp extends Lp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bp(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Li.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)zE(d,y),d=km(d,y)})(e._query,n),new cl(e.firestore,e.converter,km(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function W_(r,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!k1(e)&&n.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(vt.fromString(n));if(!Ee.isDocumentKey(a))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return p_(r,new Ee(a))}if(n instanceof zt)return p_(r,n._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qh(n)}.`)}function e2(r,e){if(!Array.isArray(r)||r.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zE(r,e){const n=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ZI{convertValue(e,n="none"){switch(Za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return ns(e,((l,u)=>{a[l]=this.convertValue(u,n)})),a}convertVectorValue(e){var a,l,u;const n=(u=(l=(a=e.fields)==null?void 0:a[Rh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((d=>Qt(d.doubleValue)));return new hr(n)}convertGeoPoint(e){return new cr(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=Gh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=$a(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=vt.fromString(e);at(aE(a),9688,{name:e});const l=new yu(a.get(1),a.get(3)),u=new Ee(a.popFirst(5));return l.isEqual(n)||Kr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qs extends UE{constructor(e,n,a,l,u,d){super(e,n,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(LE("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",qs._jsonSchema={type:en("string",qs._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class mh extends qs{data(e={}){return super.data(e)}}class Yo{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new au(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new mh(this._firestore,this._userDataWriter,a.key,a,new au(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new mh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new au(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new mh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new au(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:eN(g.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(r){r=ki(r,zt);const e=ki(r.firestore,Xs);return VI(jp(e),r._key).then((n=>qE(e,r,n)))}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:en("string",Yo._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class BE extends ZI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function nh(r,e,n){r=ki(r,zt);const a=ki(r.firestore,Xs),l=WI(r.converter,e,n);return qp(a,[HI(Vp(a),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,Pi.none())])}function Us(r,e,n,...a){r=ki(r,zt);const l=ki(r.firestore,Xs),u=Vp(l);let d;return d=typeof(e=Ct(e))=="string"||e instanceof nd?GI(u,"updateDoc",r._key,e,n,a):FI(u,"updateDoc",r._key,e),qp(l,[d.toMutation(r._key,Pi.exists(!0))])}function n2(r){return qp(ki(r.firestore,Xs),[new gp(r._key,Pi.none())])}function tN(r,...e){var y,_,S;r=Ct(r);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Z_(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Z_(e[a])){const x=e[a];e[a]=(y=x.next)==null?void 0:y.bind(x),e[a+1]=(_=x.error)==null?void 0:_.bind(x),e[a+2]=(S=x.complete)==null?void 0:S.bind(x)}let u,d,g;if(r instanceof zt)d=ki(r.firestore,Xs),g=Qh(r._key.path),u={next:x=>{e[a]&&e[a](qE(d,r,x))},error:e[a+1],complete:e[a+2]};else{const x=ki(r,cl);d=ki(x.firestore,Xs),g=x._query;const j=new BE(d);u={next:G=>{e[a]&&e[a](new Yo(d,j,x,G))},error:e[a+1],complete:e[a+2]},XI(r._query)}return(function(j,G,te,ne){const ee=new IE(ne),ae=new EE(G,ee,te);return j.asyncQueue.enqueueAndForget((async()=>vE(await Km(j),ae))),()=>{ee.Nu(),j.asyncQueue.enqueueAndForget((async()=>_E(await Km(j),ae)))}})(jp(d),g,l,u)}function qp(r,e){return(function(a,l){const u=new Ga;return a.asyncQueue.enqueueAndForget((async()=>SI(await MI(a),l,u))),u.promise})(jp(r),e)}function qE(r,e,n){const a=n.docs.get(e._key),l=new BE(r);return new qs(r,l,e._key,a,new au(n.hasPendingWrites,n.fromCache),e.converter)}function nN(r){return new kp("increment",r)}(function(e,n=!0){(function(l){sl=l})(al),$o(new Fs("firestore",((a,{instanceIdentifier:l,options:u})=>{const d=a.getProvider("app").getImmediate(),g=new Xs(new Fx(a.getProvider("auth-internal")),new Kx(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(_.options.projectId,S)})(d,l),d);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Ha(n_,i_,e),Ha(n_,i_,"esm2020")})();const iN=["2020-02-24","2020-02-25","2020-04-10","2020-04-21","2020-05-01","2020-06-11","2020-06-12","2020-09-07","2020-09-08","2020-10-12","2020-11-02","2020-11-03","2020-11-15","2020-12-11","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-02-16","2021-04-01","2021-04-02","2021-04-21","2021-05-01","2021-06-03","2021-06-04","2021-09-06","2021-09-07","2021-09-08","2021-10-11","2021-10-12","2021-11-01","2021-11-02","2021-11-15","2021-12-17","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15","2022-01-16","2022-01-17","2022-01-18","2022-01-19","2022-01-20","2022-02-28","2022-03-01","2022-04-14","2022-04-15","2022-04-21","2022-04-22","2022-05-01","2022-06-16","2022-06-17","2022-09-07","2022-09-08","2022-09-09","2022-10-12","2022-10-31","2022-11-01","2022-11-02","2022-11-14","2022-11-15","2022-12-19","2022-12-20","2022-12-21","2022-12-22","2022-12-23","2022-12-24","2022-12-25","2022-12-26","2022-12-27","2022-12-28","2022-12-29","2022-12-30","2022-12-31","2023-01-01","2023-01-02","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-07","2023-01-08","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-14","2023-01-15","2023-01-16","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-02-20","2023-02-21","2023-04-06","2023-04-07","2023-04-21","2023-05-01","2023-06-08","2023-06-09","2023-09-07","2023-09-08","2023-10-12","2023-10-13","2023-10-28","2023-11-02","2023-11-03","2023-11-15","2023-12-08","2023-12-19","2023-12-20","2023-12-21","2023-12-22","2023-12-23","2023-12-24","2023-12-25","2023-12-26","2023-12-27","2023-12-28","2023-12-29","2023-12-30","2023-12-31","2024-01-01","2024-01-02","2024-01-03","2024-01-04","2024-01-05","2024-01-06","2024-01-07","2024-01-08","2024-01-09","2024-01-10","2024-01-11","2024-01-12","2024-01-13","2024-01-14","2024-01-15","2024-01-16","2024-01-17","2024-01-18","2024-01-19","2024-01-20","2024-02-12","2024-02-13","2024-03-28","2024-03-29","2024-04-21","2024-05-01","2024-05-30","2024-05-31","2024-09-07","2024-09-08","2024-10-12","2024-10-16","2024-11-02","2024-11-15","2024-11-20","2024-12-08","2024-12-18","2024-12-19","2024-12-20","2024-12-21","2024-12-22","2024-12-23","2024-12-24","2024-12-25","2024-12-26","2024-12-27","2024-12-28","2024-12-29","2024-12-30","2024-12-31","2025-01-01","2025-01-02","2025-01-03","2025-01-04","2025-01-05","2025-01-06","2025-01-07","2025-01-08","2025-01-09","2025-01-10","2025-01-11","2025-01-12","2025-01-13","2025-01-14","2025-01-15","2025-01-16","2025-01-17","2025-01-18","2025-01-19","2025-01-20","2025-03-03","2025-03-04","2025-04-17","2025-04-18","2025-04-21","2025-05-01","2025-06-19","2025-06-20","2025-09-07","2025-09-08","2025-10-12","2025-10-28","2025-11-02","2025-11-15","2025-11-20","2025-12-08","2025-12-19"],rN=["2020-05-11","2020-06-30","2021-08-02","2021-09-13","2022-03-21","2022-03-22","2022-04-01","2022-06-13","2022-06-27","2022-08-08","2022-08-22","2022-08-31","2022-09-14","2022-09-27","2022-11-08","2022-11-24","2022-12-02","2022-12-05","2022-12-09","2022-12-13","2023-07-13","2023-07-31","2023-08-01","2023-08-30","2023-08-31","2023-09-01","2023-09-04","2023-09-05","2024-04-23","2024-06-21","2024-07-24","2024-09-13"],aN=[{start:"2013-02-01",value:131.87},{start:"2014-03-07",value:139.2},{start:"2015-02-06",value:148.12},{start:"2016-02-19",value:163.92},{start:"2017-02-02",value:174.23},{start:"2018-02-02",value:179.37},{start:"2019-02-01",value:186.1},{start:"2020-02-01",value:194.12},{start:"2021-02-01",value:202.89},{start:"2022-02-01",value:223.3},{start:"2023-02-01",value:236.23},{start:"2023-07-04",value:236.23},{start:"2024-02-01",value:247.14},{start:"2025-02-03",value:259.08}],sN=[{start:"2014-01-29",value:153.86},{start:"2014-05-28",value:153.86},{start:"2015-01-19",value:163.8},{start:"2015-06-16",value:163.8},{start:"2016-02-11",value:181.34},{start:"2016-06-13",value:181.34},{start:"2018-01-25",value:198.95},{start:"2018-04-25",value:198.95},{start:"2018-09-20",value:198.95},{start:"2018-12-18",value:198.95},{start:"2019-03-07",value:206.63},{start:"2020-01-20",value:214.71},{start:"2020-02-14",value:214.71},{start:"2021-06-02",value:223.79},{start:"2024-05-15",value:1022}],oN=[{start:"2014-01-01",value:37.33},{start:"2015-01-01",value:39.89},{start:"2016-01-01",value:43.65},{start:"2017-01-01",value:47.34},{start:"2018-01-01",value:48.54},{start:"2019-01-01",value:50.73},{start:"2020-01-01",value:52.17},{start:"2022-01-01",value:59.31},{start:"2024-01-01",value:66.85}],i2=""+new URL("WhatsApp Image 2025-12-16 at 16.54.26-CihH5Q5F.jpeg",import.meta.url).href,vm="triario_state_v2",lN=3,rr="users",uN="adminRequests",r2="triario_remember_login",su={apiKey:"AIzaSyCNUcWaY7_LfXKmnQ7O72_x1iCrt-7EJ1w",authDomain:"simba-99aa9.firebaseapp.com",projectId:"simba-99aa9",storageBucket:"simba-99aa9.firebasestorage.app",messagingSenderId:"551435844538",appId:"1:551435844538:web:3664ee17b9a6f1f728fb83"},Xm=!!(su.apiKey&&su.authDomain&&su.projectId&&su.appId),kh=Xm?A2(su):null,mt=kh?zx(kh):null,Lt=kh?UI(kh):null;mt&&(mt.languageCode="pt-BR");const cN=r=>(r==null?void 0:r.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean))??[],hN=cN("03788983299@tjpr.jus.br,rodrigo.louzano@tjpr.jus.br,11804338907@tjpr.jus.br"),Va="tjpr.jus.br".trim().toLowerCase(),Xo={tipo:"",acordo:"",valido:"",desist:"",valida:"",sigla:"",interp:"",decrec:"",camara:"",camaraArea:"",camaraNumero:"",emaberto:"",envio:"",consulta:"no",leitura:"",emdobro:"",multa:"",motivo:"",dispensa:"",gratuidade:"",deferida:"",movdef:"",requerida:"",movped:"",atoincomp:"",comprova:"",apos16:"",grumov:"",grumovComp:"",valorst:"",guiavinc:"",guia:"",guiorig:"",comp:"",funjusmov:"",comptipo:"",codbar:"",valorfj:"",funjusObs:"",parcialTipo:"",parcialOutro:"",usarIntegral:!1,subscritor:"",nomemovi:"",movis:"",cadeia:"",faltante:"",suspefeito:"",autuado:"",exclusivi:"",cadastrada:"",regular:"",contrarra:"",contramovis:"",intimado:"",intimovi:"",crraberto:"",decursocrr:"",semadv:"",emepe:"",mani:"",teormani:"",manimovis:"",decursomp:"",remetido:"",anotacoes:""},HE=r=>new Date(`${r}T00:00:00`),FE=r=>{const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0");return`${r.getFullYear()}-${n}-${e}`},Hp=r=>[...r].sort((e,n)=>new Date(e.start).getTime()-new Date(n.start).getTime()),dN=Hp(aN),fN=Hp(sN),mN=Hp(oN),pN=new Set(iN),gN=new Set(rN),yN=r=>new Date(r.getFullYear(),r.getMonth(),r.getDate()),zs=(r,e)=>{const n=new Date(r);return n.setDate(n.getDate()+e),n},vN=r=>pN.has(FE(r)),_N=r=>gN.has(FE(r)),GE=r=>{const e=r.getDay();return e===0||e===6?!1:!vN(r)},a2=r=>GE(r)&&!_N(r),EN=r=>{let e=yN(r);for(;!GE(e);)e=zs(e,1);return e},_m=(r,e)=>{if(!r)return{value:0};let n;for(const a of e)if(r>=HE(a.start))n=a;else break;return n?{value:n.value,start:n.start}:{value:0}},Mi=r=>{if(!r)return"";const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),a=r.getFullYear();return`${e}.${n}.${a}`},bN=r=>r?r.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",Ph=r=>r?Mi(HE(r)):"",TN=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),Ti=r=>Number.isFinite(r)?TN.format(r):"R$ 0,00",Ka=r=>r?new Date(`${r}T00:00:00`):null,SN=r=>{if(!r)return null;const e=new Date(r);return Number.isNaN(e.getTime())?null:e},AN=r=>r.trim().replace(/[\\/:*?"<>|]/g,"-").replace(/\s+/g,"_"),wN=r=>{try{const e=localStorage.getItem(r);if(!e)return{state:Xo,savedAt:null};const n=JSON.parse(e),a=n.state||n,l={...Xo,...a};if(!l.parcialTipo&&(a!=null&&a.parcial)){const d=a.parcial;l.parcialTipo=d==="sim"?"COHAB Londrina":d==="no"?"no":""}if(!l.grumov){const d=a==null?void 0:a.guiast,g=a==null?void 0:a.compst;d&&g&&d!==g?l.grumov=`${d}; ${g}`:l.grumov=d||g||""}if(l.grumovComp||(l.grumovComp=l.grumov||""),!l.funjusmov){const d=a==null?void 0:a.guiamov,g=a==null?void 0:a.compmov;d&&g&&d!==g?l.funjusmov=`${d}; ${g}`:l.funjusmov=d||g||""}l.usarIntegral===void 0&&(l.usarIntegral=!1),l.consulta===""&&(l.consulta="no");const u=SN(n.savedAt);return{state:l,savedAt:u}}catch{return{state:Xo,savedAt:null}}},Fp=r=>r.trim().toLowerCase(),xN=r=>(r.email?Fp(r.email):"")||r.uid,s2=r=>{const e=Date.parse(r);return Number.isNaN(e)?0:e},RN=(r,e)=>{if(r.role!==e.role)return e.role==="admin"?e:r;if(r.active!==e.active)return e.active?e:r;const n=s2(r.updatedAt),a=s2(e.updatedAt);if(a!==n)return a>n?e:r;const l=r.triageCount||0,u=e.triageCount||0;return u!==l&&u>l?e:r},CN=r=>{const e=new Map;return r.forEach(n=>{const a=xN(n),l=e.get(a);if(!l){e.set(a,n);return}e.set(a,RN(l,n))}),Array.from(e.values())},ih=r=>Fp(r).endsWith(`@${Va}`),o2=r=>{const e=r.trim().split(/\s+/).filter(Boolean);return e.length===0?"U":e.length===1?e[0].slice(0,2).toUpperCase():`${e[0][0]}${e[e.length-1][0]}`.toUpperCase()},rn=r=>{const e=r;switch(e.code){case"auth/invalid-email":return"E-mail invlido.";case"auth/user-not-found":return"Usurio no encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/invalid-credential":return"Credenciais invlidas.";case"auth/email-already-in-use":return"Este e-mail j est cadastrado.";case"auth/weak-password":return"A senha precisa ter pelo menos 6 caracteres.";case"auth/too-many-requests":return"Muitas tentativas. Aguarde alguns minutos e tente novamente.";case"auth/network-request-failed":return"Falha de rede. Verifique sua conexo.";case"permission-denied":return"Permisso negada para esta ao.";default:return e.message||"Falha ao autenticar."}},IN=r=>{const e=Ka(r.envio),n=Ka(r.interp);if(!e||!n)return{status:"pendente",mensagem:"Preencha envio da intimao e interposio."};const a=r.emdobro==="em dobro"?30:15,l=r.consulta==="sim"?Ka(r.leitura):null,u=zs(e,10),d=l&&l<=u?l:u,g=EN(d);let y=zs(g,1);for(;!a2(y);)y=zs(y,1);let _=y;const S=[_];for(;S.length<a;){for(_=zs(_,1);!a2(_);)_=zs(_,1);S.push(_)}return{status:n<=_?"tempestivo":"intempestivo",intim:g,comeco:y,venc:_,prazo:a}},NN=(r,e)=>{const n=g=>g||"",a=r.valorfj.trim(),l=Number(a||0),u=r.dispensa==="no"&&r.gratuidade==="no invocada"&&a!==""&&Number.isFinite(l)&&l<e.deverFJ,d=["Resumo - Portal de Triagem",`Data: ${new Date().toLocaleString("pt-BR")}`,`Sigla: ${n(r.sigla)}`,"",`Tipo: ${n(r.tipo)}`,`Interposio: ${n(r.interp)}`,`Deciso recorrida: ${n(r.decrec)}`,`Cmara: ${n(QE(r))}`,"",`Tempestivo: ${e.tempest.status}`,`Intimao: ${Mi(e.tempest.intim)}`,`Comeo do prazo: ${Mi(e.tempest.comeco)}`,`Prazo: ${e.tempest.prazo||""} dias`,`Vencimento: ${Mi(e.tempest.venc)}`,"",`GRU: ${e.grout}`,`Funjus: ${e.funjout}`,`Pagamento parcial: ${e.parcialout}`,`Valores devidos - ${e.stLabel}: ${Ti(e.deverST)} | FUNJUS: ${Ti(e.deverFJ)}`,`Base de custas: ${e.stLabel} ${Ph(e.stRateStart)} | FUNJUS ${Ph(e.fjRateStart)}`,"",`Procurao/Nomeao: ${e.procurout}`,`Exclusividade na intimao: ${e.exclusout}`,`Efeito suspensivo: ${e.suspefout}`,"",`Contrarrazes: ${e.controut}`,`Ministrio Pblico: ${e.mpout}`];return e.observacoes.length&&(d.push("","Observaes/Minutas:"),e.observacoes.forEach((g,y)=>d.push(`${y+1}. ${g}`))),u&&r.funjusObs.trim()&&d.push("",`Justificativa Funjus: ${r.funjusObs.trim()}`),r.anotacoes.trim()&&d.push("","Notas manuais:",r.anotacoes.trim()),d.join(`
`)},DN=r=>r.dispensa==="sim"?"dispensado (CPC, art. 1.007, 1)":r.gratuidade==="j  ou afirma ser beneficirio"&&r.atoincomp!=="sim"?r.deferida==="sim"?`justia gratuita mov. ${r.movdef||"?"}`:r.requerida==="sim"?`justia gratuita mov. ${r.movped||"?"}`:"justia gratuita requerida no recurso":r.gratuidade==="requer no recurso em anlise"?"justia gratuita requerida no recurso":r.gratuidade===" o prprio objeto do recurso"?"justia gratuita  o prprio objeto":r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"?"justia gratuita presumida (defensor pblico, dativo ou NPJ)":null,ON=r=>{const e=IN(r),n=Ka(r.interp),a=r.tipo==="Especial"?"STJ":r.tipo==="Extraordinrio"?"STF":"STJ/STF",l=r.tipo==="Especial"?_m(n,dN):r.tipo==="Extraordinrio"?_m(n,fN):{value:0},u=_m(n,mN),d=l.value,g=u.value,y=DN(r),_=r.contrarra==="apresentadas"?r.contramovis?`mov(s). ${r.contramovis}`:"apresentadas":r.contrarra==="ausente alguma"?r.contramovis?`mov(s). ${r.contramovis}`:"ausente alguma":r.contrarra==="ausentes"?r.intimado==="sim"&&r.crraberto==="no"&&r.decursocrr==="sim"?"no":r.intimado==="no"&&r.semadv==="sim"?"sem adv.":"vide obs.":"vide obs.",S=(()=>{if(r.emepe==="no")return"N/A";if(r.mani==="sim"){const O=r.teormani||"mera cincia";return r.manimovis?`${O}; mov. ${r.manimovis}`:O}return r.remetido==="sim"&&r.decursomp==="sim"?"deixou de se manifestar":"vide obs."})(),x=(()=>{var C,Ue;if(y)return y;const O=(C=r.grumov)==null?void 0:C.trim(),T=(Ue=r.grumovComp)==null?void 0:Ue.trim();return O&&T&&O!==T?`GRU guia mov. ${O}; comprovante mov. ${T}`:O||T?`GRU mov. ${O||T}`:"GRU no localizada"})(),j=(()=>{if(y)return y;const O=r.guia==="sim"?`guia mov. ${r.funjusmov||"?"}`:"guia no localizada",T=r.comp==="sim"?`comprovante mov. ${r.funjusmov||"?"}`:"comprovante no localizado";return`${O}; ${T}`})(),G=!r.parcialTipo||r.parcialTipo==="no"?"No informado":r.parcialTipo==="outros"?r.parcialOutro?`Parcial: ${r.parcialOutro}`:"Parcial: outros (especificar)":`Parcial: ${r.parcialTipo}`,te=r.subscritor==="procurador pblico"||r.subscritor==="advogado em causa prpria"?r.subscritor||"N/A":r.subscritor==="procurador nomeado"?r.nomemovi?`mov. ${r.nomemovi}`:"nomeao no localizada":r.subscritor==="advogado particular"&&r.movis?`mov(s). ${r.movis}`:r.subscritor==="advogado particular"?"movimentos no informados":"N/A",ne=r.exclusivi==="no requerida"?"no requerida":r.exclusivi==="requerida"&&r.cadastrada==="sim"?"requerida e j cadastrada":r.exclusivi==="requerida"&&r.regular==="sim"?"requerida":r.exclusivi==="requerida"&&r.regular==="no"?"requerida, mas sem poderes":"N/A",ee=r.suspefeito?r.suspefeito==="requerido em petio apartada"&&r.autuado==="sim"?"requerido em petio apartada e autuado":r.suspefeito:"N/A",ae=[],be=!!y,fe=r.dispensa==="sim"||r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"||r.subscritor==="procurador nomeado"||r.subscritor==="procurador pblico",qe=r.emdobro==="em dobro"&&!fe,Ae=fe&&r.emdobro!=="em dobro",Ve=Ka(r.envio),I=r.consulta==="sim"?Ka(r.leitura):null;if(Ve&&I){const O=zs(Ve,10);I>O&&ae.push("Leitura aps 10 dias: considerar intimao automtica.")}r.decrec==="monocrtica/singular"&&ae.push("Deciso monocrtica: REsp/RExt incabvel (nulidade)."),r.acordo==="sim"&&(r.valido==="sim"?ae.push("Acordo vlido: encerrar o processo sem anlise do mrito."):r.valido==="no"&&ae.push("Acordo invlido: verificar poderes expressamente outorgados e partes.")),r.desist==="sim"&&(r.valida==="sim"?ae.push("Desistncia vlida: encerrar o processo sem anlise do mrito."):r.valida==="no"&&ae.push("Desistncia invlida: verificar poderes expressamente outorgados e partes.")),qe?ae.push("Prazo em dobro: apenas MP/Defensoria/NPJ/dativo."):Ae&&ae.push("Prazo em dobro aplicvel (MP/Defensoria/NPJ/dativo/ente pblico)."),r.emaberto!=="sim"&&r.contrarra&&r.contrarra!=="ausentes"&&!r.contramovis.trim()&&ae.push("Informar movimento da juntada das contrarrazes/renncia."),!be&&r.gratuidade==="no invocada"&&r.comprova&&r.comprova!=="ausente"&&(r.grumov||ae.push("Informar movimento da GRU (guia/comprovante).")),!be&&r.guia==="sim"&&(r.guiorig==="no"?ae.push("Guia FUNJUS no  original do recurso; verificar reutilizao."):r.guiorig===""&&ae.push("Informar se a guia FUNJUS  original do recurso.")),!be&&r.comp==="sim"&&r.codbar==="diverge ou guia ausente"&&ae.push("Cdigo de barras divergente/guia ausente: conferir preparo FUNJUS."),!be&&r.comp==="sim"&&r.comptipo==="de agendamento"&&ae.push("Comprovante de agendamento no comprova pagamento; exigir comprovante."),r.emaberto==="sim"&&ae.push("H prazo em aberto na Cmara de origem; sugere-se devolver para aguardar decurso."),r.emaberto!=="sim"&&(r.contrarra!=="apresentadas"&&r.intimado==="no"&&r.semadv==="no"?ae.push("Determinar intimao do(s) recorrido(s) para contrarrazes."):r.contrarra!=="apresentadas"&&r.intimado==="sim"&&r.crraberto==="sim"?ae.push("Prazo de contrarrazes em aberto; aguardar decurso."):r.contrarra!=="apresentadas"&&r.intimado==="sim"&&r.crraberto==="no"&&r.decursocrr==="no"&&ae.push("Determinar certificao do decurso do prazo para contrarrazes.")),r.emepe==="sim"&&r.mani==="sim"&&r.teormani==="mera cincia"&&r.decursomp==="no"||r.emepe==="sim"&&r.mani==="no"&&r.remetido==="sim"&&r.decursomp==="no"?ae.push("Aguardar decurso do prazo para manifestao da PGJ."):r.emepe==="sim"&&r.mani==="no"&&r.remetido==="no"&&ae.push("Encaminhar autos  PGJ.");const R=r.dispensa==="no"&&r.gratuidade==="no invocada"&&(r.comprova==="ausente"||r.comprova==="posteriormente"||r.comprova==="no dia til seguinte ao trmino do prazo"&&r.apos16==="no"),N=Number(r.valorst||0),P=Number(r.valorfj||0);if(R&&(d||g))ae.push(`Caso de recolhimento em dobro; intimar para regularizar. Valores: ${a} ${Ti(d*2)}, FUNJUS ${Ti(g*2)}`);else if(r.dispensa==="no"&&r.gratuidade==="j  ou afirma ser beneficirio"&&r.atoincomp==="sim")ae.push(`Ato incompatvel com justia gratuita; intimar para recolher preparo. Valores: ${a} ${Ti(d)}, FUNJUS ${Ti(g)}`);else if(r.dispensa==="no"&&(r.gratuidade==="no invocada"||r.atoincomp==="sim")&&(N<d||P<g)){const O=[];N<d&&O.push(`${a} ${Ti(d-N)}`),P<g&&O.push(`Funjus ${Ti(g-P)}`),O.length&&ae.push(`Complementar preparo: ${O.join(" | ")}`)}return r.subscritor==="advogado particular"&&r.cadeia==="no"?ae.push("Regularizar cadeia de procuraes para o subscritor."):r.subscritor==="advogado particular"&&r.cadeia==="sim"&&!r.movis&&ae.push("Informar movimentos completos da cadeia de poderes."),r.exclusivi==="requerida"&&r.cadastrada==="no"&&r.regular==="sim"&&ae.push("Deferir pedido de exclusividade e cadastrar procurador nas partes."),r.suspefeito==="requerido em petio apartada"&&r.autuado==="no"&&ae.push("Autuar separadamente o pedido de efeito suspensivo."),{tempest:e,deverST:d,deverFJ:g,stLabel:a,stRateStart:l.start,fjRateStart:u.start,controut:_,mpout:S,grout:x,funjout:j,procurout:te,exclusout:ne,suspefout:ee,parcialout:G,observacoes:ae}},QE=r=>r.camaraArea&&r.camaraNumero?`${r.camaraArea} ${r.camaraNumero}`:r.camara||"",jN=(r,e)=>{const n=[`Tempestividade: ${e.tempest.status==="tempestivo"?"prazo ok":e.tempest.status==="intempestivo"?"avaliar intempestividade":"preencha datas"}`,`Preparo (${e.stLabel}/FUNJUS): ${e.grout}`,`Funjus: ${e.funjout}`,`Pagamento parcial: ${e.parcialout}`,`Contrarrazes: ${e.controut}`,`Ministrio Pblico: ${e.mpout}`,`Representao: ${e.procurout}`,`Exclusividade na intimao: ${e.exclusout}`,`Efeito suspensivo: ${e.suspefout||"N/A"}`];return e.observacoes.forEach(a=>n.push(a)),n},MN=(r,e)=>{var _,S;const n={},a=(x,j)=>{j&&(n[x]=!0)};a("tipo",!r.tipo),a("acordo",r.acordo===""),r.acordo==="sim"&&a("valido",!r.valido),a("desist",r.desist===""),r.desist==="sim"&&a("valida",!r.valida),a("sigla",!r.sigla),a("interp",!r.interp),a("decrec",!r.decrec),a("camaraArea",!r.camaraArea),a("camaraNumero",!r.camaraNumero),a("emaberto",r.emaberto===""),a("envio",!r.envio),a("consulta",r.consulta===""),r.consulta==="sim"&&a("leitura",!r.leitura),a("emdobro",!r.emdobro);const l=Ka(r.envio),u=Ka(r.interp);if(u&&l&&u<l&&(n.envio=!0,n.interp=!0),a("multa",r.multa===""),r.multa==="sim, no recolhida"&&a("motivo",!r.motivo),a("dispensa",r.dispensa===""),r.dispensa==="no"&&(a("gratuidade",r.gratuidade===""),r.gratuidade==="j  ou afirma ser beneficirio"&&(a("deferida",r.deferida===""),r.deferida==="sim"&&a("movdef",!r.movdef),r.deferida==="no"&&(a("requerida",r.requerida===""),r.requerida==="sim"&&a("movped",!r.movped)),a("atoincomp",r.atoincomp==="")),r.gratuidade==="no invocada"&&(a("comprova",r.comprova===""),r.comprova==="no dia til seguinte ao trmino do prazo"&&a("apos16",r.apos16===""))),r.guia==="sim"&&a("guiorig",r.guiorig===""),r.dispensa!=="sim"&&(r.guia==="sim"||r.comp==="sim")&&a("funjusmov",!r.funjusmov),r.dispensa==="no"&&r.gratuidade==="no invocada"&&r.comprova&&r.comprova!=="ausente"){const x=(_=r.grumov)==null?void 0:_.trim(),j=(S=r.grumovComp)==null?void 0:S.trim();a("grumov",!x&&!j)}r.comp==="sim"&&(a("comptipo",!r.comptipo),a("codbar",!r.codbar));const d=r.valorfj.trim(),g=Number(d||0);return r.dispensa==="no"&&r.gratuidade==="no invocada"&&d!==""&&Number.isFinite(g)&&g<e.deverFJ&&a("funjusObs",!r.funjusObs.trim()),a("subscritor",!r.subscritor),r.subscritor==="procurador nomeado"&&a("nomemovi",!r.nomemovi),r.subscritor==="advogado particular"&&(a("movis",!r.movis),a("cadeia",r.cadeia===""),r.cadeia==="no"&&a("faltante",!r.faltante)),a("suspefeito",r.suspefeito===""),r.suspefeito==="requerido em petio apartada"&&a("autuado",r.autuado===""),a("exclusivi",r.exclusivi===""),r.exclusivi==="requerida"&&(a("cadastrada",r.cadastrada===""),r.cadastrada==="no"&&a("regular",r.regular==="")),r.emaberto!=="sim"&&(a("contrarra",r.contrarra===""),r.contrarra!=="apresentadas"&&(a("intimado",r.intimado===""),r.intimado==="sim"?(a("crraberto",r.crraberto===""),r.crraberto==="no"&&a("decursocrr",r.decursocrr==="")):r.intimado==="no"&&a("semadv",r.semadv===""))),a("emepe",r.emepe===""),r.emepe==="sim"&&(a("mani",r.mani===""),r.mani==="sim"?(a("teormani",r.teormani===""),a("manimovis",!r.manimovis),r.teormani==="mera cincia"&&a("decursomp",r.decursomp==="")):r.mani==="no"&&(a("remetido",r.remetido===""),r.remetido==="sim"&&a("decursomp",r.decursomp===""))),n},Ma=[{id:"recurso",label:"Recurso",icon:d2},{id:"dados",label:"Dados iniciais",icon:UT},{id:"tempest",label:"Tempestividade",icon:Em},{id:"preparo",label:"Preparo e custas",icon:BT},{id:"processo",label:"Representao e pedidos",icon:f2},{id:"resumo",label:"Resumo",icon:h2}],l2={recurso:["tipo","acordo","valido","desist","valida","sigla"],dados:["interp","decrec","camaraArea","camaraNumero","emaberto"],tempest:["envio","consulta","leitura","emdobro"],preparo:["multa","motivo","dispensa","gratuidade","deferida","movdef","requerida","movped","atoincomp","comprova","apos16","grumov","funjusmov","guia","guiorig","comp","comptipo","codbar","funjusObs"],processo:["subscritor","nomemovi","movis","cadeia","faltante","suspefeito","autuado","exclusivi","cadastrada","regular","contrarra","contramovis","intimado","intimovi","crraberto","decursocrr","semadv","emepe","mani","teormani","manimovis","decursomp","remetido"],resumo:[]},he=({label:r,children:e})=>m.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-600",children:[m.jsx("span",{className:"min-h-[2.5rem] leading-tight",children:r}),e]}),Nt=({title:r,children:e})=>m.jsxs("div",{className:"card-surface relative bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl p-6 shadow-[0_28px_60px_-42px_rgba(15,23,42,0.55)] overflow-hidden",children:[m.jsx("div",{className:"absolute inset-x-6 top-0 h-[2px] bg-gradient-to-r from-slate-900 via-amber-500 to-teal-500 opacity-80"}),m.jsx("div",{className:"absolute -right-12 -top-10 h-28 w-28 rounded-full bg-amber-200/30 blur-3xl"}),m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-base font-semibold text-slate-900 font-display tracking-tight",children:r}),m.jsx("span",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-[0.22em]",children:"Ficha"})]}),m.jsx("div",{className:"grid gap-4",children:e})]})]}),Gt=({children:r,tone:e="neutral"})=>{const n={neutral:"bg-white/80 border-slate-200 text-slate-700",success:"bg-emerald-50/90 border-emerald-200 text-emerald-800",warning:"bg-amber-50/90 border-amber-200 text-amber-800"};return m.jsx("span",{className:`pill inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-semibold shadow-sm ${n[e]}`,children:r})},u2=({label:r,value:e,helper:n,tone:a="neutral"})=>{const l={neutral:"border-white/70 bg-white/85 text-slate-900 shadow-[0_16px_40px_-30px_rgba(15,23,42,0.45)]",positive:"border-emerald-200/80 bg-emerald-50/90 text-emerald-900 shadow-[0_18px_40px_-30px_rgba(16,185,129,0.35)]",negative:"border-amber-200/80 bg-amber-50/90 text-amber-900 shadow-[0_18px_40px_-30px_rgba(245,158,11,0.35)]"};return m.jsxs("div",{className:`metric-surface rounded-2xl border px-4 py-3 ${l[a]}`,children:[m.jsx("p",{className:"text-[11px] uppercase tracking-[0.24em] font-semibold text-slate-500",children:r}),m.jsx("p",{className:"text-lg font-semibold leading-tight mt-1",children:e}),n&&m.jsx("p",{className:"text-xs mt-1 text-slate-600",children:n})]})},VN=({label:r,icon:e,active:n,onClick:a})=>m.jsxs("button",{type:"button",onClick:a,"aria-current":n?"step":void 0,className:`step-chip group inline-flex items-center gap-2 rounded-full border px-3 py-2 text-xs font-semibold transition shadow-sm whitespace-nowrap ${n?"border-slate-900 bg-slate-900 text-white shadow-[0_12px_30px_-20px_rgba(15,23,42,0.6)]":"border-slate-200 bg-white/80 text-slate-700 hover:border-slate-300 hover:shadow-md"}`,children:[m.jsx(e,{className:`h-4 w-4 ${n?"text-amber-200":"text-slate-500 group-hover:text-slate-700"}`}),m.jsx("span",{children:r})]}),rh=()=>m.jsx("div",{className:"watermark pointer-events-none fixed bottom-4 right-4 z-30 max-w-[320px] text-right text-[9px] leading-tight opacity-80",children:m.jsxs("div",{className:"flex flex-col gap-[1px]",children:[m.jsx("span",{children:"Desenvolvido por :"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"P-SEP-AR - GESTO 2025/2026"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Assessoria de Recursos aos Tribunais Superiores"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"(STF e STJ) da Secretaria Especial da Presidncia"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Elvertoni Martelli Coimbr"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Lus Gustavo Arruda Lanoni"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{className:"font-semibold",children:"Narley Almeida de Sousa"}),m.jsx("span",{className:"block h-[3px]","aria-hidden":"true"}),m.jsx("span",{children:"Rodrigo Louzano"})]})}),kN=()=>{const[r,e]=le.useState(null),[n,a]=le.useState(null),[l,u]=le.useState(!1),[d,g]=le.useState("login"),[y,_]=le.useState(""),[S,x]=le.useState(()=>{try{const k=localStorage.getItem(r2);return k?k==="true":!0}catch{return!0}}),[j,G]=le.useState(""),[te,ne]=le.useState(""),[ee,ae]=le.useState(""),[be,fe]=le.useState(!1),[qe,Ae]=le.useState(""),[Ve,I]=le.useState(""),[R,N]=le.useState(""),[P,O]=le.useState(`${vm}_anon`),[T,C]=le.useState(Xo),[Ue,pt]=le.useState(0),[Q,se]=le.useState(!1),[ve,Le]=le.useState(!1),[Ze,V]=le.useState(null),Y=le.useRef(!1),re=le.useRef(!1),[ue,we]=le.useState(!1),[xe,ke]=le.useState({name:"",photoURL:""}),[Ot,Xe]=le.useState(""),[zi,mr]=le.useState(!1),[pr,In]=le.useState(""),[Gn,gr]=le.useState(!1),[Bi,Zr]=le.useState(!1),[yr,St]=le.useState(""),[It,_n]=le.useState(""),[Zs,rs]=le.useState(!1),[Kt,qi]=le.useState("light"),[oi,vr]=le.useState(0),[Qn,as]=le.useState(!1),[ln,ss]=le.useState([]),[Wr,Kn]=le.useState(""),[tn,En]=le.useState({}),[gt,wi]=le.useState(null),[_r,_t]=le.useState(""),[Yn,Xn]=le.useState(null),[At,un]=le.useState(""),[Mn,jt]=le.useState(""),[Ws,os]=le.useState(null),$n=le.useRef(null),cn=(n==null?void 0:n.role)==="admin",Hi=y?`${y.trim().toLowerCase()}@${Va}`:"";le.useEffect(()=>{if(!Xm||!mt||!Lt){u(!0);return}let k=!0;const w=Iw(mt,async W=>{if(e(W),a(null),u(!1),!W){k&&u(!0);return}try{const Te=W.email||"";if(!ih(Te)){k&&N(`Acesso restrito a contas @${Va}.`),await $c(mt);return}if(!W.emailVerified){k&&N("Confirme o e-mail para acessar a plataforma."),await $c(mt);return}const dt=Fp(Te),yt=dt?hN.includes(dt):!1,We=new Date().toISOString(),wt=ir(Lt,rr,W.uid),di=await t2(wt);let Pe;if(!di.exists())Pe={uid:W.uid,email:Te,name:W.displayName||"",photoURL:W.photoURL||"",role:yt?"admin":"user",active:!0,triageCount:0,theme:"light",createdAt:We,updatedAt:We},await nh(wt,Pe);else{const Je=di.data();Pe={uid:W.uid,email:Je.email??Te,name:Je.name??W.displayName??"",photoURL:Je.photoURL??W.photoURL??"",role:Je.role??(yt?"admin":"user"),active:Je.active??!0,triageCount:Je.triageCount??0,theme:Je.theme??"light",createdAt:Je.createdAt??We,updatedAt:We},(!Je.email||!Je.name||!Je.role||Je.active===void 0||!Je.createdAt)&&(yt?await nh(wt,Pe,{merge:!0}):!Je.name&&Pe.name&&await Us(wt,{name:Pe.name,updatedAt:We}))}if(!Pe.active){k&&N("Conta desativada. Procure um administrador."),await $c(mt);return}k&&(a(Pe),Ae(""),I(""),N(""))}catch(Te){if(k){const dt=rn(Te);Ae(dt),Te.code==="permission-denied"&&I("Aplique as regras do Firestore e tente novamente.")}}finally{k&&u(!0)}});return()=>{k=!1,w()}},[]),le.useEffect(()=>{const k=r!=null&&r.uid?`${vm}_${r.uid}`:`${vm}_anon`;O(k)},[r==null?void 0:r.uid]),le.useEffect(()=>{const k=wN(P);C(k.state),V(k.savedAt),pt(0)},[P]),le.useEffect(()=>{if(!cn||!Lt){ss([]);return}const k=JI(PI(Lt,rr)),w=tN(k,W=>{const Te=W.docs.map(yt=>{const We=yt.data(),wt=We.role==="admin"?"admin":"user";return{uid:yt.id,email:We.email??"",name:We.name??"",photoURL:We.photoURL??"",role:wt,active:We.active??!0,triageCount:We.triageCount??0,theme:We.theme??"light",createdAt:We.createdAt??"",updatedAt:We.updatedAt??""}}),dt=CN(Te);dt.sort((yt,We)=>{const wt=yt.name.localeCompare(We.name,"pt-BR",{sensitivity:"base"});return wt!==0?wt:yt.email.localeCompare(We.email,"pt-BR",{sensitivity:"base"})}),ss(dt)},W=>{_t(rn(W))});return()=>w()},[cn]),le.useEffect(()=>{cn||(as(!1),Xn(null),un(""),jt(""))},[cn]),le.useEffect(()=>{Qn||(Xn(null),un(""),jt(""))},[Qn]),le.useEffect(()=>{ue||(Zr(!1),St(""),_n(""))},[ue]),le.useEffect(()=>{n&&(ke({name:n.name??"",photoURL:n.photoURL??""}),qi(n.theme??"light"),In(""))},[n==null?void 0:n.uid]),le.useEffect(()=>{if(oi<=0)return;const k=window.setTimeout(()=>{vr(w=>Math.max(0,w-1))},1e3);return()=>window.clearTimeout(k)},[oi]),le.useEffect(()=>{try{localStorage.setItem(r2,String(S))}catch{}},[S]),le.useEffect(()=>{document.documentElement.classList.toggle("theme-dark",Kt==="dark");const w=r!=null&&r.uid?`triario_theme_${r.uid}`:"triario_theme_anon";try{localStorage.setItem(w,Kt)}catch{}},[Kt,r==null?void 0:r.uid]);const ye=le.useMemo(()=>ON(T),[T]),ea=le.useMemo(()=>NN(T,ye),[T,ye]),Er=le.useMemo(()=>jN(T,ye),[T,ye]),Fi=le.useMemo(()=>MN(T,ye),[T,ye]),xi=le.useMemo(()=>{const k={recurso:0,dados:0,tempest:0,preparo:0,processo:0,resumo:0};return Object.keys(l2).forEach(w=>{k[w]=l2[w].reduce((W,Te)=>W+(Fi[Te]?1:0),0)}),k},[Fi]),ls=le.useMemo(()=>{const k=Wr.trim().toLowerCase();return k?ln.filter(w=>`${w.name} ${w.email}`.toLowerCase().includes(k)):ln},[Wr,ln]),Jn=le.useMemo(()=>ln.reduce((k,w)=>k+(w.triageCount||0),0),[ln]),Vn=le.useMemo(()=>{const k=[...ln];return k.sort((w,W)=>(W.triageCount||0)-(w.triageCount||0)),k},[ln]),lt=T.dispensa==="sim",Bt=T.valorfj.trim(),Zn=Number(Bt||0),Ri=T.dispensa==="no"&&T.gratuidade==="no invocada"&&Bt!==""&&Number.isFinite(Zn)&&Zn<ye.deverFJ,hl=Ri&&!T.funjusObs.trim(),ta=T.funjusObs.trim(),eo=Ma[Ue].id,Nn=xi[eo]??0,ce=(k,w)=>{C(W=>{var Te;if(k==="funjusmov"){const yt=String(w).trim()?"sim":"";return{...W,[k]:w,guia:yt,comp:yt}}if(k==="grumov"){const dt=String(w),yt=!((Te=W.grumovComp)!=null&&Te.trim())||W.grumovComp===W.grumov;return{...W,[k]:w,grumovComp:yt?dt:W.grumovComp}}return{...W,[k]:w}})},oe=(k,w)=>{const W=T[k],dt=(typeof W=="string"?W.trim()!=="":!!W)?"input input-success":"input";return w?`${dt} ${w}`:dt};le.useEffect(()=>{try{const k=new Date,w={__version:lN,state:T,savedAt:k.toISOString()};localStorage.setItem(P,JSON.stringify(w)),V(k)}catch{}},[T,P]),le.useEffect(()=>{if(!T.usarIntegral)return;const k=ye.deverST?ye.deverST.toFixed(2):"",w=ye.deverFJ?ye.deverFJ.toFixed(2):"";C(W=>!W.usarIntegral||W.valorst===k&&W.valorfj===w?W:{...W,valorst:k,valorfj:w})},[T.usarIntegral,ye.deverST,ye.deverFJ]),le.useEffect(()=>{lt&&C(k=>{if(k.dispensa!=="sim")return k;let w=!1;const W={...k};return W.emdobro!=="em dobro"&&(W.emdobro="em dobro",w=!0),W.subscritor!=="procurador pblico"&&(W.subscritor="procurador pblico",w=!0),w?W:k})},[lt]),le.useEffect(()=>{T.consulta!=="sim"&&T.leitura&&C(k=>k.leitura?{...k,leitura:""}:k)},[T.consulta,T.leitura]),le.useEffect(()=>{T.emdobro||(T.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"||T.subscritor==="procurador nomeado")&&C(k=>k.emdobro?k:{...k,emdobro:"em dobro"})},[T.emdobro,T.gratuidade,T.subscritor]),le.useEffect(()=>{var W;const k=$n.current;if(!k)return;const w=(W=window.matchMedia)==null?void 0:W.call(window,"(prefers-reduced-motion: reduce)").matches;k.scrollIntoView({behavior:w?"auto":"smooth",block:"start"})},[Ue]);const kn=()=>{kt();const k=new Blob([ea],{type:"text/plain"}),w=URL.createObjectURL(k),W=document.createElement("a");W.href=w;const Te=AN(T.sigla);W.download=`resumo-triagem-${Te||"triario"}.txt`,W.click(),URL.revokeObjectURL(w)},bn=async k=>{if(!k)return!1;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(k);else{const w=document.createElement("textarea");w.value=k,document.body.appendChild(w),w.select(),document.execCommand("copy"),document.body.removeChild(w)}return!0}catch{return!1}},li=async()=>{kt(),await bn(ea)?(se(!0),setTimeout(()=>se(!1),1500)):se(!1)},Mt=async()=>{const k=Er.join(`
`);await bn(k)?(Le(!0),setTimeout(()=>Le(!1),1500)):Le(!1)},us=async()=>{if(mt){if(fe(!0),Ae(""),I(""),!y.trim()){Ae("Informe seu usurio @tjpr.jus.br."),fe(!1);return}if(!ih(Hi)){Ae(`Use um e-mail @${Va} para entrar.`),fe(!1);return}try{await Gv(mt,S?Cm:Sh),await ww(mt,Hi,j)}catch(k){Ae(rn(k))}finally{fe(!1)}}},cs=async()=>{if(mt){if(fe(!0),Ae(""),I(""),!y.trim()){Ae("Informe seu usurio @tjpr.jus.br."),fe(!1);return}if(!ih(Hi)){Ae(`O cadastro  permitido apenas para e-mails @${Va}.`),fe(!1);return}if(j.trim().length<6){Ae("A senha precisa ter pelo menos 6 caracteres."),fe(!1);return}if(j!==te){Ae("As senhas no conferem."),fe(!1);return}try{await Gv(mt,S?Cm:Sh);const k=await Aw(mt,Hi,j);ee.trim()&&await Fv(k.user,{displayName:ee.trim()});try{await Hv(k.user)}catch(w){Ae(rn(w))}I("Conta criada. Confirme o e-mail para entrar."),G(""),ne(""),g("login")}catch(k){Ae(rn(k))}finally{fe(!1)}}},ui=async()=>{if(mt){if(fe(!0),Ae(""),I(""),!y.trim()){Ae("Informe seu usurio @tjpr.jus.br."),fe(!1);return}if(!ih(Hi)){Ae(`Use um e-mail @${Va} para redefinir a senha.`),fe(!1);return}try{await hm(mt,Hi),I("Enviamos um e-mail para redefinir sua senha.")}catch(k){Ae(rn(k))}finally{fe(!1)}}},ci=async()=>{if(!(!mt||!r)&&!(oi>0)){fe(!0),Ae(""),I("");try{await Hv(r),vr(20),I("E-mail de confirmao reenviado.")}catch(k){Ae(rn(k))}finally{fe(!1)}}},hs=async()=>{if(!(!mt||!r)){fe(!0),Ae(""),I("");try{await M2(r),r.emailVerified?I("E-mail confirmado. Voc j pode entrar."):Ae("E-mail ainda no confirmado.")}catch(k){Ae(rn(k))}finally{fe(!1)}}},na=async()=>{mt&&(await $c(mt),C(Xo),pt(0),as(!1),we(!1),Xe(""),In(""),gr(!1),vr(0),Y.current=!1,re.current=!1)},br=(k,w)=>{En(W=>{const Te=W[k.uid]??{name:k.name,role:k.role,active:k.active};return{...W,[k.uid]:{...Te,...w}}})},ds=k=>tn[k.uid]??{name:k.name,role:k.role,active:k.active},ia=async k=>{if(!Lt||!mt)return;const w=ds(k),W=ln.filter(dt=>dt.role==="admin").length;if((r==null?void 0:r.uid)===k.uid&&W<=1&&w.role!=="admin"){_t("Voc  o ltimo admin. No  possvel remover seu prprio acesso.");return}if(W<=1&&k.role==="admin"&&w.role!=="admin"){_t(" necessrio manter pelo menos um admin ativo.");return}if(w.name===k.name&&w.role===k.role&&w.active===k.active){_t("Nenhuma alterao pendente para salvar.");return}wi(k.uid),_t("");try{await Us(ir(Lt,rr,k.uid),{name:w.name,role:w.role,active:w.active,updatedAt:new Date().toISOString()}),_t("Cadastro atualizado.")}catch(dt){_t(rn(dt))}finally{wi(null)}},Dn=async k=>{if(mt){_t("");try{await hm(mt,k),_t(`E-mail de redefinio enviado para ${k}.`)}catch(w){_t(rn(w))}}},Vt=async k=>{if(!Lt)return;const w=ln.filter(Te=>Te.role==="admin").length;if((r==null?void 0:r.uid)===k.uid){_t("Voc no pode remover seu prprio acesso de admin.");return}if(w<=1){_t(" necessrio manter pelo menos um admin ativo.");return}_t(""),wi(k.uid);try{await Us(ir(Lt,rr,k.uid),{role:"user",updatedAt:new Date().toISOString()}),_t(`${k.email||"Usurio"} removido do perfil admin.`),En(Te=>Te[k.uid]?{...Te,[k.uid]:{...Te[k.uid],role:"user"}}:Te)}catch(Te){_t(rn(Te))}finally{wi(null)}},kt=async()=>{if(!(!Lt||!r)&&!(Y.current||re.current)){re.current=!0;try{await Us(ir(Lt,rr,r.uid),{triageCount:nN(1),updatedAt:new Date().toISOString()}),Y.current=!0,a(k=>k&&{...k,triageCount:(k.triageCount||0)+1})}catch(k){_t(rn(k))}finally{re.current=!1}}},Gi=async()=>{if(!mt||!r||!Lt||!n)return;const k=xe.name.trim(),w=xe.photoURL.trim(),W={};if(k!==n.name&&(W.name=k),w!==n.photoURL&&(W.photoURL=w),Object.keys(W).length===0){Xe("Nenhuma alterao para salvar.");return}mr(!0),Xe("");try{await Fv(r,{displayName:k||null,photoURL:w||null}),await Us(ir(Lt,rr,r.uid),{...W,updatedAt:new Date().toISOString()}),a(Te=>Te&&{...Te,...W}),Xe("Perfil atualizado.")}catch(Te){Xe(rn(Te))}finally{mr(!1)}},fs=async()=>{if(!(!mt||!(r!=null&&r.email))){Xe("");try{await hm(mt,r.email),Xe("Enviamos um e-mail para redefinir sua senha.")}catch(k){Xe(rn(k))}}},nt=async()=>{if(!(!r||!Lt)){In(""),gr(!0);try{const k=ir(Lt,uN,r.uid),w=await t2(k),W=new Date().toISOString();if(w.exists()){const Te=w.data();Te.status==="approved"?In("Seu acesso j foi aprovado. Saia e entre novamente."):Te.status==="pending"?In("Solicitao j enviada. Aguarde aprovao."):(await nh(k,{uid:r.uid,email:r.email??"",name:r.displayName??"",status:"pending",updatedAt:W},{merge:!0}),In("Solicitao reenviada com sucesso."))}else await nh(k,{uid:r.uid,email:r.email??"",name:r.displayName??"",status:"pending",createdAt:W,updatedAt:W}),In("Solicitao enviada. Aguarde aprovao do admin.")}catch(k){In(rn(k))}finally{gr(!1)}}},Tr=()=>{Zr(k=>!k),St(""),_n("")},hi=async()=>{if(!(!mt||!r||!Lt)){if(!r.email){_n("E-mail do usurio indisponvel.");return}if(!yr.trim()){_n("Informe sua senha para confirmar a excluso.");return}_n(""),rs(!0);try{const k=Ya.credential(r.email,yr);await qv(r,k),await n2(ir(Lt,rr,r.uid)),await Nw(r)}catch(k){_n(rn(k))}finally{rs(!1)}}},Sr=async k=>{if(qi(k),!(!Lt||!r||!n))try{await Us(ir(Lt,rr,r.uid),{theme:k,updatedAt:new Date().toISOString()}),a(w=>w&&{...w,theme:k})}catch(w){Xe(rn(w))}},Tn=async k=>{if(Lt){_t(""),wi(k.uid);try{await Us(ir(Lt,rr,k.uid),{role:"admin",updatedAt:new Date().toISOString()}),_t(`${k.email||"Usurio"} promovido a admin.`),En(w=>w[k.uid]?{...w,[k.uid]:{...w[k.uid],role:"admin"}}:w)}catch(w){_t(rn(w))}finally{wi(null)}}},ra=k=>{if(Yn===k.uid){Xn(null),un(""),jt("");return}Xn(k.uid),un(""),jt("")},to=async k=>{if(!(!mt||!r||!Lt)){if(r.uid===k.uid){jt("No  possvel excluir o prprio usurio.");return}if(!r.email){jt("E-mail do administrador indisponvel.");return}if(!At.trim()){jt("Informe sua senha para confirmar a excluso.");return}jt(""),os(k.uid);try{const w=Ya.credential(r.email,At);await qv(r,w),await n2(ir(Lt,rr,k.uid)),_t("Usurio excludo da base."),Xn(null),un("")}catch(w){jt(rn(w))}finally{os(null)}}},ms=k=>{k.preventDefault(),d==="login"?us():d==="register"?cs():ui()},Qi=()=>pt(k=>Math.min(Ma.length-1,k+1)),no=()=>pt(k=>Math.max(0,k-1)),Ki=()=>{try{localStorage.removeItem(P)}catch{}C(Xo),pt(0),V(null),Y.current=!1,re.current=!1},Sn=()=>{Ki()},ps=(k,w)=>{window.confirm(k)&&(w==null||w(),Sn())},gs=()=>{const k=!!(r&&!n);return m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 page-enter",children:[m.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-10",children:m.jsxs("div",{className:"w-full max-w-2xl space-y-4",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"mx-auto h-14 w-14 rounded-2xl bg-white border border-slate-200 overflow-hidden shadow-lg shadow-slate-300/60 flex items-center justify-center",children:m.jsx("img",{src:i2,alt:"Simba-JUD",className:"h-full w-full object-cover"})}),m.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Simba-JUD"}),m.jsx("h1",{className:"text-2xl font-semibold text-slate-900 font-display",children:"Acesso ao Portal de Triagem"})]}),m.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[{id:"login",label:"Entrar"},{id:"register",label:"Criar conta"},{id:"reset",label:"Redefinir senha"}].map(w=>m.jsx("button",{type:"button",onClick:()=>{g(w.id),Ae(""),I("")},className:`px-4 py-2 rounded-full text-xs font-semibold border transition ${d===w.id?"bg-slate-900 text-white border-slate-900 shadow-sm":"bg-white text-slate-700 border-slate-200 hover:border-slate-300"}`,children:w.label},w.id))}),k&&m.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:[m.jsx("p",{className:"font-semibold",children:"Perfil no carregado."}),m.jsx("p",{className:"mt-1",children:"Verifique as regras do Firestore e domnios autorizados. Se quiser, saia e entre novamente."}),m.jsx("button",{type:"button",onClick:na,className:"mt-3 inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-amber-200 bg-white text-amber-800 hover:shadow-sm transition",children:"Sair"})]}),m.jsx(Nt,{title:"Credenciais",children:m.jsxs("form",{className:"grid gap-4",onSubmit:ms,autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",children:[R&&m.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:R}),qe&&m.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:qe}),Ve&&m.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:Ve}),d==="register"&&m.jsx(he,{label:"Nome completo",children:m.jsx("input",{className:"input",value:ee,onChange:w=>ae(w.target.value),placeholder:"Digite seu nome",autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"})}),m.jsx(he,{label:"E-mail",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("input",{className:"input rounded-r-none",type:"text",value:y,onChange:w=>{const Te=w.target.value.split("@")[0].replace(/\s+/g,"");_(Te)},placeholder:"usuario",autoComplete:"off","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0}),m.jsxs("span",{className:"px-3 py-[0.6rem] border border-l-0 border-slate-200 rounded-r-lg bg-slate-50 text-sm text-slate-600",children:["@",Va]})]})}),d!=="reset"&&m.jsx(he,{label:"Senha",children:m.jsx("input",{className:"input",type:"password",value:j,onChange:w=>G(w.target.value),placeholder:"",autoComplete:"new-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0})}),d!=="reset"&&m.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:S,onChange:w=>x(w.target.checked)}),"Lembrar login neste dispositivo"]}),d==="register"&&m.jsx(he,{label:"Confirme a senha",children:m.jsx("input",{className:"input",type:"password",value:te,onChange:w=>ne(w.target.value),placeholder:"",autoComplete:"new-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true",required:!0})}),d==="reset"&&m.jsx("p",{className:"text-xs text-slate-500",children:"Enviaremos um link de redefinio de senha para o seu e-mail."}),d==="login"&&R.includes("Confirme")&&m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:ci,disabled:be||oi>0,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:oi>0?`Reenviar em ${oi}s`:"Reenviar confirmao"}),m.jsx("button",{type:"button",onClick:hs,disabled:be,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:"J confirmei"})]}),m.jsx("button",{type:"submit",disabled:be,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:be?"Aguarde...":d==="login"?"Entrar":d==="register"?"Criar conta":"Enviar link"})]})}),m.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Cadastro aberto apenas para contas @",Va,"."]})]})}),m.jsx(rh,{})]})},ys=()=>{if(!ue||!n)return null;const k=xe.name||n.email;return m.jsx("div",{className:"mb-6",children:m.jsx(Nt,{title:"Meu perfil",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[m.jsx("div",{className:"avatar-surface h-16 w-16 rounded-2xl border border-slate-200 bg-white/80 flex items-center justify-center overflow-hidden",children:xe.photoURL?m.jsx("img",{src:xe.photoURL,alt:"Foto de perfil",className:"h-full w-full object-cover"}):m.jsx("span",{className:"text-lg font-semibold text-slate-700",children:o2(k)})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:k}),m.jsx("p",{className:"text-xs text-slate-500",children:n.email}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Triagens: ",n.triageCount||0]})]})]}),Ot&&m.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:Ot}),pr&&m.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:pr}),m.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[m.jsx(he,{label:"Nome",children:m.jsx("input",{className:"input",value:xe.name,onChange:w=>ke(W=>({...W,name:w.target.value}))})}),m.jsx(he,{label:"Foto de perfil (URL)",children:m.jsx("input",{className:"input",placeholder:"https://...",value:xe.photoURL,onChange:w=>ke(W=>({...W,photoURL:w.target.value}))})})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[m.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-700",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:Kt==="dark",onChange:w=>Sr(w.target.checked?"dark":"light")}),"Modo escuro"]}),m.jsx("span",{className:"text-xs text-slate-500",children:"Preferncia salva neste dispositivo e no perfil."})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:Gi,disabled:zi,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:zi?"Salvando...":"Salvar perfil"}),m.jsx("button",{type:"button",onClick:fs,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Enviar reset de senha"}),m.jsx("button",{type:"button",onClick:()=>{ke(w=>({...w,photoURL:""}))},className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Remover foto"}),!cn&&m.jsx("button",{type:"button",onClick:nt,disabled:Gn,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-emerald-200 bg-emerald-50 text-emerald-700 hover:bg-emerald-100 transition shadow-sm disabled:opacity-60",children:Gn?"Enviando...":"Solicitar acesso admin"}),m.jsx("button",{type:"button",onClick:Tr,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100 transition shadow-sm",children:Bi?"Cancelar excluso":"Excluir minha conta"})]}),Bi&&m.jsxs("div",{className:"rounded-xl border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[m.jsx("p",{className:"font-semibold",children:"Confirmao de excluso"}),m.jsx("p",{className:"mt-1",children:"Esta ao  permanente. Informe sua senha para apagar sua conta."}),It&&m.jsx("p",{className:"mt-2 text-xs text-rose-700",children:It}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[m.jsx("input",{className:"input flex-1 min-w-[200px]",type:"password",value:yr,onChange:w=>{St(w.target.value),It&&_n("")},placeholder:"Senha atual",autoComplete:"current-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"}),m.jsx("button",{type:"button",onClick:hi,disabled:Zs,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:Zs?"Excluindo...":"Excluir conta"})]})]})]})})})},aa=()=>{if(!cn||!Qn)return null;const k=ln.filter(w=>w.role==="admin").length;return m.jsxs("div",{className:"mb-6 space-y-4",children:[m.jsx(Nt,{title:"Dashboard de triagens",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsxs(Gt,{children:[Jn," triagem(ns) registradas"]}),m.jsxs(Gt,{children:[ln.length," usurio(s)"]})]}),Vn.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhuma triagem registrada."}):m.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:Vn.map(w=>m.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-white/80 px-4 py-3 text-sm text-slate-700",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"font-semibold text-slate-900 truncate",children:w.name||w.email||"Sem nome"}),m.jsx("p",{className:"text-xs text-slate-500 truncate",children:w.email})]}),m.jsx("span",{className:"font-semibold",children:w.triageCount||0})]},w.uid))})]})}),m.jsx(Nt,{title:"Administrao de usurios",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("input",{className:"input flex-1 min-w-[220px]",placeholder:"Buscar por nome ou e-mail",value:Wr,onChange:w=>Kn(w.target.value)}),m.jsxs(Gt,{children:[ln.length," usurio(s)"]}),m.jsxs(Gt,{tone:"success",children:[k," admin(s)"]})]}),_r&&m.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:_r}),ls.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum usurio encontrado."}):m.jsx("div",{className:"grid gap-3",children:ls.map(w=>{const W=ds(w),Te=(r==null?void 0:r.uid)===w.uid,dt=Te&&k<=1,yt=Yn===w.uid,We=Te,wt=w.role!=="admin"&&W.role!=="admin",di=w.role==="admin"&&W.role==="admin",Pe=Te||k<=1;return m.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 shadow-sm",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:w.name||"Sem nome"}),m.jsx("p",{className:"text-xs text-slate-500",children:w.email||"E-mail no informado"}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Triagens: ",w.triageCount||0]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[Te&&m.jsx(Gt,{children:"Voc"}),w.role==="admin"&&m.jsx(Gt,{tone:"success",children:"Admin"}),!w.active&&m.jsx(Gt,{tone:"warning",children:"Desativado"})]})]}),m.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[m.jsx(he,{label:"Nome",children:m.jsx("input",{className:"input",value:W.name,onChange:Je=>br(w,{name:Je.target.value})})}),m.jsxs(he,{label:"Perfil",children:[m.jsxs("select",{className:"input",value:W.role,disabled:dt,onChange:Je=>br(w,{role:Je.target.value}),children:[m.jsx("option",{value:"user",children:"Usurio"}),m.jsx("option",{value:"admin",children:"Admin"})]}),dt&&m.jsx("span",{className:"text-xs text-slate-500",children:"Voc  o nico admin cadastrado."})]}),m.jsx(he,{label:"Status",children:m.jsxs("select",{className:"input",value:W.active?"ativo":"inativo",onChange:Je=>br(w,{active:Je.target.value==="ativo"}),children:[m.jsx("option",{value:"ativo",children:"Ativo"}),m.jsx("option",{value:"inativo",children:"Desativado"})]})})]}),m.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:()=>ia(w),disabled:gt===w.uid,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:gt===w.uid?"Salvando...":"Salvar"}),wt&&m.jsx("button",{type:"button",onClick:()=>Tn(w),disabled:gt===w.uid,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-emerald-200 bg-emerald-600 text-white hover:bg-emerald-700 transition shadow-sm disabled:opacity-60",children:"Promover a admin"}),di&&m.jsx("button",{type:"button",onClick:()=>Vt(w),disabled:gt===w.uid||Pe,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-amber-200 bg-amber-50 text-amber-700 hover:bg-amber-100 transition shadow-sm disabled:opacity-60",children:"Remover admin"}),m.jsx("button",{type:"button",onClick:()=>Dn(w.email),disabled:!w.email,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:"Enviar reset de senha"}),m.jsx("button",{type:"button",onClick:()=>ra(w),disabled:We,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-rose-200 bg-rose-50 text-rose-700 hover:bg-rose-100 transition shadow-sm disabled:opacity-60",children:yt?"Cancelar excluso":"Excluir usurio"})]}),yt&&m.jsxs("div",{className:"mt-3 rounded-xl border border-rose-200 bg-rose-50 px-3 py-3 text-sm text-rose-700",children:[m.jsx("p",{className:"font-semibold",children:"Confirmao de excluso"}),m.jsx("p",{className:"mt-1",children:"Para excluir este usurio, informe sua senha de administrador."}),Mn&&m.jsx("p",{className:"mt-2 text-xs text-rose-700",children:Mn}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[m.jsx("input",{className:"input flex-1 min-w-[200px]",type:"password",value:At,onChange:Je=>{un(Je.target.value),Mn&&jt("")},placeholder:"Senha do admin",autoComplete:"current-password","data-lpignore":"true","data-1p-ignore":"true","data-bwignore":"true"}),m.jsx("button",{type:"button",onClick:()=>to(w),disabled:Ws===w.uid,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-rose-600 text-white hover:bg-rose-700 transition shadow-sm disabled:opacity-60",children:Ws===w.uid?"Excluindo...":"Excluir"})]})]})]},w.uid)})})]})})]})},io=()=>{const k=(()=>{switch(Ma[Ue].id){case"recurso":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(Nt,{title:"Triar um novo recurso",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(he,{label:"Tipo",children:m.jsxs("select",{className:oe("tipo"),value:T.tipo,onChange:w=>ce("tipo",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Especial",children:"Especial"}),m.jsx("option",{value:"Extraordinrio",children:"Extraordinrio"})]})}),m.jsx(he,{label:"Sigla para minutas",children:m.jsx("input",{className:oe("sigla"),placeholder:"AR-99",value:T.sigla,onChange:w=>{const W=w.target.value;ce("sigla",W.replace(/^[aA][rR]/,"AR"))}})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(he,{label:"Acordo",children:m.jsxs("select",{className:oe("acordo"),value:T.acordo,onChange:w=>ce("acordo",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.acordo==="sim"&&m.jsx(he,{label:"Acordo vlido?",children:m.jsxs("select",{className:oe("valido"),value:T.valido,onChange:w=>ce("valido",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(he,{label:"Desistncia",children:m.jsxs("select",{className:oe("desist"),value:T.desist,onChange:w=>ce("desist",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.desist==="sim"&&m.jsx(he,{label:"Desistncia vlida?",children:m.jsxs("select",{className:oe("valida"),value:T.valida,onChange:w=>ce("valida",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]}),m.jsx(Nt,{title:"Ajuda rpida",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsxs("li",{children:[m.jsx(Gt,{children:"Importante"})," Confirme a validade de acordos e desistncias antes de prosseguir."]}),m.jsxs("li",{children:[m.jsx(Gt,{children:"Tipificao"})," Especial aplica tabela STJ; Extraordinrio aplica tabela STF."]}),m.jsxs("li",{children:[m.jsx(Gt,{children:"Sigla"})," Use o padro interno (ex.: AR-130E+T) para a minuta/post-it."]})]})})]});case"dados":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(Nt,{title:"Dados iniciais",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(he,{label:"Interposio (data)",children:m.jsx("input",{type:"date",className:oe("interp"),value:T.interp,onChange:w=>ce("interp",w.target.value)})}),m.jsx(he,{label:"Deciso recorrida",children:m.jsxs("select",{className:oe("decrec"),value:T.decrec,onChange:w=>ce("decrec",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"colegiada/acrdo",children:"colegiada/acrdo"}),m.jsx("option",{value:"monocrtica/singular",children:"Monocrtica/singular"})]})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(he,{label:"Cmara (ramo)",children:m.jsxs("select",{className:oe("camaraArea"),value:T.camaraArea,onChange:w=>ce("camaraArea",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Cvel",children:"Cvel"}),m.jsx("option",{value:"Crime",children:"Crime"})]})}),m.jsx(he,{label:"Nmero da Cmara",children:m.jsx("input",{className:oe("camaraNumero","no-spinner"),type:"number",min:1,placeholder:"Ex.: 7",value:T.camaraNumero,onChange:w=>ce("camaraNumero",w.target.value)})}),m.jsx(he,{label:"Prazo em aberto na origem?",children:m.jsxs("select",{className:oe("emaberto"),value:T.emaberto,onChange:w=>ce("emaberto",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]}),m.jsx(Nt,{title:"Checklist rpido",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Se for deciso monocrtica, o fluxo deve seguir at a etapa de custas."}),m.jsx("li",{children:" Prazo em aberto ignora contrarrazes (sero tratadas depois)."})]})})]});case"tempest":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(Nt,{title:"Tempestividade",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(he,{label:"Envio (expedio) da intimao",children:m.jsx("input",{type:"date",className:oe("envio"),value:T.envio,onChange:w=>ce("envio",w.target.value)})}),m.jsx(he,{label:"Consulta eletrnica (leitura)",children:m.jsxs("select",{className:oe("consulta"),value:T.consulta,onChange:w=>ce("consulta",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.consulta==="sim"&&m.jsx(he,{label:"Data da leitura",children:m.jsx("input",{type:"date",className:oe("leitura"),value:T.leitura,onChange:w=>ce("leitura",w.target.value)})}),m.jsx(he,{label:"Prazo",children:m.jsxs("select",{className:oe("emdobro"),value:T.emdobro,disabled:lt,onChange:w=>ce("emdobro",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"simples",children:"Simples (15 dias)"}),m.jsx("option",{value:"em dobro",children:"Em dobro (30 dias)"})]})}),lt&&m.jsx("p",{className:"text-xs text-slate-500",children:"rgo pblico informado: prazo em dobro aplicado automaticamente."}),m.jsx("p",{className:"md:col-span-2 text-xs text-slate-500",children:"Use prazo em dobro apenas para Defensoria Pblica, MP, NPJ ou advogado dativo."})]}),m.jsxs("div",{className:"mt-4 bg-slate-50 border border-slate-200 rounded-xl p-4",children:[m.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Resultado parcial"}),ye.tempest.status==="pendente"?m.jsx("div",{className:"text-sm text-slate-500",children:ye.tempest.mensagem}):m.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm text-slate-800",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Intimao:"})," ",Mi(ye.tempest.intim)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Comeo do prazo:"})," ",Mi(ye.tempest.comeco)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Prazo:"})," ",ye.tempest.prazo," dias"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Vencimento:"})," ",Mi(ye.tempest.venc)]}),m.jsxs("div",{className:"col-span-full flex items-center gap-2 text-sm",children:[ye.tempest.status==="tempestivo"?m.jsx(h2,{className:"w-4 h-4 text-green-600"}):m.jsx(f2,{className:"w-4 h-4 text-amber-500"}),m.jsx("span",{className:"font-semibold uppercase tracking-tight",children:ye.tempest.status})]})]})]})]}),m.jsx(Nt,{title:"Critrios usados",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Intimao presumida 10 dias aps expedio (aps vinculao no DJEN), salvo leitura antes disso."}),m.jsx("li",{children:" Ateno ao calendrio e s comprovaes de feriado/prorrogao."}),m.jsx("li",{children:" Prazo em dobro: apenas Defensoria Pblica, MP, NPJ ou advogado dativo."})]})})]});case"preparo":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsx(Nt,{title:"Preparo e custas",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(he,{label:"Multa por embargos protelatrios",children:m.jsxs("select",{className:oe("multa"),value:T.multa,onChange:w=>ce("multa",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no",children:"No"}),m.jsx("option",{value:"sim, recolhida",children:"Sim, recolhida"}),m.jsx("option",{value:"sim, no recolhida",children:"Sim, no recolhida"})]})}),T.multa==="sim, no recolhida"&&m.jsx(he,{label:"Motivo",children:m.jsxs("select",{className:oe("motivo"),value:T.motivo,onChange:w=>ce("motivo",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Fazenda Pblica ou justia gratuita",children:"Fazenda Pblica ou justia gratuita"}),m.jsx("option",{value:" o prprio objeto do recurso",children:" o prprio objeto do recurso"}),m.jsx("option",{value:"no identificado",children:"No identificado"})]})}),m.jsx(he,{label:"Dispensa (MP/ente pblico/autarquia)",children:m.jsxs("select",{className:oe("dispensa"),value:T.dispensa,onChange:w=>ce("dispensa",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.dispensa==="sim"&&m.jsx("p",{className:"text-xs text-slate-500",children:"Dispensa informada: justia gratuita no  necessria."}),T.dispensa==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Justia gratuita",children:m.jsxs("select",{className:oe("gratuidade"),value:T.gratuidade,onChange:w=>ce("gratuidade",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no invocada",children:"No invocada"}),m.jsx("option",{value:"j  ou afirma ser beneficirio",children:"J  ou afirma ser beneficirio"}),m.jsx("option",{value:"requer no recurso em anlise",children:"Requer no recurso em anlise"}),m.jsx("option",{value:" o prprio objeto do recurso",children:" o prprio objeto do recurso"}),m.jsx("option",{value:"presumida (defensor pblico, dativo ou NPJ)",children:"Presumida (defensor pblico, dativo ou NPJ)"})]})}),T.gratuidade==="j  ou afirma ser beneficirio"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Deferida expressamente?",children:m.jsxs("select",{className:oe("deferida"),value:T.deferida,onChange:w=>ce("deferida",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.deferida==="sim"&&m.jsx(he,{label:"Movimento (deferimento)",children:m.jsx("input",{className:oe("movdef"),placeholder:"Ex.: 9.1",value:T.movdef,onChange:w=>ce("movdef",w.target.value)})}),T.deferida==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Requerida anteriormente?",children:m.jsxs("select",{className:oe("requerida"),value:T.requerida,onChange:w=>ce("requerida",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.requerida==="sim"&&m.jsx(he,{label:"Movimento (pedido)",children:m.jsx("input",{className:oe("movped"),placeholder:"Ex.: 9.1",value:T.movped,onChange:w=>ce("movped",w.target.value)})})]}),m.jsx(he,{label:"Ato incompatvel (pagamento prvio)?",children:m.jsxs("select",{className:oe("atoincomp"),value:T.atoincomp,onChange:w=>ce("atoincomp",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),T.gratuidade==="no invocada"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Comprovao de preparo",children:m.jsxs("select",{className:oe("comprova"),value:T.comprova,onChange:w=>ce("comprova",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no prazo para interposio do recurso",children:"No prazo para interposio do recurso"}),m.jsx("option",{value:"no dia til seguinte ao trmino do prazo",children:"No dia til seguinte ao trmino do prazo"}),m.jsx("option",{value:"posteriormente",children:"Posteriormente"}),m.jsx("option",{value:"ausente",children:"Ausente"})]})}),T.comprova==="no dia til seguinte ao trmino do prazo"&&m.jsx(he,{label:"Recurso interposto no ltimo dia, aps as 16h?",children:m.jsxs("select",{className:oe("apos16"),value:T.apos16,onChange:w=>ce("apos16",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})]})}),!lt&&m.jsxs(Nt,{title:"Documentos e valores",children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsx(he,{label:"Movimento GRU (guia/comprovante)",children:m.jsx("input",{className:oe("grumov"),placeholder:"Ex.: 1.2",value:T.grumov,onChange:w=>ce("grumov",w.target.value)})}),m.jsx(he,{label:"Movimento GRU (auto)",children:m.jsx("input",{className:oe("grumovComp"),placeholder:"Ex.: 1.2",value:T.grumovComp,onChange:w=>ce("grumovComp",w.target.value)})}),m.jsx("div",{className:"md:col-span-2",children:m.jsxs(he,{label:`Valor pago ${ye.stLabel}/FUNJUS`,children:[m.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 mb-2",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:T.usarIntegral,onChange:w=>ce("usarIntegral",w.target.checked)}),m.jsx("span",{children:"Usar valor integral devido (preenche automtico)"})]}),m.jsxs("div",{className:"grid gap-2",children:[m.jsx("input",{className:oe("valorst"),type:"number",step:"0.01",placeholder:"STJ/STF",value:T.valorst,onChange:w=>ce("valorst",w.target.value)}),m.jsx("input",{className:oe("valorfj"),type:"number",step:"0.01",placeholder:"Funjus",value:T.valorfj,onChange:w=>ce("valorfj",w.target.value)})]})]})}),Ri&&m.jsx("div",{className:"md:col-span-2",children:m.jsxs(he,{label:"Justificativa Funjus (valor abaixo do padro)",children:[m.jsx("textarea",{className:oe("funjusObs","h-24 resize-none"),maxLength:400,placeholder:"Descreva o motivo do valor menor.",value:T.funjusObs,onChange:w=>ce("funjusObs",w.target.value)}),hl&&m.jsx("span",{className:"text-xs text-rose-600",children:"Informe o motivo do valor menor."})]})}),m.jsx(he,{label:"Movimento FUNJUS (guia/comprovante)",children:m.jsx("input",{className:oe("funjusmov"),placeholder:"Ex.: 1.5",value:T.funjusmov,onChange:w=>ce("funjusmov",w.target.value)})}),m.jsx(he,{label:"Juntou guia?",children:m.jsxs("select",{className:oe("guia"),value:T.guia,onChange:w=>ce("guia",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.guia==="sim"&&m.jsx(m.Fragment,{children:m.jsx(he,{label:"Guia original para o recurso?",children:m.jsxs("select",{className:oe("guiorig"),value:T.guiorig,onChange:w=>ce("guiorig",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})}),m.jsx(he,{label:"Juntou comprovante?",children:m.jsxs("select",{className:oe("comp"),value:T.comp,onChange:w=>ce("comp",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.comp==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Tipo de comprovante",children:m.jsxs("select",{className:oe("comptipo"),value:T.comptipo,onChange:w=>ce("comptipo",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"de pagamento",children:"De pagamento"}),m.jsx("option",{value:"de agendamento",children:"De agendamento"})]})}),m.jsx(he,{label:"Cdigo de barras",children:m.jsxs("select",{className:oe("codbar"),value:T.codbar,onChange:w=>ce("codbar",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"confere",children:"Confere"}),m.jsx("option",{value:"diverge ou guia ausente",children:"Diverge ou guia ausente"})]})})]}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(he,{label:"COHAB LD? (parcial Funjus)",children:m.jsxs("select",{className:oe("parcialTipo"),value:T.parcialTipo,onChange:w=>ce("parcialTipo",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no",children:"No"}),m.jsx("option",{value:"JG parcial",children:"JG parcial"}),m.jsx("option",{value:"COHAB Londrina",children:"COHAB Londrina"}),m.jsx("option",{value:"outros",children:"Outros (especificar)"})]})})}),T.parcialTipo==="outros"&&m.jsx("div",{className:"md:col-span-2",children:m.jsx(he,{label:"Descrever pagamento parcial",children:m.jsx("input",{className:oe("parcialOutro"),placeholder:"Ex.: parcelamento, precatrio, etc.",value:T.parcialOutro,onChange:w=>ce("parcialOutro",w.target.value)})})})]}),T.interp?m.jsxs("div",{className:"mt-4 space-y-1 text-sm text-slate-600",children:[m.jsxs("div",{children:["Valores devidos agora: ",ye.stLabel," ",Ti(ye.deverST)," | FUNJUS"," ",Ti(ye.deverFJ)]}),m.jsxs("div",{className:"text-xs text-slate-500",children:["Base aplicada: ",ye.stLabel," ",Ph(ye.stRateStart)," | FUNJUS"," ",Ph(ye.fjRateStart)]})]}):m.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Informe a data de interposio para calcular as custas automaticamente."})]}),!lt&&m.jsx(Nt,{title:"Notas prticas",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Marque de agendamento se o comprovante no tem autenticao."}),m.jsx("li",{children:" Se houver ato incompatvel com a gratuidade, o preparo ser exigido."}),m.jsx("li",{children:" Campos de movimento ajudam a gerar a minuta/post-it automaticamente."})]})})]});case"processo":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[T.emaberto==="sim"&&m.jsx("div",{className:"lg:col-span-2 rounded-2xl border border-slate-200/80 bg-white/80 text-slate-700 p-4 text-sm shadow-sm",children:"Prazo em aberto na origem: contrarrazes podem ser tratadas depois. Preencha apenas se j houver dados."}),m.jsx(Nt,{title:"Representao",children:lt?m.jsx("p",{className:"text-sm text-slate-600",children:"rgo pblico informado: procurao dispensada."}):m.jsxs("div",{className:"grid gap-4",children:[m.jsx(he,{label:"Subscritor",children:m.jsxs("select",{className:oe("subscritor"),value:T.subscritor,onChange:w=>ce("subscritor",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"advogado particular",children:"Advogado particular"}),m.jsx("option",{value:"procurador pblico",children:"Procurador pblico"}),m.jsx("option",{value:"procurador nomeado",children:"Procurador nomeado"}),m.jsx("option",{value:"advogado em causa prpria",children:"Advogado em causa prpria"})]})}),T.subscritor==="procurador nomeado"&&m.jsx(he,{label:"Movimento (nomeao)",children:m.jsx("input",{className:oe("nomemovi"),placeholder:"Ex.: 9.1",value:T.nomemovi,onChange:w=>ce("nomemovi",w.target.value)})}),T.subscritor==="advogado particular"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Movimentos (cadeia de poderes)",children:m.jsx("input",{className:oe("movis"),placeholder:"Ex.: 1.1; 9.1; via sistema",value:T.movis,onChange:w=>ce("movis",w.target.value)})}),m.jsx(he,{label:"Cadeia completa?",children:m.jsxs("select",{className:oe("cadeia"),value:T.cadeia,onChange:w=>ce("cadeia",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.cadeia==="no"&&m.jsx(he,{label:"Poderes faltantes",children:m.jsxs("select",{className:oe("faltante"),value:T.faltante,onChange:w=>ce("faltante",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"ao prprio subscritor",children:"Ao prprio subscritor"}),m.jsx("option",{value:"a outro elo da cadeia",children:"A outro elo da cadeia"})]})})]})]})}),m.jsx(Nt,{title:"Pedidos",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(he,{label:"Efeito suspensivo",children:m.jsxs("select",{className:oe("suspefeito"),value:T.suspefeito,onChange:w=>ce("suspefeito",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no requerido",children:"No requerido"}),m.jsx("option",{value:"requerido no corpo do recurso",children:"Requerido no corpo do recurso"}),m.jsx("option",{value:"requerido em petio apartada",children:"Requerido em petio apartada"})]})}),T.suspefeito==="requerido em petio apartada"&&m.jsx(he,{label:"Autuado?",children:m.jsxs("select",{className:oe("autuado"),value:T.autuado,onChange:w=>ce("autuado",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),m.jsx(he,{label:"Exclusividade na intimao",children:m.jsxs("select",{className:oe("exclusivi"),value:T.exclusivi,onChange:w=>ce("exclusivi",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"requerida",children:"Requerida"}),m.jsx("option",{value:"no requerida",children:"No requerida"})]})}),T.exclusivi==="requerida"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Procurador j cadastrado?",children:m.jsxs("select",{className:oe("cadastrada"),value:T.cadastrada,onChange:w=>ce("cadastrada",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.cadastrada==="no"&&m.jsx(he,{label:"Advogado regularmente constitudo?",children:m.jsxs("select",{className:oe("regular"),value:T.regular,onChange:w=>ce("regular",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})}),m.jsx(Nt,{title:"Processamento",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(he,{label:"Contrarrazes",children:m.jsxs("select",{className:oe("contrarra"),value:T.contrarra,onChange:w=>ce("contrarra",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"apresentadas",children:"Apresentadas"}),m.jsx("option",{value:"ausente alguma",children:"Ausente alguma"}),m.jsx("option",{value:"ausentes",children:"Ausentes"})]})}),T.contrarra!==""&&T.contrarra!=="ausentes"&&m.jsx(he,{label:"Movimentos das contrarrazes/renncia",children:m.jsx("input",{className:oe("contramovis"),placeholder:"Ex.: 6.1; 7.1 (renncia)",value:T.contramovis,onChange:w=>ce("contramovis",w.target.value)})}),T.contrarra!=="apresentadas"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Recorrido(s) intimado(s)?",children:m.jsxs("select",{className:oe("intimado"),value:T.intimado,onChange:w=>ce("intimado",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.intimado==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Movimento de intimao",children:m.jsx("input",{className:oe("intimovi"),placeholder:"Ex.: 3.1",value:T.intimovi,onChange:w=>ce("intimovi",w.target.value)})}),m.jsx(he,{label:"Prazo em aberto para algum recorrido?",children:m.jsxs("select",{className:oe("crraberto"),value:T.crraberto,onChange:w=>ce("crraberto",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.crraberto==="no"&&m.jsx(he,{label:"Decurso certificado?",children:m.jsxs("select",{className:oe("decursocrr"),value:T.decursocrr,onChange:w=>ce("decursocrr",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),T.intimado==="no"&&m.jsx(he,{label:"Recorrido(s) sem advogado constitudo?",children:m.jsxs("select",{className:oe("semadv"),value:T.semadv,onChange:w=>ce("semadv",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),m.jsx(he,{label:"Interveno do MP?",children:m.jsxs("select",{className:oe("emepe"),value:T.emepe,onChange:w=>ce("emepe",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.emepe==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Manifestao nos autos?",children:m.jsxs("select",{className:oe("mani"),value:T.mani,onChange:w=>ce("mani",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.mani==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Teor da manifestao",children:m.jsxs("select",{className:oe("teormani"),value:T.teormani,onChange:w=>ce("teormani",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"mera cincia",children:"Mera cincia"}),m.jsx("option",{value:"pela admisso",children:"Pela admisso"}),m.jsx("option",{value:"pela inadmisso",children:"Pela inadmisso"}),m.jsx("option",{value:"ausncia de interesse",children:"Ausncia de interesse"})]})}),m.jsx(he,{label:"Movimento",children:m.jsx("input",{className:oe("manimovis"),placeholder:"Ex.: 9.1",value:T.manimovis,onChange:w=>ce("manimovis",w.target.value)})}),T.teormani==="mera cincia"&&m.jsx(he,{label:"Decurso do prazo?",children:m.jsxs("select",{className:oe("decursomp"),value:T.decursomp,onChange:w=>ce("decursomp",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),T.mani==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(he,{label:"Autos remetidos?",children:m.jsxs("select",{className:oe("remetido"),value:T.remetido,onChange:w=>ce("remetido",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),T.remetido==="sim"&&m.jsx(he,{label:"Decurso do prazo?",children:m.jsxs("select",{className:oe("decursomp"),value:T.decursomp,onChange:w=>ce("decursomp",w.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})]})})]});case"resumo":return m.jsxs("div",{className:"space-y-4",children:[m.jsx(Nt,{title:"Resultado da triagem",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm text-slate-800",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Tempestivo:"})," ",ye.tempest.status]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Contrarrazes:"})," ",ye.controut]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Ministrio Pblico:"})," ",ye.mpout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"GRU:"})," ",ye.grout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Funjus:"})," ",ye.funjout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Procurao/Nomeao:"})," ",ye.procurout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Exclusividade na intimao:"})," ",ye.exclusout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Efeito suspensivo:"})," ",ye.suspefout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Pagamento parcial:"})," ",ye.parcialout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Vencimento:"})," ",Mi(ye.tempest.venc)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Prazo:"})," ",ye.tempest.prazo||""," dias"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Cmara:"})," ",QE(T)]})]})}),m.jsx(Nt,{title:"Observaes e minutas sugeridas",children:ye.observacoes.length===0&&!(Ri&&ta)?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhuma observao pendente."}):m.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[ye.observacoes.length>0&&m.jsx("ul",{className:"list-disc pl-5 space-y-2",children:ye.observacoes.map((w,W)=>m.jsx("li",{children:w},W))}),Ri&&ta&&m.jsxs("p",{children:[m.jsx("strong",{children:"Justificativa Funjus:"})," ",ta]})]})}),m.jsx("div",{className:"grid lg:grid-cols-2 gap-4",children:m.jsx(Nt,{title:"Notas rpidas (salvas no navegador)",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("textarea",{className:oe("anotacoes","h-32 resize-none"),maxLength:900,placeholder:"Pendncias especficas, nomes de partes, nmeros de telefone...",value:T.anotacoes,onChange:w=>ce("anotacoes",w.target.value)}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[m.jsx("span",{children:"Anotaes guardadas apenas neste dispositivo."}),m.jsxs("span",{children:[T.anotacoes.length,"/900"]})]})]})})}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("button",{onClick:li,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:[m.jsx(Em,{className:"w-4 h-4"}),Q?"Copiado!":"Copiar resumo"]}),m.jsx("span",{className:"sr-only",role:"status","aria-live":"polite",children:Q?"Resumo copiado para a rea de transferncia.":""})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[m.jsxs(Gt,{children:[ye.stLabel,": ",Ti(ye.deverST)," | FUNJUS: ",Ti(ye.deverFJ)]}),m.jsxs(Gt,{children:["Intimao: ",Mi(ye.tempest.intim)]}),m.jsxs(Gt,{children:["Comeo do prazo: ",Mi(ye.tempest.comeco)]})]})]});default:return null}})();return k?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsx(Gt,{tone:Nn===0?"success":"warning",children:Nn===0?"Etapa completa":`${Nn} campo(s) pendente(s)`}),Nn>0&&m.jsx("span",{className:"text-xs text-slate-500",children:"Complete os campos pendentes para avanar."})]}),k]}):null},Yi=ye.tempest.status==="tempestivo"?"positive":ye.tempest.status==="intempestivo"?"negative":"neutral",sa=T.contrarra==="apresentadas"?"positive":T.contrarra==="ausentes"||T.contrarra==="ausente alguma"?"negative":"neutral",Pn=Ze?`Salvo s ${bN(Ze)}`:"Salvamento local",oa=Math.round(Ue/(Ma.length-1)*100);return Xm?l?!r||!n?gs():m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 relative page-enter",children:[m.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[m.jsx("div",{className:"absolute -top-24 -left-16 h-72 w-72 rounded-full bg-amber-200/30 blur-3xl"}),m.jsx("div",{className:"absolute top-6 right-[-5rem] h-64 w-64 rounded-full bg-teal-200/30 blur-3xl"}),m.jsx("div",{className:"absolute bottom-[-8rem] left-10 h-80 w-80 rounded-full bg-sky-200/30 blur-3xl"})]}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("header",{className:"header-surface border-b border-white/60 bg-white/75 backdrop-blur-2xl shadow-[0_25px_70px_-50px_rgba(15,23,42,0.55)]",children:[m.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-5 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"h-11 w-11 rounded-2xl bg-white border border-slate-200 overflow-hidden shadow-lg shadow-slate-300/60 flex items-center justify-center",children:m.jsx("img",{src:i2,alt:"Simba-JUD",className:"h-full w-full object-cover"})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs uppercase tracking-[0.22em] text-slate-500",children:"Simba-JUD"}),m.jsx("h1",{className:"text-xl font-semibold text-slate-900 leading-tight font-display",children:"Admissibilidade Recursal"})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[m.jsx(Gt,{children:Pn}),m.jsxs("div",{className:"user-chip flex items-center gap-2 rounded-full border border-slate-200 bg-white/80 px-3 py-1 shadow-sm",children:[m.jsx("div",{className:"avatar-surface h-6 w-6 rounded-full overflow-hidden border border-slate-200 bg-white flex items-center justify-center",children:n.photoURL?m.jsx("img",{src:n.photoURL,alt:"Perfil",className:"h-full w-full object-cover"}):m.jsx("span",{className:"text-[10px] font-semibold text-slate-600",children:o2(n.name||n.email)})}),m.jsx("span",{className:"text-xs font-semibold text-slate-700",children:n.name||n.email})]}),m.jsxs(Gt,{children:["Triagens: ",n.triageCount||0]}),cn&&m.jsx(Gt,{tone:"success",children:"Admin"})]}),m.jsx("button",{onClick:()=>we(k=>!k),className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:ue?"Fechar perfil":"Perfil"}),cn&&m.jsx("button",{onClick:()=>as(k=>!k),className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:Qn?"Fechar admin":"Administrao"}),m.jsx("button",{onClick:na,className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Sair"}),m.jsx("button",{onClick:()=>ps("Isso vai limpar a triagem atual. Deseja continuar?"),className:"text-sm px-3 py-2 rounded-lg border border-slate-900 bg-slate-900 text-white hover:bg-black transition shadow-sm",children:"Recomear"})]})]}),m.jsxs("div",{className:"max-w-6xl mx-auto px-4 pb-4",children:[m.jsx("div",{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":oa,"aria-label":"Progresso da triagem",className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-slate-900 via-amber-500 to-teal-500 transition-all",style:{width:`${oa}%`}})}),m.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Etapa ",Ue+1," de ",Ma.length,": ",Ma[Ue].label]}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 md:hidden",children:[m.jsx(Gt,{children:Pn}),m.jsx(Gt,{children:n.name||n.email}),m.jsxs(Gt,{children:["Triagens: ",n.triageCount||0]}),cn&&m.jsx(Gt,{tone:"success",children:"Admin"})]}),m.jsx("div",{className:"mt-4 flex items-center gap-2 overflow-x-auto pb-2","aria-label":"Etapas",children:Ma.map((k,w)=>m.jsx(VN,{label:k.label,icon:k.icon,active:Ue===w,onClick:()=>pt(w)},k.id))})]})]}),m.jsxs("main",{ref:$n,className:"max-w-7xl mx-auto px-4 py-8",children:[ys(),aa(),m.jsxs("div",{className:"grid lg:grid-cols-[2fr_1fr] gap-5 items-start",children:[m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"main-surface bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl p-6 shadow-[0_28px_60px_-40px_rgba(15,23,42,0.5)]",children:[m.jsx("div",{className:"animate-fade-in",children:io()}),m.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[m.jsxs("button",{onClick:no,disabled:Ue===0,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-300 text-slate-800 bg-white disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-sm transition",children:[m.jsx(LT,{className:"w-4 h-4"}),"Voltar"]}),Ue<Ma.length-1?m.jsxs("button",{onClick:Qi,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-slate-900 to-slate-800 text-white hover:from-slate-950 hover:to-slate-900 transition shadow-sm",children:["Avanar",m.jsx(zT,{className:"w-4 h-4"})]}):m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("button",{onClick:kn,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-red-300 bg-red-600 text-white hover:bg-red-700 hover:shadow-sm transition",children:[m.jsx(d2,{className:"w-4 h-4"}),"Baixar resumo"]}),m.jsxs("button",{onClick:()=>ps("Isso vai limpar a triagem atual. Deseja iniciar outra?",()=>{kt()}),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 transition shadow-sm",children:["Nova triagem",m.jsx(PT,{className:"w-4 h-4"})]})]})]})]})}),m.jsxs("aside",{className:"space-y-3 lg:sticky lg:top-20",children:[m.jsx(Nt,{title:"Resumo",children:m.jsxs("div",{className:"grid gap-3",children:[m.jsx(u2,{label:"Tempestividade",value:ye.tempest.status,helper:`Vencimento: ${Mi(ye.tempest.venc)}`,tone:Yi}),m.jsx(u2,{label:"Contrarrazes",value:ye.controut,helper:T.emaberto==="sim"?"Prazo em aberto na origem":"Fluxo em andamento",tone:sa})]})}),m.jsxs(Nt,{title:"Consequncias automticas",children:[Er.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum comando gerado at agora."}):m.jsx("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-700",children:Er.map((k,w)=>m.jsx("li",{children:k},w))}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[m.jsxs("button",{onClick:Mt,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:[m.jsx(Em,{className:"w-4 h-4"}),ve?"Copiado!":"Copiar consequncias"]}),m.jsx("span",{className:"sr-only",role:"status","aria-live":"polite",children:ve?"Consequncias copiadas para a rea de transferncia.":""})]})]})]})]})]})]}),m.jsx(rh,{})]}):m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 flex items-center justify-center px-4 py-10",children:[m.jsx(Nt,{title:"Carregando",children:m.jsx("p",{className:"text-sm text-slate-600",children:"Preparando o acesso seguro..."})}),m.jsx(rh,{})]}):m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 flex items-center justify-center px-4 py-10",children:[m.jsx(Nt,{title:"Configurao necessria",children:m.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[m.jsx("p",{children:"Configure as variveis do Firebase para habilitar autenticao e perfis de usurio."}),m.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[m.jsx("li",{children:"`VITE_FIREBASE_API_KEY`"}),m.jsx("li",{children:"`VITE_FIREBASE_AUTH_DOMAIN`"}),m.jsx("li",{children:"`VITE_FIREBASE_PROJECT_ID`"}),m.jsx("li",{children:"`VITE_FIREBASE_APP_ID`"})]}),m.jsx("p",{children:"Depois reinicie o servidor."})]})}),m.jsx(rh,{})]})},PN=jT.createRoot(document.getElementById("root"));PN.render(m.jsx(kN,{}));const KE=document.createElement("style");KE.innerHTML=`
.page-bg {
  background:
    radial-gradient(circle at 18% 16%, rgba(249, 115, 22, 0.12), transparent 36%),
    radial-gradient(circle at 82% 12%, rgba(20, 184, 166, 0.12), transparent 38%),
    radial-gradient(circle at 22% 78%, rgba(56, 189, 248, 0.12), transparent 40%),
    linear-gradient(180deg, #f8fafc 0%, #eef2f7 55%, #f1f5f9 100%);
  background-size: 200% 200%;
  animation: flowDrift 18s ease-in-out infinite alternate;
  transition: background 0.35s ease;
}
.page-bg ::selection {
  background: rgba(249, 115, 22, 0.18);
  color: #0f172a;
}
.watermark {
  color: #0f172a;
}
.page-enter {
  animation: pageIn 0.45s ease both;
}
@keyframes pageIn {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@keyframes flowDrift {
  0% {
    background-position: 0% 20%;
  }
  100% {
    background-position: 100% 80%;
  }
}
@keyframes flowIn {
  from {
    opacity: 0;
    transform: translateY(18px) scale(0.985);
    filter: blur(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
    filter: blur(0);
  }
}
.animate-fade-in {
  animation: flowIn 0.55s cubic-bezier(0.22, 1, 0.36, 1) both;
}
.card-surface,
.main-surface,
.header-surface,
.metric-surface,
.pill,
.step-chip,
.input {
  transition: background-color 0.25s ease, border-color 0.25s ease, box-shadow 0.25s ease,
    color 0.25s ease, transform 0.2s ease;
  will-change: transform;
}
.card-surface:hover,
.main-surface:hover {
  transform: translateY(-3px);
}
.metric-surface:hover {
  transform: translateY(-2px);
}
.step-chip:hover {
  transform: translateY(-1px);
}
button:active {
  transform: translateY(1px);
}
.theme-dark body {
  color: #e2e8f0;
  background: #0b1220;
}
.theme-dark .page-bg {
  background:
    radial-gradient(circle at 18% 16%, rgba(148, 163, 184, 0.12), transparent 36%),
    radial-gradient(circle at 82% 12%, rgba(56, 189, 248, 0.08), transparent 38%),
    radial-gradient(circle at 22% 78%, rgba(45, 212, 191, 0.1), transparent 40%),
    linear-gradient(180deg, #0b1220 0%, #0f172a 60%, #111827 100%);
  background-size: 200% 200%;
}
.theme-dark .bg-white,
.theme-dark .bg-white\\/85,
.theme-dark .bg-white\\/80,
.theme-dark .bg-white\\/75,
.theme-dark .bg-white\\/70 {
  background-color: rgba(15, 23, 42, 0.85) !important;
}
.theme-dark .bg-slate-50,
.theme-dark .bg-slate-100 {
  background-color: rgba(30, 41, 59, 0.75) !important;
}
.theme-dark .bg-amber-50 {
  background-color: rgba(120, 53, 15, 0.3) !important;
}
.theme-dark .bg-emerald-50 {
  background-color: rgba(6, 95, 70, 0.3) !important;
}
.theme-dark .bg-rose-50 {
  background-color: rgba(159, 18, 57, 0.28) !important;
}
.theme-dark .watermark {
  color: #f8fafc;
}
.theme-dark .header-surface {
  background: rgba(15, 23, 42, 0.82);
  border-color: rgba(148, 163, 184, 0.2);
}
.theme-dark .card-surface,
.theme-dark .main-surface {
  background: rgba(15, 23, 42, 0.85);
  border-color: rgba(148, 163, 184, 0.2);
  box-shadow: 0 24px 50px -40px rgba(0, 0, 0, 0.6);
}
.theme-dark .user-chip {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(148, 163, 184, 0.3);
}
.theme-dark .avatar-surface {
  background: rgba(15, 23, 42, 0.95);
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .metric-surface {
  background: rgba(30, 41, 59, 0.75);
  border-color: rgba(148, 163, 184, 0.2);
  color: #e2e8f0;
}
.theme-dark .pill {
  background: rgba(30, 41, 59, 0.8);
  border-color: rgba(148, 163, 184, 0.25);
  color: #e2e8f0;
}
.theme-dark .step-chip {
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .step-chip[aria-current='step'] {
  background: #0f172a;
  border-color: rgba(148, 163, 184, 0.35);
}
.theme-dark .input {
  background: rgba(15, 23, 42, 0.85);
  border-color: rgba(148, 163, 184, 0.4);
  color: #e2e8f0;
  box-shadow: inset 0 1px 0 rgba(15, 23, 42, 0.6);
}
.theme-dark .input::placeholder {
  color: rgba(148, 163, 184, 0.8);
}
.theme-dark .input:focus {
  box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.25);
  border-color: rgba(56, 189, 248, 0.6);
}
.theme-dark .text-slate-900,
.theme-dark .text-slate-800,
.theme-dark .text-slate-700 {
  color: #e2e8f0 !important;
}
.theme-dark .text-slate-600,
.theme-dark .text-slate-500 {
  color: rgba(226, 232, 240, 0.75) !important;
}
.theme-dark .text-slate-400 {
  color: rgba(226, 232, 240, 0.6) !important;
}
.theme-dark .text-amber-800,
.theme-dark .text-amber-700 {
  color: #fcd34d !important;
}
.theme-dark .text-emerald-700 {
  color: #6ee7b7 !important;
}
.theme-dark .text-rose-700 {
  color: #fda4af !important;
}
.theme-dark .border-slate-200 {
  border-color: rgba(148, 163, 184, 0.3) !important;
}
.theme-dark .border-amber-200 {
  border-color: rgba(251, 191, 36, 0.35) !important;
}
.theme-dark .border-emerald-200 {
  border-color: rgba(52, 211, 153, 0.3) !important;
}
.theme-dark .border-rose-200 {
  border-color: rgba(251, 113, 133, 0.35) !important;
}
.input {
  width: 100%;
  border-radius: 0.45rem;
  border: 1px solid rgba(226, 232, 240, 0.95);
  padding: 0.5rem 0.75rem;
  background: rgba(255, 255, 255, 0.9);
  color: #0f172a;
  font-size: 0.875rem;
  line-height: 1.4;
  min-height: 2.5rem;
  box-sizing: border-box;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.input.rounded-r-none {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.input::placeholder {
  color: #94a3b8;
}
.input:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.65);
  background: #ffffff;
}
.input-error {
  border-color: rgba(226, 232, 240, 0.95);
  background: rgba(255, 255, 255, 0.9);
}
.input-error:focus {
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.65);
  background: #ffffff;
}
.input-success {
  border-color: rgba(16, 185, 129, 0.7);
  background: rgba(236, 253, 245, 0.6);
}
.input-success:focus {
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.85);
}
.theme-dark .input.rounded-r-none {
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;
}
.no-spinner::-webkit-outer-spin-button,
.no-spinner::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.no-spinner {
  -moz-appearance: textfield;
  appearance: textfield;
}
@media (prefers-reduced-motion: reduce) {
  .page-enter {
    animation: none !important;
  }
  .page-bg {
    animation: none !important;
  }
  .card-surface,
  .main-surface,
  .header-surface,
  .metric-surface,
  .pill,
  .step-chip,
  .input,
  button {
    transition: none !important;
    transform: none !important;
  }
  .animate-fade-in {
    animation: none !important;
  }
}
`;document.head.appendChild(KE);
