(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var $d={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function hb(){if(i_)return Fl;i_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var r_;function fb(){return r_||(r_=1,$d.exports=hb()),$d.exports}var m=fb(),Jd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function db(){if(s_)return Ce;s_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,ee={};function te(V,X,se){this.props=V,this.context=X,this.refs=ee,this.updater=se||W}te.prototype.isReactComponent={},te.prototype.setState=function(V,X){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,X,"setState")},te.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Ee(){}Ee.prototype=te.prototype;function de(V,X,se){this.props=V,this.context=X,this.refs=ee,this.updater=se||W}var Ue=de.prototype=new Ee;Ue.constructor=de,ne(Ue,te.prototype),Ue.isPureReactComponent=!0;var Ge=Array.isArray;function Me(){}var D={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function I(V,X,se){var ae=se.ref;return{$$typeof:r,type:V,key:X,ref:ae!==void 0?ae:null,props:se}}function b(V,X){return I(V.type,X,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var X={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(se){return X[se]})}var C=/\/+/g;function We(V,X){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):X.toString(36)}function _t(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Me,Me):(V.status="pending",V.then(function(X){V.status==="pending"&&(V.status="fulfilled",V.value=X)},function(X){V.status==="pending"&&(V.status="rejected",V.reason=X)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Q(V,X,se,ae,Se){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case r:case e:Le=!0;break;case S:return Le=V._init,Q(Le(V._payload),X,se,ae,Se)}}if(Le)return Se=Se(V),Le=ae===""?"."+We(V,0):ae,Ge(Se)?(se="",Le!=null&&(se=Le.replace(C,"$&/")+"/"),Q(Se,X,se,"",function(ci){return ci})):Se!=null&&(O(Se)&&(Se=b(Se,se+(Se.key==null||V&&V.key===Se.key?"":(""+Se.key).replace(C,"$&/")+"/")+Le)),X.push(Se)),1;Le=0;var Ot=ae===""?".":ae+":";if(Ge(V))for(var ct=0;ct<V.length;ct++)ae=V[ct],Re=Ot+We(ae,ct),Le+=Q(ae,X,se,Re,Se);else if(ct=G(V),typeof ct=="function")for(V=ct.call(V),ct=0;!(ae=V.next()).done;)ae=ae.value,Re=Ot+We(ae,ct++),Le+=Q(ae,X,se,Re,Se);else if(Re==="object"){if(typeof V.then=="function")return Q(_t(V),X,se,ae,Se);throw X=String(V),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Le}function re(V,X,se){if(V==null)return V;var ae=[],Se=0;return Q(V,ae,"","",function(Re){return X.call(se,Re,Se++)}),ae}function ye(V){if(V._status===-1){var X=V._result;X=X(),X.then(function(se){(V._status===0||V._status===-1)&&(V._status=1,V._result=se)},function(se){(V._status===0||V._status===-1)&&(V._status=2,V._result=se)}),V._status===-1&&(V._status=0,V._result=X)}if(V._status===1)return V._result.default;throw V._result}var Ve=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ke={map:re,forEach:function(V,X,se){re(V,function(){X.apply(this,arguments)},se)},count:function(V){var X=0;return re(V,function(){X++}),X},toArray:function(V){return re(V,function(X){return X})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ce.Activity=w,Ce.Children=Ke,Ce.Component=te,Ce.Fragment=n,Ce.Profiler=l,Ce.PureComponent=de,Ce.StrictMode=s,Ce.Suspense=y,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(V){return D.H.useMemoCache(V)}},Ce.cache=function(V){return function(){return V.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(V,X,se){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=ne({},V.props),Se=V.key;if(X!=null)for(Re in X.key!==void 0&&(Se=""+X.key),X)!x.call(X,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&X.ref===void 0||(ae[Re]=X[Re]);var Re=arguments.length-2;if(Re===1)ae.children=se;else if(1<Re){for(var Le=Array(Re),Ot=0;Ot<Re;Ot++)Le[Ot]=arguments[Ot+2];ae.children=Le}return I(V.type,Se,ae)},Ce.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ce.createElement=function(V,X,se){var ae,Se={},Re=null;if(X!=null)for(ae in X.key!==void 0&&(Re=""+X.key),X)x.call(X,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Se[ae]=X[ae]);var Le=arguments.length-2;if(Le===1)Se.children=se;else if(1<Le){for(var Ot=Array(Le),ct=0;ct<Le;ct++)Ot[ct]=arguments[ct+2];Se.children=Ot}if(V&&V.defaultProps)for(ae in Le=V.defaultProps,Le)Se[ae]===void 0&&(Se[ae]=Le[ae]);return I(V,Re,Se)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(V){return{$$typeof:g,render:V}},Ce.isValidElement=O,Ce.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:ye}},Ce.memo=function(V,X){return{$$typeof:_,type:V,compare:X===void 0?null:X}},Ce.startTransition=function(V){var X=D.T,se={};D.T=se;try{var ae=V(),Se=D.S;Se!==null&&Se(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Me,Ve)}catch(Re){Ve(Re)}finally{X!==null&&se.types!==null&&(X.types=se.types),D.T=X}},Ce.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Ce.use=function(V){return D.H.use(V)},Ce.useActionState=function(V,X,se){return D.H.useActionState(V,X,se)},Ce.useCallback=function(V,X){return D.H.useCallback(V,X)},Ce.useContext=function(V){return D.H.useContext(V)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(V,X){return D.H.useDeferredValue(V,X)},Ce.useEffect=function(V,X){return D.H.useEffect(V,X)},Ce.useEffectEvent=function(V){return D.H.useEffectEvent(V)},Ce.useId=function(){return D.H.useId()},Ce.useImperativeHandle=function(V,X,se){return D.H.useImperativeHandle(V,X,se)},Ce.useInsertionEffect=function(V,X){return D.H.useInsertionEffect(V,X)},Ce.useLayoutEffect=function(V,X){return D.H.useLayoutEffect(V,X)},Ce.useMemo=function(V,X){return D.H.useMemo(V,X)},Ce.useOptimistic=function(V,X){return D.H.useOptimistic(V,X)},Ce.useReducer=function(V,X,se){return D.H.useReducer(V,X,se)},Ce.useRef=function(V){return D.H.useRef(V)},Ce.useState=function(V){return D.H.useState(V)},Ce.useSyncExternalStore=function(V,X,se){return D.H.useSyncExternalStore(V,X,se)},Ce.useTransition=function(){return D.H.useTransition()},Ce.version="19.2.3",Ce}var a_;function Gm(){return a_||(a_=1,Jd.exports=db()),Jd.exports}var be=Gm(),Zd={exports:{}},Gl={},Wd={exports:{}},em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function mb(){return o_||(o_=1,(function(r){function e(Q,re){var ye=Q.length;Q.push(re);e:for(;0<ye;){var Ve=ye-1>>>1,Ke=Q[Ve];if(0<l(Ke,re))Q[Ve]=re,Q[ye]=Ke,ye=Ve;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var re=Q[0],ye=Q.pop();if(ye!==re){Q[0]=ye;e:for(var Ve=0,Ke=Q.length,V=Ke>>>1;Ve<V;){var X=2*(Ve+1)-1,se=Q[X],ae=X+1,Se=Q[ae];if(0>l(se,ye))ae<Ke&&0>l(Se,se)?(Q[Ve]=Se,Q[ae]=ye,Ve=ae):(Q[Ve]=se,Q[X]=ye,Ve=X);else if(ae<Ke&&0>l(Se,ye))Q[Ve]=Se,Q[ae]=ye,Ve=ae;else break e}}return re}function l(Q,re){var ye=Q.sortIndex-re.sortIndex;return ye!==0?ye:Q.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var y=[],_=[],S=1,w=null,M=3,G=!1,W=!1,ne=!1,ee=!1,te=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function Ue(Q){for(var re=n(_);re!==null;){if(re.callback===null)s(_);else if(re.startTime<=Q)s(_),re.sortIndex=re.expirationTime,e(y,re);else break;re=n(_)}}function Ge(Q){if(ne=!1,Ue(Q),!W)if(n(y)!==null)W=!0,Me||(Me=!0,P());else{var re=n(_);re!==null&&_t(Ge,re.startTime-Q)}}var Me=!1,D=-1,x=5,I=-1;function b(){return ee?!0:!(r.unstable_now()-I<x)}function O(){if(ee=!1,Me){var Q=r.unstable_now();I=Q;var re=!0;try{e:{W=!1,ne&&(ne=!1,Ee(D),D=-1),G=!0;var ye=M;try{t:{for(Ue(Q),w=n(y);w!==null&&!(w.expirationTime>Q&&b());){var Ve=w.callback;if(typeof Ve=="function"){w.callback=null,M=w.priorityLevel;var Ke=Ve(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof Ke=="function"){w.callback=Ke,Ue(Q),re=!0;break t}w===n(y)&&s(y),Ue(Q)}else s(y);w=n(y)}if(w!==null)re=!0;else{var V=n(_);V!==null&&_t(Ge,V.startTime-Q),re=!1}}break e}finally{w=null,M=ye,G=!1}re=void 0}}finally{re?P():Me=!1}}}var P;if(typeof de=="function")P=function(){de(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,We=C.port2;C.port1.onmessage=O,P=function(){We.postMessage(null)}}else P=function(){te(O,0)};function _t(Q,re){D=te(function(){Q(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(Q){switch(M){case 1:case 2:case 3:var re=3;break;default:re=M}var ye=M;M=re;try{return Q()}finally{M=ye}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ye=M;M=Q;try{return re()}finally{M=ye}},r.unstable_scheduleCallback=function(Q,re,ye){var Ve=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ve+ye:Ve):ye=Ve,Q){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ye+Ke,Q={id:S++,callback:re,priorityLevel:Q,startTime:ye,expirationTime:Ke,sortIndex:-1},ye>Ve?(Q.sortIndex=ye,e(_,Q),n(y)===null&&Q===n(_)&&(ne?(Ee(D),D=-1):ne=!0,_t(Ge,ye-Ve))):(Q.sortIndex=Ke,e(y,Q),W||G||(W=!0,Me||(Me=!0,P()))),Q},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(Q){var re=M;return function(){var ye=M;M=re;try{return Q.apply(this,arguments)}finally{M=ye}}}})(em)),em}var l_;function pb(){return l_||(l_=1,Wd.exports=mb()),Wd.exports}var tm={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function gb(){if(u_)return dn;u_=1;var r=Gm();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:y,containerInfo:_,implementation:S}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dn.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,S)},dn.flushSync=function(y){var _=f.T,S=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=_,s.p=S,s.d.f()}},dn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},dn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},dn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,w=g(S,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):S==="script"&&s.d.X(y,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},dn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},dn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,w=g(S,_.crossOrigin);s.d.L(y,S,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},dn.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},dn.requestFormReset=function(y){s.d.r(y)},dn.unstable_batchedUpdates=function(y,_){return y(_)},dn.useFormState=function(y,_,S){return f.H.useFormState(y,_,S)},dn.useFormStatus=function(){return f.H.useHostTransitionStatus()},dn.version="19.2.3",dn}var c_;function yb(){if(c_)return tm.exports;c_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=gb(),tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h_;function vb(){if(h_)return Gl;h_=1;var r=pb(),e=Gm(),n=yb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(s(188))}function _(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===o)return y(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=d;break}if(T===o){v=!0,o=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,o=h;break}if(T===o){v=!0,o=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function S(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=S(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),Ee=Symbol.for("react.consumer"),de=Symbol.for("react.context"),Ue=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),b=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function We(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case te:return"Profiler";case ee:return"StrictMode";case Ge:return"Suspense";case Me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case de:return t.displayName||"Context";case Ee:return(t._context.displayName||"Context")+".Consumer";case Ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:We(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return We(t(i))}catch{}}return null}var _t=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ve=[],Ke=-1;function V(t){return{current:t}}function X(t){0>Ke||(t.current=Ve[Ke],Ve[Ke]=null,Ke--)}function se(t,i){Ke++,Ve[Ke]=t.current,t.current=i}var ae=V(null),Se=V(null),Re=V(null),Le=V(null);function Ot(t,i){switch(se(Re,i),se(Se,t),se(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Rv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Rv(i),t=xv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ae),se(ae,t)}function ct(){X(ae),X(Se),X(Re)}function ci(t){t.memoizedState!==null&&se(Le,t);var i=ae.current,a=xv(i,t.type);i!==a&&(se(Se,t),se(ae,a))}function hi(t){Se.current===t&&(X(ae),X(Se)),Le.current===t&&(X(Le),zl._currentValue=ye)}var nr,Bt;function Mn(t){if(nr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);nr=i&&i[1]||"",Bt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+t+Bt}var Sn=!1;function ge(t,i){if(!t||Sn)return"";Sn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var B=F}Reflect.construct(t,[],$)}else{try{$.call()}catch(F){B=F}t.call($.prototype)}}else{try{throw Error()}catch(F){B=F}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var N=v.split(`
`),z=T.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var K=`
`+N[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{Sn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Mn(a):""}function Pr(t,i){switch(t.tag){case 26:case 27:case 5:return Mn(t.type);case 16:return Mn("Lazy");case 13:return t.child!==i&&i!==null?Mn("Suspense Fallback"):Mn("Suspense");case 19:return Mn("SuspenseList");case 0:case 15:return ge(t.type,!1);case 11:return ge(t.type.render,!1);case 1:return ge(t.type,!0);case 31:return Mn("Activity");default:return""}}function ir(t){try{var i="",a=null;do i+=Pr(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Et=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,fi=r.unstable_cancelCallback,Go=r.unstable_shouldYield,zs=r.unstable_requestPaint,Tt=r.unstable_now,Ri=r.unstable_getCurrentPriorityLevel,Ur=r.unstable_ImmediatePriority,xi=r.unstable_UserBlockingPriority,Ci=r.unstable_NormalPriority,Bs=r.unstable_LowPriority,Ra=r.unstable_IdlePriority,rr=r.log,le=r.unstable_setDisableYieldValue,oe=null,$t=null;function vn(t){if(typeof rr=="function"&&le(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(oe,t)}catch{}}var bt=Math.clz32?Math.clz32:Ca,xa=Math.log,Lr=Math.LN2;function Ca(t){return t>>>=0,t===0?32:31-(xa(t)/Lr|0)|0}var Kn=256,Ii=262144,gt=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Yn(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~d,o!==0?h=Vn(o):(v&=T,v!==0?h=Vn(v):a||(a=T&~t,a!==0&&(h=Vn(a))))):(T=o&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=o&~t,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function qs(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ia(){var t=gt;return gt<<=1,(gt&62914560)===0&&(gt=4194304),t}function Xn(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function sr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Qo(t,i,a,o,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-bt(a),$=1<<K;T[K]=0,N[K]=-1;var B=z[K];if(B!==null)for(z[K]=null,K=0;K<B.length;K++){var F=B[K];F!==null&&(F.lane&=-536870913)}a&=~$}o!==0&&ar(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ar(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-bt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Hs(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-bt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function kr(t,i){var a=i&-i;return a=(a&42)!==0?1:or(a),(a&(t.suspendedLanes|i))!==0?0:a}function or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function di(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Na(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:$v(t.type))}function Pn(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var Un=Math.random().toString(36).slice(2),St="__reactFiber$"+Un,Vt="__reactProps$"+Un,q="__reactContainer$"+Un,R="__reactEvents$"+Un,he="__reactListeners$"+Un,tt="__reactHandles$"+Un,st="__reactResources$"+Un,ke="__reactMarker$"+Un;function rn(t){delete t[St],delete t[Vt],delete t[R],delete t[he],delete t[tt]}function _n(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[q]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Vv(t);t!==null;){if(a=t[St])return a;t=Vv(t)}return i}t=a,a=t.parentNode}return null}function En(t){if(t=t[St]||t[q]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Rt(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function At(t){var i=t[st];return i||(i=t[st]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function jt(t){t[ke]=!0}var Ko=new Set,Yo={};function Ni(t,i){Di(t,i),Di(t+"Capture",i)}function Di(t,i){for(Yo[t]=i,t=0;t<i.length;t++)Ko.add(i[t])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},Jo={};function Cu(t){return Et.call(Jo,t)?!0:Et.call($o,t)?!1:Xo.test(t)?Jo[t]=!0:($o[t]=!0,!1)}function Da(t,i,a){if(Cu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Ln(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function qt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Zo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function nt(t){if(!t._valueTracker){var i=zr(t)?"checked":"value";t._valueTracker=Zo(t,i,""+t[i])}}function Fs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=zr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Gs=/[\n"\\]/g;function An(t){return t.replace(Gs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Oa(t,i,a,o,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Wt(i)):t.value!==""+Wt(i)&&(t.value=""+Wt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Wo(t,v,Wt(i)):a!=null?Wo(t,v,Wt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Wt(T):t.removeAttribute("name")}function Iu(t,i,a,o,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){nt(t);return}a=a!=null?""+Wt(a):"",i=i!=null?""+Wt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),nt(t)}function Wo(t,i,a){i==="number"&&Oi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Br(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Wt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Nu(t,i,a){if(i!=null&&(i=""+Wt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Wt(a):""}function qr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(_t(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Wt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nt(t)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function el(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Du.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function tl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&el(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&el(t,d,i[d])}function Ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return Hr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function mi(){}var nl=null;function $n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fr=null,Mi=null;function Qs(t){var i=En(t);if(i&&(t=i.stateNode)){var a=t[Vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Oa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Vt]||null;if(!h)throw Error(s(90));Oa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Fs(o)}break e;case"textarea":Nu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Br(t,!!a.multiple,i,!1)}}}var ja=!1;function Gr(t,i,a){if(ja)return t(i,a);ja=!0;try{var o=t(i);return o}finally{if(ja=!1,(Fr!==null||Mi!==null)&&(wc(),Fr&&(i=Fr,t=Mi,Mi=Fr=null,Qs(i),t)))for(i=0;i<t.length;i++)Qs(t[i])}}function pi(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Vt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=!1;if(Jn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Ks=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Ks=!1}var Vi=null,il=null,Ys=null;function rl(){if(Ys)return Ys;var t,i=il,a=i.length,o,h="value"in Vi?Vi.value:Vi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return Ys=h.slice(t,1<o?1-o:void 0)}function Xs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function lr(){return!0}function gi(){return!1}function sn(t){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?lr:gi,this.isPropagationStopped=gi,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),i}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=sn(ur),Qr=w({},ur,{view:0,detail:0}),sl=sn(Qr),Kr,Pa,Pi,Ua=w({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pi&&(Pi&&t.type==="mousemove"?(Kr=t.screenX-Pi.screenX,Pa=t.screenY-Pi.screenY):Pa=Kr=0,Pi=t),Kr)},movementY:function(t){return"movementY"in t?t.movementY:Pa}}),al=sn(Ua),$s=w({},Ua,{dataTransfer:0}),Mu=sn($s),Vu=w({},Qr,{relatedTarget:0}),Js=sn(Vu),ol=w({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=sn(ol),La=w({},ur,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pu=sn(La),Uu=w({},ur,{data:0}),Ui=sn(Uu),Lu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zu[t])?!!i[t]:!1}function Yr(){return Bu}var Tn=w({},Qr,{key:function(t){if(t.key){var i=Lu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?Xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qu=sn(Tn),Hu=w({},Ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cr=sn(Hu),u=w({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),p=sn(u),E=w({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=sn(E),L=w({},Ua,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),H=sn(L),ie=w({},ur,{newState:0,oldState:0}),Ne=sn(ie),Pt=[9,13,27,32],Je=Jn&&"CompositionEvent"in window,yt=null;Jn&&"documentMode"in document&&(yt=document.documentMode);var Zn=Jn&&"TextEvent"in window&&!yt,Li=Jn&&(!Je||yt&&8<yt&&11>=yt),yi=" ",vi=!1;function Zs(t,i){switch(t){case"keyup":return Pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var za=!1;function j1(t,i){switch(t){case"compositionend":return ka(i);case"keypress":return i.which!==32?null:(vi=!0,yi);case"textInput":return t=i.data,t===yi&&vi?null:t;default:return null}}function P1(t,i){if(za)return t==="compositionend"||!Je&&Zs(t,i)?(t=rl(),Ys=il=Vi=null,za=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Li&&i.locale!=="ko"?null:i.data;default:return null}}var U1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Up(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!U1[t.type]:i==="textarea"}function Lp(t,i,a,o){Fr?Mi?Mi.push(o):Mi=[o]:Fr=o,i=Oc(i,"onChange"),0<i.length&&(a=new ji("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var ll=null,ul=null;function L1(t){Ev(t,0)}function Fu(t){var i=Rt(t);if(Fs(i))return t}function kp(t,i){if(t==="change")return i}var zp=!1;if(Jn){var nf;if(Jn){var rf="oninput"in document;if(!rf){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),rf=typeof Bp.oninput=="function"}nf=rf}else nf=!1;zp=nf&&(!document.documentMode||9<document.documentMode)}function qp(){ll&&(ll.detachEvent("onpropertychange",Hp),ul=ll=null)}function Hp(t){if(t.propertyName==="value"&&Fu(ul)){var i=[];Lp(i,ul,t,$n(t)),Gr(L1,i)}}function k1(t,i,a){t==="focusin"?(qp(),ll=i,ul=a,ll.attachEvent("onpropertychange",Hp)):t==="focusout"&&qp()}function z1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(ul)}function B1(t,i){if(t==="click")return Fu(i)}function q1(t,i){if(t==="input"||t==="change")return Fu(i)}function H1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var kn=typeof Object.is=="function"?Object.is:H1;function cl(t,i){if(kn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Et.call(i,h)||!kn(t[h],i[h]))return!1}return!0}function Fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gp(t,i){var a=Fp(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fp(a)}}function Qp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Qp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Oi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Oi(t.document)}return i}function sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var F1=Jn&&"documentMode"in document&&11>=document.documentMode,Ba=null,af=null,hl=null,of=!1;function Yp(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;of||Ba==null||Ba!==Oi(o)||(o=Ba,"selectionStart"in o&&sf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),hl&&cl(hl,o)||(hl=o,o=Oc(af,"onSelect"),0<o.length&&(i=new ji("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ba)))}function Ws(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var qa={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},lf={},Xp={};Jn&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function ea(t){if(lf[t])return lf[t];if(!qa[t])return t;var i=qa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Xp)return lf[t]=i[a];return t}var $p=ea("animationend"),Jp=ea("animationiteration"),Zp=ea("animationstart"),G1=ea("transitionrun"),Q1=ea("transitionstart"),K1=ea("transitioncancel"),Wp=ea("transitionend"),eg=new Map,uf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uf.push("scrollEnd");function _i(t,i){eg.set(t,i),Ni(i,[t])}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Wn=[],Ha=0,cf=0;function Qu(){for(var t=Ha,i=cf=Ha=0;i<t;){var a=Wn[i];Wn[i++]=null;var o=Wn[i];Wn[i++]=null;var h=Wn[i];Wn[i++]=null;var d=Wn[i];if(Wn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&tg(a,h,d)}}function Ku(t,i,a,o){Wn[Ha++]=t,Wn[Ha++]=i,Wn[Ha++]=a,Wn[Ha++]=o,cf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function hf(t,i,a,o){return Ku(t,i,a,o),Yu(t)}function ta(t,i){return Ku(t,null,null,i),Yu(t)}function tg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-bt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Yu(t){if(50<Ml)throw Ml=0,Ed=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Fa={};function Y1(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,i,a,o){return new Y1(t,i,a,o)}function ff(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hr(t,i){var a=t.alternate;return a===null?(a=zn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ng(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xu(t,i,a,o,h,d){var v=0;if(o=t,typeof t=="function")ff(t)&&(v=1);else if(typeof t=="string")v=WT(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=zn(31,a,i,h),t.elementType=I,t.lanes=d,t;case ne:return na(a.children,h,d,i);case ee:v=8,h|=24;break;case te:return t=zn(12,a,i,h|2),t.elementType=te,t.lanes=d,t;case Ge:return t=zn(13,a,i,h),t.elementType=Ge,t.lanes=d,t;case Me:return t=zn(19,a,i,h),t.elementType=Me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case de:v=10;break e;case Ee:v=9;break e;case Ue:v=11;break e;case D:v=14;break e;case x:v=16,o=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=zn(v,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function na(t,i,a,o){return t=zn(7,t,o,i),t.lanes=a,t}function df(t,i,a){return t=zn(6,t,null,i),t.lanes=a,t}function ig(t){var i=zn(18,null,null,0);return i.stateNode=t,i}function mf(t,i,a){return i=zn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var rg=new WeakMap;function ei(t,i){if(typeof t=="object"&&t!==null){var a=rg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ir(i)},rg.set(t,i),i)}return{value:t,source:i,stack:ir(i)}}var Ga=[],Qa=0,$u=null,fl=0,ti=[],ni=0,Xr=null,ki=1,zi="";function fr(t,i){Ga[Qa++]=fl,Ga[Qa++]=$u,$u=t,fl=i}function sg(t,i,a){ti[ni++]=ki,ti[ni++]=zi,ti[ni++]=Xr,Xr=t;var o=ki;t=zi;var h=32-bt(o)-1;o&=~(1<<h),a+=1;var d=32-bt(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,ki=1<<32-bt(i)+h|a<<h|o,zi=d+t}else ki=1<<d|a<<h|o,zi=t}function pf(t){t.return!==null&&(fr(t,1),sg(t,1,0))}function gf(t){for(;t===$u;)$u=Ga[--Qa],Ga[Qa]=null,fl=Ga[--Qa],Ga[Qa]=null;for(;t===Xr;)Xr=ti[--ni],ti[ni]=null,zi=ti[--ni],ti[ni]=null,ki=ti[--ni],ti[ni]=null}function ag(t,i){ti[ni++]=ki,ti[ni++]=zi,ti[ni++]=Xr,ki=i.id,zi=i.overflow,Xr=t}var an=null,dt=null,Qe=!1,$r=null,ii=!1,yf=Error(s(519));function Jr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw dl(ei(i,t)),yf}function og(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[St]=t,i[Vt]=o,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<jl.length;a++)Pe(jl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Iu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),qr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Av(i.textContent,a)?(o.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),o.onScroll!=null&&Pe("scroll",i),o.onScrollEnd!=null&&Pe("scrollend",i),o.onClick!=null&&(i.onclick=mi),i=!0):i=!1,i||Jr(t,!0)}function lg(t){for(an=t.return;an;)switch(an.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:an=an.return}}function Ka(t){if(t!==an)return!1;if(!Qe)return lg(t),Qe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||jd(t.type,t.memoizedProps)),a=!a),a&&dt&&Jr(t),lg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));dt=Mv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));dt=Mv(t)}else i===27?(i=dt,hs(t.type)?(t=zd,zd=null,dt=t):dt=i):dt=an?si(t.stateNode.nextSibling):null;return!0}function ia(){dt=an=null,Qe=!1}function vf(){var t=$r;return t!==null&&(In===null?In=t:In.push.apply(In,t),$r=null),t}function dl(t){$r===null?$r=[t]:$r.push(t)}var _f=V(null),ra=null,dr=null;function Zr(t,i,a){se(_f,i._currentValue),i._currentValue=a}function mr(t){t._currentValue=_f.current,X(_f)}function Ef(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Tf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Ef(d.return,a,t),o||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Ef(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Ya(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;kn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Le.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}h=h.return}t!==null&&Tf(i,t,a,o),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){ra=t,dr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function on(t){return ug(ra,t)}function Zu(t,i){return ra===null&&sa(t),ug(t,i)}function ug(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},dr===null){if(t===null)throw Error(s(308));dr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else dr=dr.next=i;return a}var X1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},$1=r.unstable_scheduleCallback,J1=r.unstable_NormalPriority,Ht={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new X1,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&$1(J1,function(){t.controller.abort()})}var pl=null,Sf=0,Xa=0,$a=null;function Z1(t,i){if(pl===null){var a=pl=[];Sf=0,Xa=Rd(),$a={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Sf++,i.then(cg,cg),i}function cg(){if(--Sf===0&&pl!==null){$a!==null&&($a.status="fulfilled");var t=pl;pl=null,Xa=0,$a=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function W1(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var hg=Q.S;Q.S=function(t,i){Yy=Tt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Z1(t,i),hg!==null&&hg(t,i)};var aa=V(null);function Af(){var t=aa.current;return t!==null?t:ht.pooledCache}function Wu(t,i){i===null?se(aa,aa.current):se(aa,i.pool)}function fg(){var t=Af();return t===null?null:{parent:Ht._currentValue,pool:t}}var Ja=Error(s(460)),wf=Error(s(474)),ec=Error(s(542)),tc={then:function(){}};function dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(mi,mi),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gg(t),t;default:if(typeof i.status=="string")i.then(mi,mi);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gg(t),t}throw la=i,Ja}}function oa(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(la=a,Ja):a}}var la=null;function pg(){if(la===null)throw Error(s(459));var t=la;return la=null,t}function gg(t){if(t===Ja||t===ec)throw Error(s(483))}var Za=null,gl=0;function nc(t){var i=gl;return gl+=1,Za===null&&(Za=[]),mg(Za,t,i)}function yl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===M?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function yg(t){function i(U,j){if(t){var k=U.deletions;k===null?(U.deletions=[j],U.flags|=16):k.push(j)}}function a(U,j){if(!t)return null;for(;j!==null;)i(U,j),j=j.sibling;return null}function o(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function h(U,j){return U=hr(U,j),U.index=0,U.sibling=null,U}function d(U,j,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<j?(U.flags|=67108866,j):k):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,j,k,Y){return j===null||j.tag!==6?(j=df(k,U.mode,Y),j.return=U,j):(j=h(j,k),j.return=U,j)}function N(U,j,k,Y){var ve=k.type;return ve===ne?K(U,j,k.props.children,Y,k.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&oa(ve)===j.type)?(j=h(j,k.props),yl(j,k),j.return=U,j):(j=Xu(k.type,k.key,k.props,null,U.mode,Y),yl(j,k),j.return=U,j)}function z(U,j,k,Y){return j===null||j.tag!==4||j.stateNode.containerInfo!==k.containerInfo||j.stateNode.implementation!==k.implementation?(j=mf(k,U.mode,Y),j.return=U,j):(j=h(j,k.children||[]),j.return=U,j)}function K(U,j,k,Y,ve){return j===null||j.tag!==7?(j=na(k,U.mode,Y,ve),j.return=U,j):(j=h(j,k),j.return=U,j)}function $(U,j,k){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=df(""+j,U.mode,k),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return k=Xu(j.type,j.key,j.props,null,U.mode,k),yl(k,j),k.return=U,k;case W:return j=mf(j,U.mode,k),j.return=U,j;case x:return j=oa(j),$(U,j,k)}if(_t(j)||P(j))return j=na(j,U.mode,k,null),j.return=U,j;if(typeof j.then=="function")return $(U,nc(j),k);if(j.$$typeof===de)return $(U,Zu(U,j),k);ic(U,j)}return null}function B(U,j,k,Y){var ve=j!==null?j.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ve!==null?null:T(U,j,""+k,Y);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return k.key===ve?N(U,j,k,Y):null;case W:return k.key===ve?z(U,j,k,Y):null;case x:return k=oa(k),B(U,j,k,Y)}if(_t(k)||P(k))return ve!==null?null:K(U,j,k,Y,null);if(typeof k.then=="function")return B(U,j,nc(k),Y);if(k.$$typeof===de)return B(U,j,Zu(U,k),Y);ic(U,k)}return null}function F(U,j,k,Y,ve){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(k)||null,T(j,U,""+Y,ve);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return U=U.get(Y.key===null?k:Y.key)||null,N(j,U,Y,ve);case W:return U=U.get(Y.key===null?k:Y.key)||null,z(j,U,Y,ve);case x:return Y=oa(Y),F(U,j,k,Y,ve)}if(_t(Y)||P(Y))return U=U.get(k)||null,K(j,U,Y,ve,null);if(typeof Y.then=="function")return F(U,j,k,nc(Y),ve);if(Y.$$typeof===de)return F(U,j,k,Zu(j,Y),ve);ic(j,Y)}return null}function me(U,j,k,Y){for(var ve=null,Xe=null,pe=j,Oe=j=0,Be=null;pe!==null&&Oe<k.length;Oe++){pe.index>Oe?(Be=pe,pe=null):Be=pe.sibling;var $e=B(U,pe,k[Oe],Y);if($e===null){pe===null&&(pe=Be);break}t&&pe&&$e.alternate===null&&i(U,pe),j=d($e,j,Oe),Xe===null?ve=$e:Xe.sibling=$e,Xe=$e,pe=Be}if(Oe===k.length)return a(U,pe),Qe&&fr(U,Oe),ve;if(pe===null){for(;Oe<k.length;Oe++)pe=$(U,k[Oe],Y),pe!==null&&(j=d(pe,j,Oe),Xe===null?ve=pe:Xe.sibling=pe,Xe=pe);return Qe&&fr(U,Oe),ve}for(pe=o(pe);Oe<k.length;Oe++)Be=F(pe,U,Oe,k[Oe],Y),Be!==null&&(t&&Be.alternate!==null&&pe.delete(Be.key===null?Oe:Be.key),j=d(Be,j,Oe),Xe===null?ve=Be:Xe.sibling=Be,Xe=Be);return t&&pe.forEach(function(gs){return i(U,gs)}),Qe&&fr(U,Oe),ve}function Te(U,j,k,Y){if(k==null)throw Error(s(151));for(var ve=null,Xe=null,pe=j,Oe=j=0,Be=null,$e=k.next();pe!==null&&!$e.done;Oe++,$e=k.next()){pe.index>Oe?(Be=pe,pe=null):Be=pe.sibling;var gs=B(U,pe,$e.value,Y);if(gs===null){pe===null&&(pe=Be);break}t&&pe&&gs.alternate===null&&i(U,pe),j=d(gs,j,Oe),Xe===null?ve=gs:Xe.sibling=gs,Xe=gs,pe=Be}if($e.done)return a(U,pe),Qe&&fr(U,Oe),ve;if(pe===null){for(;!$e.done;Oe++,$e=k.next())$e=$(U,$e.value,Y),$e!==null&&(j=d($e,j,Oe),Xe===null?ve=$e:Xe.sibling=$e,Xe=$e);return Qe&&fr(U,Oe),ve}for(pe=o(pe);!$e.done;Oe++,$e=k.next())$e=F(pe,U,Oe,$e.value,Y),$e!==null&&(t&&$e.alternate!==null&&pe.delete($e.key===null?Oe:$e.key),j=d($e,j,Oe),Xe===null?ve=$e:Xe.sibling=$e,Xe=$e);return t&&pe.forEach(function(cb){return i(U,cb)}),Qe&&fr(U,Oe),ve}function ut(U,j,k,Y){if(typeof k=="object"&&k!==null&&k.type===ne&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case G:e:{for(var ve=k.key;j!==null;){if(j.key===ve){if(ve=k.type,ve===ne){if(j.tag===7){a(U,j.sibling),Y=h(j,k.props.children),Y.return=U,U=Y;break e}}else if(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&oa(ve)===j.type){a(U,j.sibling),Y=h(j,k.props),yl(Y,k),Y.return=U,U=Y;break e}a(U,j);break}else i(U,j);j=j.sibling}k.type===ne?(Y=na(k.props.children,U.mode,Y,k.key),Y.return=U,U=Y):(Y=Xu(k.type,k.key,k.props,null,U.mode,Y),yl(Y,k),Y.return=U,U=Y)}return v(U);case W:e:{for(ve=k.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===k.containerInfo&&j.stateNode.implementation===k.implementation){a(U,j.sibling),Y=h(j,k.children||[]),Y.return=U,U=Y;break e}else{a(U,j);break}else i(U,j);j=j.sibling}Y=mf(k,U.mode,Y),Y.return=U,U=Y}return v(U);case x:return k=oa(k),ut(U,j,k,Y)}if(_t(k))return me(U,j,k,Y);if(P(k)){if(ve=P(k),typeof ve!="function")throw Error(s(150));return k=ve.call(k),Te(U,j,k,Y)}if(typeof k.then=="function")return ut(U,j,nc(k),Y);if(k.$$typeof===de)return ut(U,j,Zu(U,k),Y);ic(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,j!==null&&j.tag===6?(a(U,j.sibling),Y=h(j,k),Y.return=U,U=Y):(a(U,j),Y=df(k,U.mode,Y),Y.return=U,U=Y),v(U)):a(U,j)}return function(U,j,k,Y){try{gl=0;var ve=ut(U,j,k,Y);return Za=null,ve}catch(pe){if(pe===Ja||pe===ec)throw pe;var Xe=zn(29,pe,null,U.mode);return Xe.lanes=Y,Xe.return=U,Xe}finally{}}}var ua=yg(!0),vg=yg(!1),Wr=!1;function Rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ze&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Yu(t),tg(t,null,a),i}return Ku(t,o,i,a),Yu(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Hs(t,a)}}function Cf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var If=!1;function _l(){if(If){var t=$a;if(t!==null)throw t}}function El(t,i,a,o){If=!1;var h=t.updateQueue;Wr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,z=N.next;N.next=null,v===null?d=z:v.next=z,v=N;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=N))}if(d!==null){var $=h.baseState;v=0,K=z=N=null,T=d;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(ze&B)===B:(o&B)===B){B!==0&&B===Xa&&(If=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,Te=T;B=i;var ut=a;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){$=me.call(ut,$,B);break e}$=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,B=typeof me=="function"?me.call(ut,$,B):me,B==null)break e;$=w({},$,B);break e;case 2:Wr=!0}}B=T.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=F,N=$):K=K.next=F,v|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(N=$),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),as|=v,t.lanes=v,t.memoizedState=$}}function _g(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Eg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_g(a[t],i)}var Wa=V(null),rc=V(0);function Tg(t,i){t=Sr,se(rc,t),se(Wa,i),Sr=t|i.baseLanes}function Nf(){se(rc,Sr),se(Wa,Wa.current)}function Df(){Sr=rc.current,X(Wa),X(rc)}var Bn=V(null),ri=null;function ns(t){var i=t.alternate;se(Ut,Ut.current&1),se(Bn,t),ri===null&&(i===null||Wa.current!==null||i.memoizedState!==null)&&(ri=t)}function Of(t){se(Ut,Ut.current),se(Bn,t),ri===null&&(ri=t)}function bg(t){t.tag===22?(se(Ut,Ut.current),se(Bn,t),ri===null&&(ri=t)):is()}function is(){se(Ut,Ut.current),se(Bn,Bn.current)}function qn(t){X(Bn),ri===t&&(ri=null),X(Ut)}var Ut=V(0);function sc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Ld(a)||kd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var pr=0,De=null,ot=null,Ft=null,ac=!1,eo=!1,ca=!1,oc=0,Tl=0,to=null,eT=0;function xt(){throw Error(s(321))}function Mf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!kn(t[a],i[a]))return!1;return!0}function Vf(t,i,a,o,h,d){return pr=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?sy:Xf,ca=!1,d=a(o,h),ca=!1,eo&&(d=Ag(i,a,o,h)),Sg(t),d}function Sg(t){Q.H=Al;var i=ot!==null&&ot.next!==null;if(pr=0,Ft=ot=De=null,ac=!1,Tl=0,to=null,i)throw Error(s(300));t===null||Gt||(t=t.dependencies,t!==null&&Ju(t)&&(Gt=!0))}function Ag(t,i,a,o){De=t;var h=0;do{if(eo&&(to=null),Tl=0,eo=!1,25<=h)throw Error(s(301));if(h+=1,Ft=ot=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=ay,d=i(a,o)}while(eo);return d}function tT(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?bl(i):i,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(De.flags|=1024),i}function jf(){var t=oc!==0;return oc=0,t}function Pf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Uf(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}pr=0,Ft=ot=De=null,eo=!1,Tl=oc=0,to=null}function bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?De.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function Lt(){if(ot===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var i=Ft===null?De.memoizedState:Ft.next;if(i!==null)Ft=i,ot=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ft===null?De.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function lc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var i=Tl;return Tl+=1,to===null&&(to=[]),t=mg(to,t,i),i=De,(Ft===null?i.memoizedState:Ft.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?sy:Xf),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===de)return on(t)}throw Error(s(438,String(t)))}function Lf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lc(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=b;return i.index++,a}function gr(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=Lt();return kf(i,ot,t)}function kf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,N=null,z=i,K=!1;do{var $=z.lane&-536870913;if($!==z.lane?(ze&$)===$:(pr&$)===$){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Xa&&(K=!0);else if((pr&B)===B){z=z.next,B===Xa&&(K=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=$,v=d):N=N.next=$,De.lanes|=B,as|=B;$=z.action,ca&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=B,v=d):N=N.next=B,De.lanes|=$,as|=$;z=z.next}while(z!==null&&z!==i);if(N===null?v=d:N.next=T,!kn(d,t.memoizedState)&&(Gt=!0,K&&(a=$a,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=N,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function zf(t){var i=Lt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);kn(d,i.memoizedState)||(Gt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function wg(t,i,a){var o=De,h=Lt(),d=Qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!kn((ot||h).memoizedState,a);if(v&&(h.memoizedState=a,Gt=!0),h=h.queue,Hf(Cg.bind(null,o,h,t),[t]),h.getSnapshot!==i||v||Ft!==null&&Ft.memoizedState.tag&1){if(o.flags|=2048,no(9,{destroy:void 0},xg.bind(null,o,h,a,i),null),ht===null)throw Error(s(349));d||(pr&127)!==0||Rg(o,i,a)}return a}function Rg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=lc(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function xg(t,i,a,o){i.value=a,i.getSnapshot=o,Ig(i)&&Ng(t)}function Cg(t,i,a){return a(function(){Ig(i)&&Ng(t)})}function Ig(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!kn(t,a)}catch{return!0}}function Ng(t){var i=ta(t,2);i!==null&&Nn(i,t,2)}function Bf(t){var i=bn();if(typeof t=="function"){var a=t;if(t=a(),ca){vn(!0);try{a()}finally{vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:t},i}function Dg(t,i,a,o){return t.baseState=a,kf(t,ot,typeof o=="function"?o:gr)}function nT(t,i,a,o,h){if(dc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Og(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Og(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var T=a(h,o),N=Q.S;N!==null&&N(v,T),Mg(t,i,T)}catch(z){qf(t,i,z)}finally{d!==null&&v.types!==null&&(d.types=v.types),Q.T=d}}else try{d=a(h,o),Mg(t,i,d)}catch(z){qf(t,i,z)}}function Mg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Vg(t,i,o)},function(o){return qf(t,i,o)}):Vg(t,i,a)}function Vg(t,i,a){i.status="fulfilled",i.value=a,jg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Og(t,a)))}function qf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,jg(i),i=i.next;while(i!==o)}t.action=null}function jg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Pg(t,i){return i}function Ug(t,i){if(Qe){var a=ht.formState;if(a!==null){e:{var o=De;if(Qe){if(dt){t:{for(var h=dt,d=ii;h.nodeType!==8;){if(!d){h=null;break t}if(h=si(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=si(h.nextSibling),o=h.data==="F!";break e}}Jr(o)}o=!1}o&&(i=a[0])}}return a=bn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:i},a.queue=o,a=ny.bind(null,De,o),o.dispatch=a,o=Bf(!1),d=Yf.bind(null,De,!1,o.queue),o=bn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=nT.bind(null,De,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function Lg(t){var i=Lt();return kg(i,ot,t)}function kg(t,i,a){if(i=kf(t,i,Pg)[0],t=cc(gr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=bl(i)}catch(v){throw v===Ja?ec:v}else o=i;i=Lt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(De.flags|=2048,no(9,{destroy:void 0},iT.bind(null,h,a),null)),[o,d,t]}function iT(t,i){t.action=i}function zg(t){var i=Lt(),a=ot;if(a!==null)return kg(i,a,t);Lt(),i=i.memoizedState,a=Lt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function no(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=De.updateQueue,i===null&&(i=lc(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function Bg(){return Lt().memoizedState}function hc(t,i,a,o){var h=bn();De.flags|=t,h.memoizedState=no(1|i,{destroy:void 0},a,o===void 0?null:o)}function fc(t,i,a,o){var h=Lt();o=o===void 0?null:o;var d=h.memoizedState.inst;ot!==null&&o!==null&&Mf(o,ot.memoizedState.deps)?h.memoizedState=no(i,d,a,o):(De.flags|=t,h.memoizedState=no(1|i,d,a,o))}function qg(t,i){hc(8390656,8,t,i)}function Hf(t,i){fc(2048,8,t,i)}function rT(t){De.flags|=4;var i=De.updateQueue;if(i===null)i=lc(),De.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Hg(t){var i=Lt().memoizedState;return rT({ref:i,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Fg(t,i){return fc(4,2,t,i)}function Gg(t,i){return fc(4,4,t,i)}function Qg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Kg(t,i,a){a=a!=null?a.concat([t]):null,fc(4,4,Qg.bind(null,i,t),a)}function Ff(){}function Yg(t,i){var a=Lt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Mf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Xg(t,i){var a=Lt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Mf(i,o[1]))return o[0];if(o=t(),ca){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[o,i],o}function Gf(t,i,a){return a===void 0||(pr&1073741824)!==0&&(ze&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=$y(),De.lanes|=t,as|=t,a)}function $g(t,i,a,o){return kn(a,i)?a:Wa.current!==null?(t=Gf(t,a,o),kn(t,i)||(Gt=!0),t):(pr&42)===0||(pr&1073741824)!==0&&(ze&261930)===0?(Gt=!0,t.memoizedState=a):(t=$y(),De.lanes|=t,as|=t,i)}function Jg(t,i,a,o,h){var d=re.p;re.p=d!==0&&8>d?d:8;var v=Q.T,T={};Q.T=T,Yf(t,!1,i,a);try{var N=h(),z=Q.S;if(z!==null&&z(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=W1(N,o);Sl(t,i,K,Gn(t))}else Sl(t,i,o,Gn(t))}catch($){Sl(t,i,{then:function(){},status:"rejected",reason:$},Gn())}finally{re.p=d,v!==null&&T.types!==null&&(v.types=T.types),Q.T=v}}function sT(){}function Qf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Zg(t).queue;Jg(t,h,i,ye,a===null?sT:function(){return Wg(t),a(o)})}function Zg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:ye},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Wg(t){var i=Zg(t);i.next===null&&(i=t.alternate.memoizedState),Sl(t,i.next.queue,{},Gn())}function Kf(){return on(zl)}function ey(){return Lt().memoizedState}function ty(){return Lt().memoizedState}function aT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Gn();t=es(a);var o=ts(i,t,a);o!==null&&(Nn(o,i,a),vl(o,i,a)),i={cache:bf()},t.payload=i;return}i=i.return}}function oT(t,i,a){var o=Gn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?iy(i,a):(a=hf(t,i,a,o),a!==null&&(Nn(a,t,o),ry(a,i,o)))}function ny(t,i,a){var o=Gn();Sl(t,i,a,o)}function Sl(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))iy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,kn(T,v))return Ku(t,i,h,0),ht===null&&Qu(),!1}catch{}finally{}if(a=hf(t,i,h,o),a!==null)return Nn(a,t,o),ry(a,i,o),!0}return!1}function Yf(t,i,a,o){if(o={lane:2,revertLane:Rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(i)throw Error(s(479))}else i=hf(t,a,o,2),i!==null&&Nn(i,t,2)}function dc(t){var i=t.alternate;return t===De||i!==null&&i===De}function iy(t,i){eo=ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ry(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Hs(t,a)}}var Al={readContext:on,use:uc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};Al.useEffectEvent=xt;var sy={readContext:on,use:uc,useCallback:function(t,i){return bn().memoizedState=[t,i===void 0?null:i],t},useContext:on,useEffect:qg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hc(4194308,4,Qg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var a=bn();i=i===void 0?null:i;var o=t();if(ca){vn(!0);try{t()}finally{vn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=bn();if(a!==void 0){var h=a(i);if(ca){vn(!0);try{a(i)}finally{vn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=oT.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var i=bn();return t={current:t},i.memoizedState=t},useState:function(t){t=Bf(t);var i=t.queue,a=ny.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(t,i){var a=bn();return Gf(a,t,i)},useTransition:function(){var t=Bf(!1);return t=Jg.bind(null,De,t.queue,!0,!1),bn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=De,h=bn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ht===null)throw Error(s(349));(ze&127)!==0||Rg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,qg(Cg.bind(null,o,d,t),[t]),o.flags|=2048,no(9,{destroy:void 0},xg.bind(null,o,d,a,i),null),a},useId:function(){var t=bn(),i=ht.identifierPrefix;if(Qe){var a=zi,o=ki;a=(o&~(1<<32-bt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=oc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=eT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Kf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t){var i=bn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yf.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:Lf,useCacheRefresh:function(){return bn().memoizedState=aT.bind(null,De)},useEffectEvent:function(t){var i=bn(),a={impl:t};return i.memoizedState=a,function(){if((Ze&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Xf={readContext:on,use:uc,useCallback:Yg,useContext:on,useEffect:Hf,useImperativeHandle:Kg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:cc,useRef:Bg,useState:function(){return cc(gr)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=Lt();return $g(a,ot.memoizedState,t,i)},useTransition:function(){var t=cc(gr)[0],i=Lt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:wg,useId:ey,useHostTransitionStatus:Kf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t,i){var a=Lt();return Dg(a,ot,t,i)},useMemoCache:Lf,useCacheRefresh:ty};Xf.useEffectEvent=Hg;var ay={readContext:on,use:uc,useCallback:Yg,useContext:on,useEffect:Hf,useImperativeHandle:Kg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:zf,useRef:Bg,useState:function(){return zf(gr)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=Lt();return ot===null?Gf(a,t,i):$g(a,ot.memoizedState,t,i)},useTransition:function(){var t=zf(gr)[0],i=Lt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:wg,useId:ey,useHostTransitionStatus:Kf,useFormState:zg,useActionState:zg,useOptimistic:function(t,i){var a=Lt();return ot!==null?Dg(a,ot,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:ty};ay.useEffectEvent=Hg;function $f(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Jf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Gn(),h=es(o);h.payload=i,a!=null&&(h.callback=a),i=ts(t,h,o),i!==null&&(Nn(i,t,o),vl(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Gn(),h=es(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ts(t,h,o),i!==null&&(Nn(i,t,o),vl(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Gn(),o=es(a);o.tag=2,i!=null&&(o.callback=i),i=ts(t,o,a),i!==null&&(Nn(i,t,a),vl(i,t,a))}};function oy(t,i,a,o,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!cl(a,o)||!cl(h,d):!0}function ly(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Jf.enqueueReplaceState(i,i.state,null)}function ha(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function uy(t){Gu(t)}function cy(t){console.error(t)}function hy(t){Gu(t)}function mc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function fy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Zf(t,i,a){return a=es(a),a.tag=3,a.payload={element:null},a.callback=function(){mc(t,i)},a}function dy(t){return t=es(t),t.tag=3,t}function my(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){fy(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){fy(i,a,o),typeof h!="function"&&(os===null?os=new Set([this]):os.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function lT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ya(i,a,h,!0),a=Bn.current,a!==null){switch(a.tag){case 31:case 13:return ri===null?Rc():a.alternate===null&&Ct===0&&(Ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===tc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Sd(t,o,h)),!1;case 22:return a.flags|=65536,o===tc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Sd(t,o,h)),!1}throw Error(s(435,a.tag))}return Sd(t,o,h),Rc(),!1}if(Qe)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==yf&&(t=Error(s(422),{cause:o}),dl(ei(t,a)))):(o!==yf&&(i=Error(s(423),{cause:o}),dl(ei(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ei(o,a),h=Zf(t.stateNode,o,h),Cf(t,h),Ct!==4&&(Ct=2)),!1;var d=Error(s(520),{cause:o});if(d=ei(d,a),Ol===null?Ol=[d]:Ol.push(d),Ct!==4&&(Ct=2),i===null)return!0;o=ei(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Zf(a.stateNode,o,t),Cf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(os===null||!os.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),my(h,t,a,o),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var Wf=Error(s(461)),Gt=!1;function ln(t,i,a,o){i.child=t===null?vg(i,null,a,o):ua(i,t.child,a,o)}function py(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return sa(i),o=Vf(t,i,a,v,d,h),T=jf(),t!==null&&!Gt?(Pf(t,i,h),yr(t,i,h)):(Qe&&T&&pf(i),i.flags|=1,ln(t,i,o,h),i.child)}function gy(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!ff(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,yy(t,i,d,o,h)):(t=Xu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!od(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(v,o)&&t.ref===i.ref)return yr(t,i,h)}return i.flags|=1,t=hr(d,o),t.ref=i.ref,t.return=i,i.child=t}function yy(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(cl(d,o)&&t.ref===i.ref)if(Gt=!1,i.pendingProps=o=d,od(t,h))(t.flags&131072)!==0&&(Gt=!0);else return i.lanes=t.lanes,yr(t,i,h)}return ed(t,i,a,o,h)}function vy(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return _y(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,d!==null?d.cachePool:null),d!==null?Tg(i,d):Nf(),bg(i);else return o=i.lanes=536870912,_y(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Wu(i,d.cachePool),Tg(i,d),is(),i.memoizedState=null):(t!==null&&Wu(i,null),Nf(),is());return ln(t,i,h,a),i.child}function wl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function _y(t,i,a,o,h){var d=Af();return d=d===null?null:{parent:Ht._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Wu(i,null),Nf(),bg(i),t!==null&&Ya(t,i,o,!0),i.childLanes=h,null}function pc(t,i){return i=yc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Ey(t,i,a){return ua(i,t.child,null,a),t=pc(i,i.pendingProps),t.flags|=2,qn(i),i.memoizedState=null,t}function uT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Qe){if(o.mode==="hidden")return t=pc(i,o),i.lanes=536870912,wl(null,t);if(Of(i),(t=dt)?(t=Ov(t,ii),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Xr!==null?{id:ki,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=ig(t),a.return=i,i.child=a,an=i,dt=null)):t=null,t===null)throw Jr(i);return i.lanes=536870912,null}return pc(i,o)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Of(i),h)if(i.flags&256)i.flags&=-257,i=Ey(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Gt||Ya(t,i,a,!1),h=(a&t.childLanes)!==0,Gt||h){if(o=ht,o!==null&&(v=kr(o,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ta(t,v),Nn(o,t,v),Wf;Rc(),i=Ey(t,i,a)}else t=d.treeContext,dt=si(v.nextSibling),an=i,Qe=!0,$r=null,ii=!1,t!==null&&ag(i,t),i=pc(i,o),i.flags|=4096;return i}return t=hr(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function gc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ed(t,i,a,o,h){return sa(i),a=Vf(t,i,a,o,void 0,h),o=jf(),t!==null&&!Gt?(Pf(t,i,h),yr(t,i,h)):(Qe&&o&&pf(i),i.flags|=1,ln(t,i,a,h),i.child)}function Ty(t,i,a,o,h,d){return sa(i),i.updateQueue=null,a=Ag(i,o,a,h),Sg(t),o=jf(),t!==null&&!Gt?(Pf(t,i,d),yr(t,i,d)):(Qe&&o&&pf(i),i.flags|=1,ln(t,i,a,d),i.child)}function by(t,i,a,o,h){if(sa(i),i.stateNode===null){var d=Fa,v=a.contextType;typeof v=="object"&&v!==null&&(d=on(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Jf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Rf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?on(v):Fa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&($f(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Jf.enqueueReplaceState(d,d.state,null),El(i,o,d,h),_l(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=ha(a,T);d.props=N;var z=d.context,K=a.contextType;v=Fa,typeof K=="object"&&K!==null&&(v=on(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&ly(i,d,o,v),Wr=!1;var B=i.memoizedState;d.state=B,El(i,o,d,h),_l(),z=i.memoizedState,T||B!==z||Wr?(typeof $=="function"&&($f(i,a,$,o),z=i.memoizedState),(N=Wr||oy(i,a,N,o,B,z,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),d.props=o,d.state=z,d.context=v,o=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,xf(t,i),v=i.memoizedProps,K=ha(a,v),d.props=K,$=i.pendingProps,B=d.context,z=a.contextType,N=Fa,typeof z=="object"&&z!==null&&(N=on(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||B!==N)&&ly(i,d,o,N),Wr=!1,B=i.memoizedState,d.state=B,El(i,o,d,h),_l();var F=i.memoizedState;v!==$||B!==F||Wr||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof T=="function"&&($f(i,a,T,o),F=i.memoizedState),(K=Wr||oy(i,a,K,o,B,F,N)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,F,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=F),d.props=o,d.state=F,d.context=N,o=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,gc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=ua(i,t.child,null,h),i.child=ua(i,null,a,h)):ln(t,i,a,h),i.memoizedState=d.state,t=i.child):t=yr(t,i,h),t}function Sy(t,i,a,o){return ia(),i.flags|=256,ln(t,i,a,o),i.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(t){return{baseLanes:t,cachePool:fg()}}function id(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Fn),t}function Ay(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ut.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qe){if(h?ns(i):is(),(t=dt)?(t=Ov(t,ii),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Xr!==null?{id:ki,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},a=ig(t),a.return=i,i.child=a,an=i,dt=null)):t=null,t===null)throw Jr(i);return kd(t)?i.lanes=32:i.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(is(),h=i.mode,T=yc({mode:"hidden",children:T},h),o=na(o,h,a,null),T.return=i,o.return=i,T.sibling=o,i.child=T,o=i.child,o.memoizedState=nd(a),o.childLanes=id(t,v,a),i.memoizedState=td,wl(null,o)):(ns(i),rd(i,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(ns(i),i.flags&=-257,i=sd(t,i,a)):i.memoizedState!==null?(is(),i.child=t.child,i.flags|=128,i=null):(is(),T=o.fallback,h=i.mode,o=yc({mode:"visible",children:o.children},h),T=na(T,h,a,null),T.flags|=2,o.return=i,T.return=i,o.sibling=T,i.child=o,ua(i,t.child,null,a),o=i.child,o.memoizedState=nd(a),o.childLanes=id(t,v,a),i.memoizedState=td,i=wl(null,o));else if(ns(i),kd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,o=Error(s(419)),o.stack="",o.digest=v,dl({value:o,source:null,stack:null}),i=sd(t,i,a)}else if(Gt||Ya(t,i,a,!1),v=(a&t.childLanes)!==0,Gt||v){if(v=ht,v!==null&&(o=kr(v,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,ta(t,o),Nn(v,t,o),Wf;Ld(T)||Rc(),i=sd(t,i,a)}else Ld(T)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,dt=si(T.nextSibling),an=i,Qe=!0,$r=null,ii=!1,t!==null&&ag(i,t),i=rd(i,o.children),i.flags|=4096);return i}return h?(is(),T=o.fallback,h=i.mode,N=t.child,z=N.sibling,o=hr(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?T=hr(z,T):(T=na(T,h,a,null),T.flags|=2),T.return=i,o.return=i,o.sibling=T,i.child=o,wl(null,o),o=i.child,T=t.child.memoizedState,T===null?T=nd(a):(h=T.cachePool,h!==null?(N=Ht._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=fg(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=id(t,v,a),i.memoizedState=td,wl(t.child,o)):(ns(i),a=t.child,t=a.sibling,a=hr(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function rd(t,i){return i=yc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yc(t,i){return t=zn(22,t,null,i),t.lanes=0,t}function sd(t,i,a){return ua(i,t.child,null,a),t=rd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function wy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Ef(t.return,i,a)}function ad(t,i,a,o,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function Ry(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var v=Ut.current,T=(v&2)!==0;if(T?(v=v&1|2,i.flags|=128):v&=1,se(Ut,v),ln(t,i,o,a),o=Qe?fl:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,a,i);else if(t.tag===19)wy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&sc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ad(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&sc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ad(i,!0,a,null,d,o);break;case"together":ad(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function yr(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),as|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ya(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=hr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=hr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function od(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function cT(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),Zr(i,Ht,t.memoizedState.cache),ia();break;case 27:case 5:ci(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:Zr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Of(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(ns(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Ay(t,i,a):(ns(i),t=yr(t,i,a),t!==null?t.sibling:null);ns(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ya(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ry(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Ut,Ut.current),o)break;return null;case 22:return i.lanes=0,vy(t,i,a,i.pendingProps);case 24:Zr(i,Ht,t.memoizedState.cache)}return yr(t,i,a)}function xy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Gt=!0;else{if(!od(t,a)&&(i.flags&128)===0)return Gt=!1,cT(t,i,a);Gt=(t.flags&131072)!==0}else Gt=!1,Qe&&(i.flags&1048576)!==0&&sg(i,fl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=oa(i.elementType),i.type=t,typeof t=="function")ff(t)?(o=ha(t,o),i.tag=1,i=by(null,i,t,o,a)):(i.tag=0,i=ed(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ue){i.tag=11,i=py(null,i,t,o,a);break e}else if(h===D){i.tag=14,i=gy(null,i,t,o,a);break e}}throw i=We(t)||t,Error(s(306,i,""))}}return i;case 0:return ed(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=ha(o,i.pendingProps),by(t,i,o,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,xf(t,i),El(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Zr(i,Ht,o),o!==d.cache&&Tf(i,[Ht],a,!0),_l(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Sy(t,i,o,a);break e}else if(o!==h){h=ei(Error(s(424)),i),dl(h),i=Sy(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=si(t.firstChild),an=i,Qe=!0,$r=null,ii=!0,a=vg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ia(),o===h){i=yr(t,i,a);break e}ln(t,i,o,a)}i=i.child}return i;case 26:return gc(t,i),t===null?(a=Lv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qe||(a=i.type,t=i.pendingProps,o=Mc(Re.current).createElement(a),o[St]=i,o[Vt]=t,un(o,a,t),jt(o),i.stateNode=o):i.memoizedState=Lv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ci(i),t===null&&Qe&&(o=i.stateNode=jv(i.type,i.pendingProps,Re.current),an=i,ii=!0,h=dt,hs(i.type)?(zd=h,dt=si(o.firstChild)):dt=h),ln(t,i,i.pendingProps.children,a),gc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Qe&&((h=o=dt)&&(o=zT(o,i.type,i.pendingProps,ii),o!==null?(i.stateNode=o,an=i,dt=si(o.firstChild),ii=!1,h=!0):h=!1),h||Jr(i)),ci(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,o=d.children,jd(h,d)?o=null:v!==null&&jd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Vf(t,i,tT,null,null,a),zl._currentValue=h),gc(t,i),ln(t,i,o,a),i.child;case 6:return t===null&&Qe&&((t=a=dt)&&(a=BT(a,i.pendingProps,ii),a!==null?(i.stateNode=a,an=i,dt=null,t=!0):t=!1),t||Jr(i)),null;case 13:return Ay(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=ua(i,null,o,a):ln(t,i,o,a),i.child;case 11:return py(t,i,i.type,i.pendingProps,a);case 7:return ln(t,i,i.pendingProps,a),i.child;case 8:return ln(t,i,i.pendingProps.children,a),i.child;case 12:return ln(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Zr(i,i.type,o.value),ln(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,sa(i),h=on(h),o=o(h),i.flags|=1,ln(t,i,o,a),i.child;case 14:return gy(t,i,i.type,i.pendingProps,a);case 15:return yy(t,i,i.type,i.pendingProps,a);case 19:return Ry(t,i,a);case 31:return uT(t,i,a);case 22:return vy(t,i,a,i.pendingProps);case 24:return sa(i),o=on(Ht),t===null?(h=Af(),h===null&&(h=ht,d=bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Rf(i),Zr(i,Ht,h)):((t.lanes&a)!==0&&(xf(t,i),El(i,null,null,a),_l()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Zr(i,Ht,o)):(o=d.cache,Zr(i,Ht,o),o!==h.cache&&Tf(i,[Ht],a,!0))),ln(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function vr(t){t.flags|=4}function ld(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(ev())t.flags|=8192;else throw la=tc,wf}else t.flags&=-16777217}function Cy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hv(i))if(ev())t.flags|=8192;else throw la=tc,wf}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ia():536870912,t.lanes|=i,ao|=i)}function Rl(t,i){if(!Qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function hT(t,i,a){var o=i.pendingProps;switch(gf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),mr(Ht),ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ka(i)?vr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,vf())),mt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(vr(i),d!==null?(mt(i),Cy(i,d)):(mt(i),ld(i,h,null,o,a))):d?d!==t.memoizedState?(vr(i),mt(i),Cy(i,d)):(mt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&vr(i),mt(i),ld(i,h,t,o,a)),null;case 27:if(hi(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&vr(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return mt(i),null}t=ae.current,Ka(i)?og(i):(t=jv(h,o,a),i.stateNode=t,vr(i))}return mt(i),null;case 5:if(hi(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&vr(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return mt(i),null}if(d=ae.current,Ka(i))og(i);else{var v=Mc(Re.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?v.createElement(h,{is:o.is}):v.createElement(h)}}d[St]=i,d[Vt]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(un(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&vr(i)}}return mt(i),ld(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&vr(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Ka(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=an,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Av(t.nodeValue,a)),t||Jr(i,!0)}else t=Mc(t).createTextNode(o),t[St]=i,i.stateNode=t}return mt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ka(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else ia(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),t=!1}else a=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(qn(i),i):(qn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return mt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ka(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else ia(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),h=!1}else h=vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(qn(i),i):(qn(i),null)}return qn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),mt(i),null);case 4:return ct(),t===null&&Nd(i.stateNode.containerInfo),mt(i),null;case 10:return mr(i.type),mt(i),null;case 19:if(X(Ut),o=i.memoizedState,o===null)return mt(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)Rl(o,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=sc(t),d!==null){for(i.flags|=128,Rl(o,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ng(a,t),a=a.sibling;return se(Ut,Ut.current&1|2),Qe&&fr(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&Tt()>Sc&&(i.flags|=128,h=!0,Rl(o,!1),i.lanes=4194304)}else{if(!h)if(t=sc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),Rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Qe)return mt(i),null}else 2*Tt()-o.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,h=!0,Rl(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Tt(),t.sibling=null,a=Ut.current,se(Ut,h?a&1|2:a&1),Qe&&fr(i,o.treeForkCount),t):(mt(i),null);case 22:case 23:return qn(i),Df(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&X(aa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),mr(Ht),mt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function fT(t,i){switch(gf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return mr(Ht),ct(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return hi(i),null;case 31:if(i.memoizedState!==null){if(qn(i),i.alternate===null)throw Error(s(340));ia()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(qn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ia()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return X(Ut),null;case 4:return ct(),null;case 10:return mr(i.type),null;case 22:case 23:return qn(i),Df(),t!==null&&X(aa),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return mr(Ht),null;case 25:return null;default:return null}}function Iy(t,i){switch(gf(i),i.tag){case 3:mr(Ht),ct();break;case 26:case 27:case 5:hi(i);break;case 4:ct();break;case 31:i.memoizedState!==null&&qn(i);break;case 13:qn(i);break;case 19:X(Ut);break;case 10:mr(i.type);break;case 22:case 23:qn(i),Df(),t!==null&&X(aa);break;case 24:mr(Ht)}}function xl(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){rt(i,i.return,T)}}function rs(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var N=a,z=T;try{z()}catch(K){rt(h,N,K)}}}o=o.next}while(o!==d)}}catch(K){rt(i,i.return,K)}}function Ny(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Eg(i,a)}catch(o){rt(t,t.return,o)}}}function Dy(t,i,a){a.props=ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){rt(t,i,o)}}function Cl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){rt(t,i,h)}}function Bi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){rt(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){rt(t,i,h)}else a.current=null}function Oy(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){rt(t,t.return,h)}}function ud(t,i,a){try{var o=t.stateNode;VT(o,t.type,a,i),o[Vt]=i}catch(h){rt(t,t.return,h)}}function My(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hs(t.type)||t.tag===4}function cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||My(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=mi));else if(o!==4&&(o===27&&hs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(hd(t,i,a),t=t.sibling;t!==null;)hd(t,i,a),t=t.sibling}function _c(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(_c(t,i,a),t=t.sibling;t!==null;)_c(t,i,a),t=t.sibling}function Vy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);un(i,o,a),i[St]=t,i[Vt]=a}catch(d){rt(t,t.return,d)}}var _r=!1,Qt=!1,fd=!1,jy=typeof WeakSet=="function"?WeakSet:Set,en=null;function dT(t,i){if(t=t.containerInfo,Md=zc,t=Kp(t),sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,N=-1,z=0,K=0,$=t,B=null;t:for(;;){for(var F;$!==a||h!==0&&$.nodeType!==3||(T=v+h),$!==d||o!==0&&$.nodeType!==3||(N=v+o),$.nodeType===3&&(v+=$.nodeValue.length),(F=$.firstChild)!==null;)B=$,$=F;for(;;){if($===t)break t;if(B===a&&++z===h&&(T=v),B===d&&++K===o&&(N=v),(F=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=F}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Vd={focusedElem:t,selectionRange:a},zc=!1,en=i;en!==null;)if(i=en,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,en=t;else for(;en!==null;){switch(i=en,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var me=ha(a.type,h);t=o.getSnapshotBeforeUpdate(me,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){rt(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Ud(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,en=t;break}en=i.return}}function Py(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(t,a),o&4&&xl(5,a);break;case 1:if(Tr(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){rt(a,a.return,v)}else{var h=ha(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){rt(a,a.return,v)}}o&64&&Ny(a),o&512&&Cl(a,a.return);break;case 3:if(Tr(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Eg(t,i)}catch(v){rt(a,a.return,v)}}break;case 27:i===null&&o&4&&Vy(a);case 26:case 5:Tr(t,a),i===null&&o&4&&Oy(a),o&512&&Cl(a,a.return);break;case 12:Tr(t,a);break;case 31:Tr(t,a),o&4&&ky(t,a);break;case 13:Tr(t,a),o&4&&zy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=bT.bind(null,a),qT(t,a))));break;case 22:if(o=a.memoizedState!==null||_r,!o){i=i!==null&&i.memoizedState!==null||Qt,h=_r;var d=Qt;_r=o,(Qt=i)&&!d?br(t,a,(a.subtreeFlags&8772)!==0):Tr(t,a),_r=h,Qt=d}break;case 30:break;default:Tr(t,a)}}function Uy(t){var i=t.alternate;i!==null&&(t.alternate=null,Uy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&rn(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,Rn=!1;function Er(t,i,a){for(a=a.child;a!==null;)Ly(t,i,a),a=a.sibling}function Ly(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:Qt||Bi(a,i),Er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qt||Bi(a,i);var o=vt,h=Rn;hs(a.type)&&(vt=a.stateNode,Rn=!1),Er(t,i,a),Ul(a.stateNode),vt=o,Rn=h;break;case 5:Qt||Bi(a,i);case 6:if(o=vt,h=Rn,vt=null,Er(t,i,a),vt=o,Rn=h,vt!==null)if(Rn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(d){rt(a,i,d)}else try{vt.removeChild(a.stateNode)}catch(d){rt(a,i,d)}break;case 18:vt!==null&&(Rn?(t=vt,Nv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),po(t)):Nv(vt,a.stateNode));break;case 4:o=vt,h=Rn,vt=a.stateNode.containerInfo,Rn=!0,Er(t,i,a),vt=o,Rn=h;break;case 0:case 11:case 14:case 15:rs(2,a,i),Qt||rs(4,a,i),Er(t,i,a);break;case 1:Qt||(Bi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dy(a,i,o)),Er(t,i,a);break;case 21:Er(t,i,a);break;case 22:Qt=(o=Qt)||a.memoizedState!==null,Er(t,i,a),Qt=o;break;default:Er(t,i,a)}}function ky(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{po(t)}catch(a){rt(i,i.return,a)}}}function zy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{po(t)}catch(a){rt(i,i.return,a)}}function mT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new jy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new jy),i;default:throw Error(s(435,t.tag))}}function Ec(t,i){var a=mT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=ST.bind(null,t,o);o.then(h,h)}})}function xn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(hs(T.type)){vt=T.stateNode,Rn=!1;break e}break;case 5:vt=T.stateNode,Rn=!1;break e;case 3:case 4:vt=T.stateNode.containerInfo,Rn=!0;break e}T=T.return}if(vt===null)throw Error(s(160));Ly(d,v,h),vt=null,Rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)By(i,t),i=i.sibling}var Ei=null;function By(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(i,t),Cn(t),o&4&&(rs(3,t,t.return),xl(3,t),rs(5,t,t.return));break;case 1:xn(i,t),Cn(t),o&512&&(Qt||a===null||Bi(a,a.return)),o&64&&_r&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Ei;if(xn(i,t),Cn(t),o&512&&(Qt||a===null||Bi(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ke]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),un(d,o,a),d[St]=t,jt(d),o=d;break e;case"link":var v=Bv("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(o),un(d,o,a),h.head.appendChild(d);break;case"meta":if(v=Bv("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(o),un(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[St]=t,jt(d),o=d}t.stateNode=o}else qv(h,t.type,t.stateNode);else t.stateNode=zv(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?qv(h,t.type,t.stateNode):zv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ud(t,t.memoizedProps,a.memoizedProps)}break;case 27:xn(i,t),Cn(t),o&512&&(Qt||a===null||Bi(a,a.return)),a!==null&&o&4&&ud(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xn(i,t),Cn(t),o&512&&(Qt||a===null||Bi(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(me){rt(t,t.return,me)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ud(t,h,a!==null?a.memoizedProps:h)),o&1024&&(fd=!0);break;case 6:if(xn(i,t),Cn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(me){rt(t,t.return,me)}}break;case 3:if(Pc=null,h=Ei,Ei=Vc(i.containerInfo),xn(i,t),Ei=h,Cn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{po(i.containerInfo)}catch(me){rt(t,t.return,me)}fd&&(fd=!1,qy(t));break;case 4:o=Ei,Ei=Vc(t.stateNode.containerInfo),xn(i,t),Cn(t),Ei=o;break;case 12:xn(i,t),Cn(t);break;case 31:xn(i,t),Cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ec(t,o)));break;case 13:xn(i,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bc=Tt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ec(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=_r,K=Qt;if(_r=z||h,Qt=K||N,xn(i,t),Qt=K,_r=z,Cn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||_r||Qt||fa(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var $=N.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(me){rt(N,N.return,me)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(me){rt(N,N.return,me)}}}else if(i.tag===18){if(a===null){N=i;try{var F=N.stateNode;h?Dv(F,!0):Dv(N.stateNode,!1)}catch(me){rt(N,N.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ec(t,a))));break;case 19:xn(i,t),Cn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ec(t,o)));break;case 30:break;case 21:break;default:xn(i,t),Cn(t)}}function Cn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(My(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=cd(t);_c(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(wn(v,""),a.flags&=-33);var T=cd(t);_c(t,T,v);break;case 3:case 4:var N=a.stateNode.containerInfo,z=cd(t);hd(t,z,N);break;default:throw Error(s(161))}}catch(K){rt(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Py(t,i.alternate,i),i=i.sibling}function fa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:rs(4,i,i.return),fa(i);break;case 1:Bi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Dy(i,i.return,a),fa(i);break;case 27:Ul(i.stateNode);case 26:case 5:Bi(i,i.return),fa(i);break;case 22:i.memoizedState===null&&fa(i);break;case 30:fa(i);break;default:fa(i)}t=t.sibling}}function br(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:br(h,d,a),xl(4,d);break;case 1:if(br(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){rt(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var T=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)_g(N[h],T)}catch(z){rt(o,o.return,z)}}a&&v&64&&Ny(d),Cl(d,d.return);break;case 27:Vy(d);case 26:case 5:br(h,d,a),a&&o===null&&v&4&&Oy(d),Cl(d,d.return);break;case 12:br(h,d,a);break;case 31:br(h,d,a),a&&v&4&&ky(h,d);break;case 13:br(h,d,a),a&&v&4&&zy(h,d);break;case 22:d.memoizedState===null&&br(h,d,a),Cl(d,d.return);break;case 30:break;default:br(h,d,a)}i=i.sibling}}function dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t))}function Ti(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hy(t,i,a,o),i=i.sibling}function Hy(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ti(t,i,a,o),h&2048&&xl(9,i);break;case 1:Ti(t,i,a,o);break;case 3:Ti(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t)));break;case 12:if(h&2048){Ti(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){rt(i,i.return,N)}}else Ti(t,i,a,o);break;case 31:Ti(t,i,a,o);break;case 13:Ti(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?Ti(t,i,a,o):Il(t,i):d._visibility&2?Ti(t,i,a,o):(d._visibility|=2,io(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&dd(v,i);break;case 24:Ti(t,i,a,o),h&2048&&md(i.alternate,i);break;default:Ti(t,i,a,o)}}function io(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,T=a,N=o,z=v.flags;switch(v.tag){case 0:case 11:case 15:io(d,v,T,N,h),xl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?io(d,v,T,N,h):Il(d,v):(K._visibility|=2,io(d,v,T,N,h)),h&&z&2048&&dd(v.alternate,v);break;case 24:io(d,v,T,N,h),h&&z&2048&&md(v.alternate,v);break;default:io(d,v,T,N,h)}i=i.sibling}}function Il(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Il(a,o),h&2048&&dd(o.alternate,o);break;case 24:Il(a,o),h&2048&&md(o.alternate,o);break;default:Il(a,o)}i=i.sibling}}var Nl=8192;function ro(t,i,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)Fy(t,i,a),t=t.sibling}function Fy(t,i,a){switch(t.tag){case 26:ro(t,i,a),t.flags&Nl&&t.memoizedState!==null&&eb(a,Ei,t.memoizedState,t.memoizedProps);break;case 5:ro(t,i,a);break;case 3:case 4:var o=Ei;Ei=Vc(t.stateNode.containerInfo),ro(t,i,a),Ei=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Nl,Nl=16777216,ro(t,i,a),Nl=o):ro(t,i,a));break;default:ro(t,i,a)}}function Gy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];en=o,Ky(o,t)}Gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&rs(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tc(t)):Dl(t);break;default:Dl(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];en=o,Ky(o,t)}Gy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:rs(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}t=t.sibling}}function Ky(t,i){for(;en!==null;){var a=en;switch(a.tag){case 0:case 11:case 15:rs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ml(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,en=o;else e:for(a=t;en!==null;){o=en;var h=o.sibling,d=o.return;if(Uy(o),o===a){en=null;break e}if(h!==null){h.return=d,en=h;break e}en=d}}}var pT={getCacheForType:function(t){var i=on(Ht),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return on(Ht).controller.signal}},gT=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ht=null,je=null,ze=0,it=0,Hn=null,ss=!1,so=!1,pd=!1,Sr=0,Ct=0,as=0,da=0,gd=0,Fn=0,ao=0,Ol=null,In=null,yd=!1,bc=0,Yy=0,Sc=1/0,Ac=null,os=null,Jt=0,ls=null,oo=null,Ar=0,vd=0,_d=null,Xy=null,Ml=0,Ed=null;function Gn(){return(Ze&2)!==0&&ze!==0?ze&-ze:Q.T!==null?Rd():Na()}function $y(){if(Fn===0)if((ze&536870912)===0||Qe){var t=Ii;Ii<<=1,(Ii&3932160)===0&&(Ii=262144),Fn=t}else Fn=536870912;return t=Bn.current,t!==null&&(t.flags|=32),Fn}function Nn(t,i,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(lo(t,0),us(t,ze,Fn,!1)),sr(t,a),((Ze&2)===0||t!==ht)&&(t===ht&&((Ze&2)===0&&(da|=a),Ct===4&&us(t,ze,Fn,!1)),qi(t))}function Jy(t,i,a){if((Ze&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||jn(t,i),h=o?_T(t,i):bd(t,i,!0),d=o;do{if(h===0){so&&!o&&us(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!yT(a)){h=bd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=Ol;var N=T.current.memoizedState.isDehydrated;if(N&&(lo(T,v).flags|=256),v=bd(T,v,!1),v!==2){if(pd&&!N){T.errorRecoveryDisabledLanes|=d,da|=d,h=4;break e}d=In,In=h,d!==null&&(In===null?In=d:In.push.apply(In,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){lo(t,0),us(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:us(o,i,Fn,!ss);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bc+300-Tt(),10<h)){if(us(o,i,Fn,!ss),Yn(o,0,!0)!==0)break e;Ar=i,o.timeoutHandle=Cv(Zy.bind(null,o,a,In,Ac,yd,i,Fn,da,ao,ss,d,"Throttled",-0,0),h);break e}Zy(o,a,In,Ac,yd,i,Fn,da,ao,ss,d,null,-0,0)}}break}while(!0);qi(t)}function Zy(t,i,a,o,h,d,v,T,N,z,K,$,B,F){if(t.timeoutHandle=-1,$=i.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},Fy(i,d,$);var me=(d&62914560)===d?bc-Tt():(d&4194048)===d?Yy-Tt():0;if(me=tb($,me),me!==null){Ar=d,t.cancelPendingCommit=me(av.bind(null,t,i,d,a,o,h,v,T,N,K,$,null,B,F)),us(t,d,v,!z);return}}av(t,i,d,a,o,h,v,T,N)}function yT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!kn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function us(t,i,a,o){i&=~gd,i&=~da,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-bt(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&ar(t,a,i)}function wc(){return(Ze&6)===0?(Vl(0),!1):!0}function Td(){if(je!==null){if(it===0)var t=je.return;else t=je,dr=ra=null,Uf(t),Za=null,gl=0,t=je;for(;t!==null;)Iy(t.alternate,t),t=t.return;je=null}}function lo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,UT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ar=0,Td(),ht=t,je=a=hr(t.current,null),ze=i,it=0,Hn=null,ss=!1,so=jn(t,i),pd=!1,ao=Fn=gd=da=as=Ct=0,In=Ol=null,yd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-bt(o),d=1<<h;i|=t[h],o&=~d}return Sr=i,Qu(),a}function Wy(t,i){De=null,Q.H=Al,i===Ja||i===ec?(i=pg(),it=3):i===wf?(i=pg(),it=4):it=i===Wf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Hn=i,je===null&&(Ct=1,mc(t,ei(i,t.current)))}function ev(){var t=Bn.current;return t===null?!0:(ze&4194048)===ze?ri===null:(ze&62914560)===ze||(ze&536870912)!==0?t===ri:!1}function tv(){var t=Q.H;return Q.H=Al,t===null?Al:t}function nv(){var t=Q.A;return Q.A=pT,t}function Rc(){Ct=4,ss||(ze&4194048)!==ze&&Bn.current!==null||(so=!0),(as&134217727)===0&&(da&134217727)===0||ht===null||us(ht,ze,Fn,!1)}function bd(t,i,a){var o=Ze;Ze|=2;var h=tv(),d=nv();(ht!==t||ze!==i)&&(Ac=null,lo(t,i)),i=!1;var v=Ct;e:do try{if(it!==0&&je!==null){var T=je,N=Hn;switch(it){case 8:Td(),v=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(i=!0);var z=it;if(it=0,Hn=null,uo(t,T,N,z),a&&so){v=0;break e}break;default:z=it,it=0,Hn=null,uo(t,T,N,z)}}vT(),v=Ct;break}catch(K){Wy(t,K)}while(!0);return i&&t.shellSuspendCounter++,dr=ra=null,Ze=o,Q.H=h,Q.A=d,je===null&&(ht=null,ze=0,Qu()),v}function vT(){for(;je!==null;)iv(je)}function _T(t,i){var a=Ze;Ze|=2;var o=tv(),h=nv();ht!==t||ze!==i?(Ac=null,Sc=Tt()+500,lo(t,i)):so=jn(t,i);e:do try{if(it!==0&&je!==null){i=je;var d=Hn;t:switch(it){case 1:it=0,Hn=null,uo(t,i,d,1);break;case 2:case 9:if(dg(d)){it=0,Hn=null,rv(i);break}i=function(){it!==2&&it!==9||ht!==t||(it=7),qi(t)},d.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:dg(d)?(it=0,Hn=null,rv(i)):(it=0,Hn=null,uo(t,i,d,7));break;case 5:var v=null;switch(je.tag){case 26:v=je.memoizedState;case 5:case 27:var T=je;if(v?Hv(v):T.stateNode.complete){it=0,Hn=null;var N=T.sibling;if(N!==null)je=N;else{var z=T.return;z!==null?(je=z,xc(z)):je=null}break t}}it=0,Hn=null,uo(t,i,d,5);break;case 6:it=0,Hn=null,uo(t,i,d,6);break;case 8:Td(),Ct=6;break e;default:throw Error(s(462))}}ET();break}catch(K){Wy(t,K)}while(!0);return dr=ra=null,Q.H=o,Q.A=h,Ze=a,je!==null?0:(ht=null,ze=0,Qu(),Ct)}function ET(){for(;je!==null&&!Go();)iv(je)}function iv(t){var i=xy(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,i===null?xc(t):je=i}function rv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ty(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=Ty(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:Uf(i);default:Iy(a,i),i=je=ng(i,Sr),i=xy(a,i,Sr)}t.memoizedProps=t.pendingProps,i===null?xc(t):je=i}function uo(t,i,a,o){dr=ra=null,Uf(i),Za=null,gl=0;var h=i.return;try{if(lT(t,h,i,a,ze)){Ct=1,mc(t,ei(a,t.current)),je=null;return}}catch(d){if(h!==null)throw je=h,d;Ct=1,mc(t,ei(a,t.current)),je=null;return}i.flags&32768?(Qe||o===1?t=!0:so||(ze&536870912)!==0?t=!1:(ss=t=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),sv(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){sv(i,ss);return}t=i.return;var a=hT(i.alternate,i,Sr);if(a!==null){je=a;return}if(i=i.sibling,i!==null){je=i;return}je=i=t}while(i!==null);Ct===0&&(Ct=5)}function sv(t,i){do{var a=fT(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);Ct=6,je=null}function av(t,i,a,o,h,d,v,T,N){t.cancelPendingCommit=null;do Cc();while(Jt!==0);if((Ze&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=cf,Qo(t,a,d,v,T,N),t===ht&&(je=ht=null,ze=0),oo=i,ls=t,Ar=a,vd=d,_d=h,Xy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,AT(Ci,function(){return hv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=re.p,re.p=2,v=Ze,Ze|=4;try{dT(t,i,a)}finally{Ze=v,re.p=h,Q.T=o}}Jt=1,ov(),lv(),uv()}}function ov(){if(Jt===1){Jt=0;var t=ls,i=oo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=re.p;re.p=2;var h=Ze;Ze|=4;try{By(i,t);var d=Vd,v=Kp(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Qp(T.ownerDocument.documentElement,T)){if(N!==null&&sf(T)){var z=N.start,K=N.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var $=T.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var F=B.getSelection(),me=T.textContent.length,Te=Math.min(N.start,me),ut=N.end===void 0?Te:Math.min(N.end,me);!F.extend&&Te>ut&&(v=ut,ut=Te,Te=v);var U=Gp(T,Te),j=Gp(T,ut);if(U&&j&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==j.node||F.focusOffset!==j.offset)){var k=$.createRange();k.setStart(U.node,U.offset),F.removeAllRanges(),Te>ut?(F.addRange(k),F.extend(j.node,j.offset)):(k.setEnd(j.node,j.offset),F.addRange(k))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}zc=!!Md,Vd=Md=null}finally{Ze=h,re.p=o,Q.T=a}}t.current=i,Jt=2}}function lv(){if(Jt===2){Jt=0;var t=ls,i=oo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=re.p;re.p=2;var h=Ze;Ze|=4;try{Py(t,i.alternate,i)}finally{Ze=h,re.p=o,Q.T=a}}Jt=3}}function uv(){if(Jt===4||Jt===3){Jt=0,zs();var t=ls,i=oo,a=Ar,o=Xy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Jt=5:(Jt=0,oo=ls=null,cv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(os=null),di(a),i=i.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(oe,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=Q.T,h=re.p,re.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<o.length;v++){var T=o[v];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,re.p=h}}(Ar&3)!==0&&Cc(),qi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ed?Ml++:(Ml=0,Ed=t):Ml=0,Vl(0)}}function cv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ml(i)))}function Cc(){return ov(),lv(),uv(),hv()}function hv(){if(Jt!==5)return!1;var t=ls,i=vd;vd=0;var a=di(Ar),o=Q.T,h=re.p;try{re.p=32>a?32:a,Q.T=null,a=_d,_d=null;var d=ls,v=Ar;if(Jt=0,oo=ls=null,Ar=0,(Ze&6)!==0)throw Error(s(331));var T=Ze;if(Ze|=4,Qy(d.current),Hy(d,d.current,v,a),Ze=T,Vl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(oe,d)}catch{}return!0}finally{re.p=h,Q.T=o,cv(t,i)}}function fv(t,i,a){i=ei(a,i),i=Zf(t.stateNode,i,2),t=ts(t,i,2),t!==null&&(sr(t,2),qi(t))}function rt(t,i,a){if(t.tag===3)fv(t,t,a);else for(;i!==null;){if(i.tag===3){fv(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(os===null||!os.has(o))){t=ei(a,t),a=dy(2),o=ts(i,a,2),o!==null&&(my(a,o,i,t),sr(o,2),qi(o));break}}i=i.return}}function Sd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new gT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(pd=!0,h.add(a),t=TT.bind(null,t,i,a),i.then(t,t))}function TT(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(ze&a)===a&&(Ct===4||Ct===3&&(ze&62914560)===ze&&300>Tt()-bc?(Ze&2)===0&&lo(t,0):gd|=a,ao===ze&&(ao=0)),qi(t)}function dv(t,i){i===0&&(i=Ia()),t=ta(t,i),t!==null&&(sr(t,i),qi(t))}function bT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),dv(t,a)}function ST(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),dv(t,a)}function AT(t,i){return Mt(t,i)}var Ic=null,co=null,Ad=!1,Nc=!1,wd=!1,cs=0;function qi(t){t!==co&&t.next===null&&(co===null?Ic=co=t:co=co.next=t),Nc=!0,Ad||(Ad=!0,RT())}function Vl(t,i){if(!wd&&Nc){wd=!0;do for(var a=!1,o=Ic;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,T=o.pingedLanes;d=(1<<31-bt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,yv(o,d))}else d=ze,d=Yn(o,o===ht?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||jn(o,d)||(a=!0,yv(o,d));o=o.next}while(a);wd=!1}}function wT(){mv()}function mv(){Nc=Ad=!1;var t=0;cs!==0&&PT()&&(t=cs);for(var i=Tt(),a=null,o=Ic;o!==null;){var h=o.next,d=pv(o,i);d===0?(o.next=null,a===null?Ic=h:a.next=h,h===null&&(co=a)):(a=o,(t!==0||(d&3)!==0)&&(Nc=!0)),o=h}Jt!==0&&Jt!==5||Vl(t),cs!==0&&(cs=0)}function pv(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-bt(d),T=1<<v,N=h[v];N===-1?((T&a)===0||(T&o)!==0)&&(h[v]=qs(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=ht,a=ze,a=Yn(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&fi(o),di(a)){case 2:case 8:a=xi;break;case 32:a=Ci;break;case 268435456:a=Ra;break;default:a=Ci}return o=gv.bind(null,t),a=Mt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&fi(o),t.callbackPriority=2,t.callbackNode=null,2}function gv(t,i){if(Jt!==0&&Jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Cc()&&t.callbackNode!==a)return null;var o=ze;return o=Yn(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Jy(t,o,i),pv(t,Tt()),t.callbackNode!=null&&t.callbackNode===a?gv.bind(null,t):null)}function yv(t,i){if(Cc())return null;Jy(t,i,!0)}function RT(){LT(function(){(Ze&6)!==0?Mt(Ur,wT):mv()})}function Rd(){if(cs===0){var t=Xa;t===0&&(t=Kn,Kn<<=1,(Kn&261888)===0&&(Kn=256)),cs=t}return cs}function vv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function _v(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function xT(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=vv((h[Vt]||null).action),v=o.submitter;v&&(i=(i=v[Vt]||null)?vv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new ji("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(cs!==0){var N=v?_v(h,v):new FormData(h);Qf(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=v?_v(h,v):new FormData(h),Qf(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var xd=0;xd<uf.length;xd++){var Cd=uf[xd],CT=Cd.toLowerCase(),IT=Cd[0].toUpperCase()+Cd.slice(1);_i(CT,"on"+IT)}_i($p,"onAnimationEnd"),_i(Jp,"onAnimationIteration"),_i(Zp,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(G1,"onTransitionRun"),_i(Q1,"onTransitionStart"),_i(K1,"onTransitionCancel"),_i(Wp,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Ev(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var T=o[v],N=T.instance,z=T.currentTarget;if(T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(K){Gu(K)}h.currentTarget=null,d=N}else for(v=0;v<o.length;v++){if(T=o[v],N=T.instance,z=T.currentTarget,T=T.listener,N!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=z;try{d(h)}catch(K){Gu(K)}h.currentTarget=null,d=N}}}}function Pe(t,i){var a=i[R];a===void 0&&(a=i[R]=new Set);var o=t+"__bubble";a.has(o)||(Tv(i,t,2,!1),a.add(o))}function Id(t,i,a){var o=0;i&&(o|=4),Tv(a,t,o,i)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function Nd(t){if(!t[Dc]){t[Dc]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(NT.has(a)||Id(a,!1,t),Id(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Dc]||(i[Dc]=!0,Id("selectionchange",!1,i))}}function Tv(t,i,a,o){switch($v(i)){case 2:var h=rb;break;case 8:h=sb;break;default:h=Gd}a=h.bind(null,i,a,t),h=void 0,!Ks||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Dd(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=_n(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){o=d=v;continue e}T=T.parentNode}}o=o.return}Gr(function(){var z=d,K=$n(a),$=[];e:{var B=eg.get(t);if(B!==void 0){var F=ji,me=t;switch(t){case"keypress":if(Xs(a)===0)break e;case"keydown":case"keyup":F=qu;break;case"focusin":me="focus",F=Js;break;case"focusout":me="blur",F=Js;break;case"beforeblur":case"afterblur":F=Js;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case $p:case Jp:case Zp:F=ju;break;case Wp:F=A;break;case"scroll":case"scrollend":F=sl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=cr;break;case"toggle":case"beforetoggle":F=Ne}var Te=(i&4)!==0,ut=!Te&&(t==="scroll"||t==="scrollend"),U=Te?B!==null?B+"Capture":null:B;Te=[];for(var j=z,k;j!==null;){var Y=j;if(k=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||k===null||U===null||(Y=pi(j,U),Y!=null&&Te.push(Pl(j,Y,k))),ut)break;j=j.return}0<Te.length&&(B=new F(B,me,null,a,K),$.push({event:B,listeners:Te}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==nl&&(me=a.relatedTarget||a.fromElement)&&(_n(me)||me[q]))break e;if((F||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,F?(me=a.relatedTarget||a.toElement,F=z,me=me?_n(me):null,me!==null&&(ut=c(me),Te=me.tag,me!==ut||Te!==5&&Te!==27&&Te!==6)&&(me=null)):(F=null,me=z),F!==me)){if(Te=al,Y="onMouseLeave",U="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(Te=cr,Y="onPointerLeave",U="onPointerEnter",j="pointer"),ut=F==null?B:Rt(F),k=me==null?B:Rt(me),B=new Te(Y,j+"leave",F,a,K),B.target=ut,B.relatedTarget=k,Y=null,_n(K)===z&&(Te=new Te(U,j+"enter",me,a,K),Te.target=k,Te.relatedTarget=ut,Y=Te),ut=Y,F&&me)t:{for(Te=DT,U=F,j=me,k=0,Y=U;Y;Y=Te(Y))k++;Y=0;for(var ve=j;ve;ve=Te(ve))Y++;for(;0<k-Y;)U=Te(U),k--;for(;0<Y-k;)j=Te(j),Y--;for(;k--;){if(U===j||j!==null&&U===j.alternate){Te=U;break t}U=Te(U),j=Te(j)}Te=null}else Te=null;F!==null&&bv($,B,F,Te,!1),me!==null&&ut!==null&&bv($,ut,me,Te,!0)}}e:{if(B=z?Rt(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Xe=kp;else if(Up(B))if(zp)Xe=q1;else{Xe=z1;var pe=k1}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ma(z.elementType)&&(Xe=kp):Xe=B1;if(Xe&&(Xe=Xe(t,z))){Lp($,Xe,a,K);break e}pe&&pe(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Wo(B,"number",B.value)}switch(pe=z?Rt(z):window,t){case"focusin":(Up(pe)||pe.contentEditable==="true")&&(Ba=pe,af=z,hl=null);break;case"focusout":hl=af=Ba=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,Yp($,a,K);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":Yp($,a,K)}var Oe;if(Je)e:{switch(t){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else za?Zs(t,a)&&(Be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Li&&a.locale!=="ko"&&(za||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&za&&(Oe=rl()):(Vi=K,il="value"in Vi?Vi.value:Vi.textContent,za=!0)),pe=Oc(z,Be),0<pe.length&&(Be=new Ui(Be,t,null,a,K),$.push({event:Be,listeners:pe}),Oe?Be.data=Oe:(Oe=ka(a),Oe!==null&&(Be.data=Oe)))),(Oe=Zn?j1(t,a):P1(t,a))&&(Be=Oc(z,"onBeforeInput"),0<Be.length&&(pe=new Ui("onBeforeInput","beforeinput",null,a,K),$.push({event:pe,listeners:Be}),pe.data=Oe)),xT($,t,z,a,K)}Ev($,i)})}function Pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Oc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=pi(t,a),h!=null&&o.unshift(Pl(t,h,d)),h=pi(t,i),h!=null&&o.push(Pl(t,h,d))),t.tag===3)return o;t=t.return}return[]}function DT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bv(t,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var T=a,N=T.alternate,z=T.stateNode;if(T=T.tag,N!==null&&N===o)break;T!==5&&T!==26&&T!==27||z===null||(N=z,h?(z=pi(a,d),z!=null&&v.unshift(Pl(a,z,N))):h||(z=pi(a,d),z!=null&&v.push(Pl(a,z,N)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var OT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function Sv(t){return(typeof t=="string"?t:""+t).replace(OT,`
`).replace(MT,"")}function Av(t,i){return i=Sv(i),Sv(t)===i}function lt(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||wn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&wn(t,""+o);break;case"className":Ln(t,"class",o);break;case"tabIndex":Ln(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(t,a,o);break;case"style":tl(t,o,d);break;case"data":if(i!=="object"){Ln(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Va(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&lt(t,i,"name",h.name,h,null),lt(t,i,"formEncType",h.formEncType,h,null),lt(t,i,"formMethod",h.formMethod,h,null),lt(t,i,"formTarget",h.formTarget,h,null)):(lt(t,i,"encType",h.encType,h,null),lt(t,i,"method",h.method,h,null),lt(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Va(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=mi);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Va(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Da(t,"popover",o);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Da(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ou.get(a)||a,Da(t,a,o))}}function Od(t,i,a,o,h,d){switch(a){case"style":tl(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?wn(t,o):(typeof o=="number"||typeof o=="bigint")&&wn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Vt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Da(t,a,o)}}}function un(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:lt(t,i,d,v,a,null)}}h&&lt(t,i,"srcSet",a.srcSet,a,null),o&&lt(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=d=v=h=null,N=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":v=K;break;case"checked":N=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:lt(t,i,o,K,a,null)}}Iu(t,d,T,N,z,v,h,!1);return;case"select":Pe("invalid",t),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:lt(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!o,i!=null?Br(t,!!o,i,!1):a!=null&&Br(t,!!o,a,!0);return;case"textarea":Pe("invalid",t),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:lt(t,i,v,T,a,null)}qr(t,o,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(o=a[N],o!=null))switch(N){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:lt(t,i,N,o,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<jl.length;o++)Pe(jl[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:lt(t,i,z,o,a,null)}return;default:if(Ma(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&Od(t,i,K,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&lt(t,i,T,o,a,null))}function VT(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,N=null,z=null,K=null;for(F in a){var $=a[F];if(a.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=$;default:o.hasOwnProperty(F)||lt(t,i,F,null,o,$)}}for(var B in o){var F=o[B];if($=a[B],o.hasOwnProperty(B)&&(F!=null||$!=null))switch(B){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":K=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==$&&lt(t,i,B,F,o,$)}}Oa(t,v,T,N,z,K,d,h);return;case"select":F=v=T=B=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:o.hasOwnProperty(d)||lt(t,i,d,null,o,N)}for(h in o)if(d=o[h],N=a[h],o.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":B=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==N&&lt(t,i,h,d,o,N)}i=T,a=v,o=F,B!=null?Br(t,!!a,B,!1):!!o!=!!a&&(i!=null?Br(t,!!a,i,!0):Br(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:lt(t,i,T,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&lt(t,i,v,h,o,d)}Nu(t,B,F);return;case"option":for(var me in a)if(B=a[me],a.hasOwnProperty(me)&&B!=null&&!o.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:lt(t,i,me,null,o,B)}for(N in o)if(B=o[N],F=a[N],o.hasOwnProperty(N)&&B!==F&&(B!=null||F!=null))switch(N){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:lt(t,i,N,B,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)B=a[Te],a.hasOwnProperty(Te)&&B!=null&&!o.hasOwnProperty(Te)&&lt(t,i,Te,null,o,B);for(z in o)if(B=o[z],F=a[z],o.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:lt(t,i,z,B,o,F)}return;default:if(Ma(i)){for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!==void 0&&!o.hasOwnProperty(ut)&&Od(t,i,ut,void 0,o,B);for(K in o)B=o[K],F=a[K],!o.hasOwnProperty(K)||B===F||B===void 0&&F===void 0||Od(t,i,K,B,o,F);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&lt(t,i,U,null,o,B);for($ in o)B=o[$],F=a[$],!o.hasOwnProperty($)||B===F||B==null&&F==null||lt(t,i,$,B,o,F)}function wv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function jT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,v=h.initiatorType,T=h.duration;if(d&&T&&wv(v)){for(v=0,T=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],z=N.startTime;if(z>T)break;var K=N.transferSize,$=N.initiatorType;K&&wv($)&&(N=N.responseEnd,v+=K*(N<T?1:(T-z)/(N-z)))}if(--o,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Md=null,Vd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function Rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function jd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pd=null;function PT(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var Cv=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,Iv=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof Iv<"u"?function(t){return Iv.resolve(null).then(t).catch(kT)}:Cv;function kT(t){setTimeout(function(){throw t})}function hs(t){return t==="head"}function Nv(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),po(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Ul(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ul(a);for(var d=a.firstChild;d;){var v=d.nextSibling,T=d.nodeName;d[ke]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ul(t.ownerDocument.body);a=h}while(a);po(i)}function Dv(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Ud(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ud(a),rn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zT(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ke])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=si(t.nextSibling),t===null)break}return null}function BT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=si(t.nextSibling),t===null))return null;return t}function Ov(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=si(t.nextSibling),t===null))return null;return t}function Ld(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qT(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function si(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var zd=null;function Mv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return si(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Vv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function jv(t,i,a){switch(i=Mc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);rn(t)}var ai=new Map,Pv=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wr=re.d;re.d={f:HT,r:FT,D:GT,C:QT,L:KT,m:YT,X:$T,S:XT,M:JT};function HT(){var t=wr.f(),i=wc();return t||i}function FT(t){var i=En(t);i!==null&&i.tag===5&&i.type==="form"?Wg(i):wr.r(t)}var ho=typeof document>"u"?null:document;function Uv(t,i,a){var o=ho;if(o&&typeof i=="string"&&i){var h=An(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Pv.has(h)||(Pv.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),un(i,"link",t),jt(i),o.head.appendChild(i)))}}function GT(t){wr.D(t),Uv("dns-prefetch",t,null)}function QT(t,i){wr.C(t,i),Uv("preconnect",t,i)}function KT(t,i,a){wr.L(t,i,a);var o=ho;if(o&&t&&i){var h='link[rel="preload"][as="'+An(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+An(a.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var d=h;switch(i){case"style":d=fo(t);break;case"script":d=mo(t)}ai.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ai.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(Ll(d))||i==="script"&&o.querySelector(kl(d))||(i=o.createElement("link"),un(i,"link",t),jt(i),o.head.appendChild(i)))}}function YT(t,i){wr.m(t,i);var a=ho;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+An(o)+'"][href="'+An(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=mo(t)}if(!ai.has(d)&&(t=w({rel:"modulepreload",href:t},i),ai.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}o=a.createElement("link"),un(o,"link",t),jt(o),a.head.appendChild(o)}}}function XT(t,i,a){wr.S(t,i,a);var o=ho;if(o&&t){var h=At(o).hoistableStyles,d=fo(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(Ll(d)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ai.get(d))&&Bd(t,a);var N=v=o.createElement("link");jt(N),un(N,"link",t),N._p=new Promise(function(z,K){N.onload=z,N.onerror=K}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function $T(t,i){wr.X(t,i);var a=ho;if(a&&t){var o=At(a).hoistableScripts,h=mo(t),d=o.get(h);d||(d=a.querySelector(kl(h)),d||(t=w({src:t,async:!0},i),(i=ai.get(h))&&qd(t,i),d=a.createElement("script"),jt(d),un(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function JT(t,i){wr.M(t,i);var a=ho;if(a&&t){var o=At(a).hoistableScripts,h=mo(t),d=o.get(h);d||(d=a.querySelector(kl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=ai.get(h))&&qd(t,i),d=a.createElement("script"),jt(d),un(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Lv(t,i,a,o){var h=(h=Re.current)?Vc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=fo(a.href),a=At(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=fo(a.href);var d=At(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ll(t)))&&!d._p&&(v.instance=d,v.state.loading=5),ai.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ai.set(t,a),d||ZT(h,t,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(a),a=At(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function fo(t){return'href="'+An(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function kv(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function ZT(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),un(i,"link",a),jt(i),t.head.appendChild(i))}function mo(t){return'[src="'+An(t)+'"]'}function kl(t){return"script[async]"+t}function zv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+An(a.href)+'"]');if(o)return i.instance=o,jt(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),jt(o),un(o,"style",h),jc(o,a.precedence,t),i.instance=o;case"stylesheet":h=fo(a.href);var d=t.querySelector(Ll(h));if(d)return i.state.loading|=4,i.instance=d,jt(d),d;o=kv(a),(h=ai.get(h))&&Bd(o,h),d=(t.ownerDocument||t).createElement("link"),jt(d);var v=d;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),un(d,"link",o),i.state.loading|=4,jc(d,a.precedence,t),i.instance=d;case"script":return d=mo(a.src),(h=t.querySelector(kl(d)))?(i.instance=h,jt(h),h):(o=a,(h=ai.get(d))&&(o=w({},a),qd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),jt(h),un(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,jc(o,a.precedence,t));return i.instance}function jc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pc=null;function Bv(t,i,a){if(Pc===null){var o=new Map,h=Pc=new Map;h.set(a,o)}else h=Pc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ke]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=o.get(v);T?T.push(d):o.set(v,[d])}}return o}function qv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function WT(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function eb(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=fo(o.href),d=i.querySelector(Ll(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,jt(d);return}d=i.ownerDocument||i,o=kv(o),(h=ai.get(h))&&Bd(o,h),d=d.createElement("link"),jt(d);var v=d;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),un(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Hd=0;function tb(t,i){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Hd===0&&(Hd=62500*jT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Hd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,i.forEach(nb,t),Lc=null,Uc.call(t))}function nb(t,i){if(!(i.state.loading&4)){var a=Lc.get(t);if(a)var o=a.get(null);else{a=new Map,Lc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=Uc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var zl={$$typeof:de,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function ib(t,i,a,o,h,d,v,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xn(0),this.hiddenUpdates=Xn(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Fv(t,i,a,o,h,d,v,T,N,z,K,$){return t=new ib(t,i,a,v,N,z,K,$,T),i=1,d===!0&&(i|=24),d=zn(3,null,null,i),t.current=d,d.stateNode=t,i=bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Rf(d),t}function Gv(t){return t?(t=Fa,t):Fa}function Qv(t,i,a,o,h,d){h=Gv(h),o.context===null?o.context=h:o.pendingContext=h,o=es(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=ts(t,o,i),a!==null&&(Nn(a,t,i),vl(a,t,i))}function Kv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Fd(t,i){Kv(t,i),(t=t.alternate)&&Kv(t,i)}function Yv(t){if(t.tag===13||t.tag===31){var i=ta(t,67108864);i!==null&&Nn(i,t,67108864),Fd(t,67108864)}}function Xv(t){if(t.tag===13||t.tag===31){var i=Gn();i=or(i);var a=ta(t,i);a!==null&&Nn(a,t,i),Fd(t,i)}}var zc=!0;function rb(t,i,a,o){var h=Q.T;Q.T=null;var d=re.p;try{re.p=2,Gd(t,i,a,o)}finally{re.p=d,Q.T=h}}function sb(t,i,a,o){var h=Q.T;Q.T=null;var d=re.p;try{re.p=8,Gd(t,i,a,o)}finally{re.p=d,Q.T=h}}function Gd(t,i,a,o){if(zc){var h=Qd(o);if(h===null)Dd(t,i,o,Bc,a),Jv(t,o);else if(ob(h,t,i,a,o))o.stopPropagation();else if(Jv(t,o),i&4&&-1<ab.indexOf(t)){for(;h!==null;){var d=En(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-bt(v);T.entanglements[1]|=N,v&=~N}qi(d),(Ze&6)===0&&(Sc=Tt()+500,Vl(0))}}break;case 31:case 13:T=ta(d,2),T!==null&&Nn(T,d,2),wc(),Fd(d,2)}if(d=Qd(o),d===null&&Dd(t,i,o,Bc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Dd(t,i,o,null,a)}}function Qd(t){return t=$n(t),Kd(t)}var Bc=null;function Kd(t){if(Bc=null,t=_n(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=g(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function $v(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ri()){case Ur:return 2;case xi:return 8;case Ci:case Bs:return 32;case Ra:return 268435456;default:return 32}default:return 32}}var Yd=!1,fs=null,ds=null,ms=null,Bl=new Map,ql=new Map,ps=[],ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jv(t,i){switch(t){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Bl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(i.pointerId)}}function Hl(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=En(i),i!==null&&Yv(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function ob(t,i,a,o,h){switch(i){case"focusin":return fs=Hl(fs,t,i,a,o,h),!0;case"dragenter":return ds=Hl(ds,t,i,a,o,h),!0;case"mouseover":return ms=Hl(ms,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Bl.set(d,Hl(Bl.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,ql.set(d,Hl(ql.get(d)||null,t,i,a,o,h)),!0}return!1}function Zv(t){var i=_n(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Pn(t.priority,function(){Xv(a)});return}}else if(i===31){if(i=g(a),i!==null){t.blockedOn=i,Pn(t.priority,function(){Xv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);nl=o,a.target.dispatchEvent(o),nl=null}else return i=En(a),i!==null&&Yv(i),t.blockedOn=a,!1;i.shift()}return!0}function Wv(t,i,a){qc(t)&&a.delete(i)}function lb(){Yd=!1,fs!==null&&qc(fs)&&(fs=null),ds!==null&&qc(ds)&&(ds=null),ms!==null&&qc(ms)&&(ms=null),Bl.forEach(Wv),ql.forEach(Wv)}function Hc(t,i){t.blockedOn===i&&(t.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lb)))}var Fc=null;function e_(t){Fc!==t&&(Fc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Kd(o||a)===null)continue;break}var d=En(a);d!==null&&(t.splice(i,3),i-=3,Qf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function po(t){function i(N){return Hc(N,t)}fs!==null&&Hc(fs,t),ds!==null&&Hc(ds,t),ms!==null&&Hc(ms,t),Bl.forEach(i),ql.forEach(i);for(var a=0;a<ps.length;a++){var o=ps[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ps.length&&(a=ps[0],a.blockedOn===null);)Zv(a),a.blockedOn===null&&ps.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[Vt]||null;if(typeof d=="function")v||e_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Vt]||null)T=v.formAction;else if(Kd(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),e_(a)}}}function t_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Xd(t){this._internalRoot=t}Gc.prototype.render=Xd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Gn();Qv(a,o,t,i,null,null)},Gc.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Qv(t.current,2,null,t,null,null),wc(),i[q]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Na();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ps.length&&i!==0&&i<ps[a].priority;a++);ps.splice(a,0,t),a===0&&Zv(t)}};var n_=e.version;if(n_!=="19.2.3")throw Error(s(527,n_,"19.2.3"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(i),t=t!==null?S(t):null,t=t===null?null:t.stateNode,t};var ub={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{oe=Qc.inject(ub),$t=Qc}catch{}}return Gl.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=uy,d=cy,v=hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=Fv(t,1,!1,null,null,a,o,null,h,d,v,t_),t[q]=i.current,Nd(t),new Xd(i)},Gl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=uy,v=cy,T=hy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Fv(t,1,!0,i,a??null,o,h,N,d,v,T,t_),i.context=Gv(null),a=i.current,o=Gn(),o=or(o),h=es(o),h.callback=null,ts(a,h,o),a=o,i.current.lanes=a,sr(i,a),qi(i),t[q]=i.current,Nd(t),new Gc(i)},Gl.version="19.2.3",Gl}var f_;function _b(){if(f_)return Zd.exports;f_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zd.exports=vb(),Zd.exports}var Eb=_b();/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),X0=(...r)=>r.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=be.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:f,...g},y)=>be.createElement("svg",{ref:y,...bb,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:X0("lucide",l),...g},[...f.map(([_,S])=>be.createElement(_,S)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=(r,e)=>{const n=be.forwardRef(({className:s,...l},c)=>be.createElement(Sb,{ref:c,iconNode:e,className:X0(`lucide-${Tb(r)}`,s),...l}));return n.displayName=`${r}`,n};/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=Mr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=Mr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Mr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=Mr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=Mr("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=Mr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Mr("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=Mr("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=Mr("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ib=()=>{};var d_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Nb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],y=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return e.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,S=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|_>>6,G=_&63;y||(G=64,f||(M=64)),s.push(n[S],n[w],n[M],n[G])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(W0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Nb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const w=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||w==null)throw new Db;const M=c<<2|g>>4;if(s.push(M),_!==64){const G=g<<4&240|_>>2;if(s.push(G),w!==64){const W=_<<6&192|w;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Db extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ob=function(r){const e=W0(r);return eE.encodeByteArray(e,!0)},dh=function(r){return Ob(r).replace(/\./g,"")},tE=function(r){try{return eE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=()=>Mb().__FIREBASE_DEFAULTS__,jb=()=>{if(typeof process>"u"||typeof d_>"u")return;const r=d_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Pb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&tE(r[1]);return e&&JSON.parse(e)},jh=()=>{try{return Ib()||Vb()||jb()||Pb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},nE=r=>{var e,n;return(n=(e=jh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},Ub=r=>{const e=nE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},iE=()=>{var r;return(r=jh())==null?void 0:r.config},rE=r=>{var e;return(e=jh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[dh(JSON.stringify(n)),dh(JSON.stringify(f)),""].join(".")}const eu={};function zb(){const r={prod:[],emulator:[]};for(const e of Object.keys(eu))eu[e]?r.emulator.push(e):r.prod.push(e);return r}function Bb(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let m_=!1;function aE(r,e){if(typeof window>"u"||typeof document>"u"||!Uo(window.location.host)||eu[r]===e||eu[r]||m_)return;eu[r]=e;function n(M){return`__firebase__banner__${M}`}const s="__firebase__banner",c=zb().prod.length>0;function f(){const M=document.getElementById(s);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{m_=!0,f()},M}function S(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=Bb(s),G=n("text"),W=document.getElementById(G)||document.createElement("span"),ne=n("learnmore"),ee=document.getElementById(ne)||document.createElement("a"),te=n("preprendIcon"),Ee=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const de=M.element;g(de),S(ee,ne);const Ue=_();y(Ee,te),de.append(Ee,W,ee,Ue),document.body.appendChild(de)}c?(W.innerText="Preview backend disconnected.",Ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function Hb(){var e;const r=(e=jh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Fb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Gb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Qb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kb(){const r=yn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Yb(){return!Hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xb(){try{return typeof indexedDB=="object"}catch{return!1}}function $b(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;e(((c=l.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="FirebaseError";class Vr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Jb,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],f=c?Zb(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Vr(l,g,s)}}function Zb(r,e){return r.replace(Wb,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const Wb=/\{\$([^}]+)}/g;function eS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function va(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=e[l];if(p_(c)&&p_(f)){if(!va(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function p_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Yl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function tS(r,e){const n=new nS(r,e);return n.subscribe.bind(n)}class nS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");iS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=nm),l.error===void 0&&(l.error=nm),l.complete===void 0&&(l.complete=nm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(r){return r&&r._delegate?r._delegate:r}class _a{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Lb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aS(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(r){return r===ma?void 0:r}function aS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const lS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},uS=qe.INFO,cS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},hS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=cS[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qm{constructor(e){this.name=e,this._logLevel=uS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const fS=(r,e)=>e.some(n=>r instanceof n);let g_,y_;function dS(){return g_||(g_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mS(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,ym=new WeakMap,lE=new WeakMap,im=new WeakMap,Km=new WeakMap;function pS(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(As(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&oE.set(n,r)}).catch(()=>{}),Km.set(e,r),e}function gS(r){if(ym.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});ym.set(r,e)}let vm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||lE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return As(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yS(r){vm=r(vm)}function vS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(rm(this),e,...n);return lE.set(s,e.sort?e.sort():[e]),As(s)}:mS().includes(r)?function(...e){return r.apply(rm(this),e),As(oE.get(this))}:function(...e){return As(r.apply(rm(this),e))}}function _S(r){return typeof r=="function"?vS(r):(r instanceof IDBTransaction&&gS(r),fS(r,dS())?new Proxy(r,vm):r)}function As(r){if(r instanceof IDBRequest)return pS(r);if(im.has(r))return im.get(r);const e=_S(r);return e!==r&&(im.set(r,e),Km.set(e,r)),e}const rm=r=>Km.get(r);function ES(r,e,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,e),g=As(f);return s&&f.addEventListener("upgradeneeded",y=>{s(As(f.result),y.oldVersion,y.newVersion,As(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const TS=["get","getKey","getAll","getAllKeys","count"],bS=["put","add","delete","clear"],sm=new Map;function v_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=bS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||TS.includes(n)))return;const c=async function(f,...g){const y=this.transaction(f,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&y.done]))[0]};return sm.set(e,c),c}yS(r=>({...r,get:(e,n,s)=>v_(e,n)||r.get(e,n,s),has:(e,n)=>!!v_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function AS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _m="@firebase/app",__="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=new Qm("@firebase/app"),wS="@firebase/app-compat",RS="@firebase/analytics-compat",xS="@firebase/analytics",CS="@firebase/app-check-compat",IS="@firebase/app-check",NS="@firebase/auth",DS="@firebase/auth-compat",OS="@firebase/database",MS="@firebase/data-connect",VS="@firebase/database-compat",jS="@firebase/functions",PS="@firebase/functions-compat",US="@firebase/installations",LS="@firebase/installations-compat",kS="@firebase/messaging",zS="@firebase/messaging-compat",BS="@firebase/performance",qS="@firebase/performance-compat",HS="@firebase/remote-config",FS="@firebase/remote-config-compat",GS="@firebase/storage",QS="@firebase/storage-compat",KS="@firebase/firestore",YS="@firebase/ai",XS="@firebase/firestore-compat",$S="firebase",JS="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",ZS={[_m]:"fire-core",[wS]:"fire-core-compat",[xS]:"fire-analytics",[RS]:"fire-analytics-compat",[IS]:"fire-app-check",[CS]:"fire-app-check-compat",[NS]:"fire-auth",[DS]:"fire-auth-compat",[OS]:"fire-rtdb",[MS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[jS]:"fire-fn",[PS]:"fire-fn-compat",[US]:"fire-iid",[LS]:"fire-iid-compat",[kS]:"fire-fcm",[zS]:"fire-fcm-compat",[BS]:"fire-perf",[qS]:"fire-perf-compat",[HS]:"fire-rc",[FS]:"fire-rc-compat",[GS]:"fire-gcs",[QS]:"fire-gcs-compat",[KS]:"fire-fst",[XS]:"fire-fst-compat",[YS]:"fire-vertex","fire-js":"fire-js",[$S]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,WS=new Map,Tm=new Map;function E_(r,e){try{r.container.addComponent(e)}catch(n){Ir.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Co(r){const e=r.name;if(Tm.has(e))return Ir.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,r);for(const n of mh.values())E_(n,r);for(const n of WS.values())E_(n,r);return!0}function Ym(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function li(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new pu("app","Firebase",eA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=JS;function uE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Em,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw ws.create("bad-app-name",{appName:String(l)});if(n||(n=iE()),!n)throw ws.create("no-options");const c=mh.get(l);if(c){if(va(n,c.options)&&va(s,c.config))return c;throw ws.create("duplicate-app",{appName:l})}const f=new oS(l);for(const y of Tm.values())f.addComponent(y);const g=new tA(n,s,f);return mh.set(l,g),g}function cE(r=Em){const e=mh.get(r);if(!e&&r===Em&&iE())return uE();if(!e)throw ws.create("no-app",{appName:r});return e}function Rs(r,e,n){let s=ZS[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ir.warn(f.join(" "));return}Co(new _a(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebase-heartbeat-database",iA=1,au="firebase-heartbeat-store";let am=null;function hE(){return am||(am=ES(nA,iA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(r=>{throw ws.create("idb-open",{originalErrorMessage:r.message})})),am}async function rA(r){try{const n=(await hE()).transaction(au),s=await n.objectStore(au).get(fE(r));return await n.done,s}catch(e){if(e instanceof Vr)Ir.warn(e.message);else{const n=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ir.warn(n.message)}}}async function T_(r,e){try{const s=(await hE()).transaction(au,"readwrite");await s.objectStore(au).put(e,fE(r)),await s.done}catch(n){if(n instanceof Vr)Ir.warn(n.message);else{const s=ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ir.warn(s.message)}}}function fE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=1024,aA=30;class oA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uA(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=b_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>aA){const f=cA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ir.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b_(),{heartbeatsToSend:s,unsentEntries:l}=lA(this._heartbeatsCache.heartbeats),c=dh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Ir.warn(n),""}}}function b_(){return new Date().toISOString().substring(0,10)}function lA(r,e=sA){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),S_(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),S_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xb()?$b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return T_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S_(r){return dh(JSON.stringify({version:2,heartbeats:r})).length}function cA(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(r){Co(new _a("platform-logger",e=>new SS(e),"PRIVATE")),Co(new _a("heartbeat",e=>new oA(e),"PRIVATE")),Rs(_m,__,r),Rs(_m,__,"esm2020"),Rs("fire-js","")}hA("");var fA="firebase",dA="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs(fA,dA,"app");function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mA=dE,mE=new pu("auth","Firebase",dE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Qm("@firebase/auth");function pA(r,...e){ph.logLevel<=qe.WARN&&ph.warn(`Auth (${Lo}): ${r}`,...e)}function ih(r,...e){ph.logLevel<=qe.ERROR&&ph.error(`Auth (${Lo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(r,...e){throw Xm(r,...e)}function Qi(r,...e){return Xm(r,...e)}function pE(r,e,n){const s={...mA(),[e]:n};return new pu("auth","Firebase",s).create(e,{appName:r.name})}function Cr(r){return pE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return mE.create(r,...e)}function Ae(r,e,...n){if(!r)throw Xm(e,...n)}function Rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ih(e),new Error(e)}function Nr(r,e){r||Rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function gA(){return A_()==="http:"||A_()==="https:"}function A_(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gA()||Gb()||"connection"in navigator)?navigator.onLine:!0}function vA(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Nr(n>e,"Short delay should be less than long delay!"),this.isMobile=qb()||Qb()}get(){return yA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,e){Nr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TA=new yu(3e4,6e4);function jr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function tr(r,e,n,s,l={}){return yE(r,l,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const g=gu({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:e,headers:y,...c};return Fb()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Uo(r.emulatorConfig.host)&&(_.credentials="include"),gE.fetch()(await vE(r,r.config.apiHost,n,g),_)})}async function yE(r,e,n){r._canInitEmulator=!1;const s={..._A,...e};try{const l=new SA(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Kc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Kc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw Kc(r,"user-disabled",f);const S=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw pE(r,S,_);Ai(r,S)}}catch(l){if(l instanceof Vr)throw l;Ai(r,"network-request-failed",{message:String(l)})}}async function vu(r,e,n,s,l={}){const c=await tr(r,e,n,s,l);return"mfaPendingCredential"in c&&Ai(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function vE(r,e,n,s){const l=`${e}${n}?${s}`,c=r,f=c.config.emulator?$m(r.config,l):`${r.config.apiScheme}://${l}`;return EA.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function bA(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qi(this.auth,"network-request-failed")),TA.get())})}}function Kc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Qi(r,e,s);return l.customData._tokenResponse=n,l}function w_(r){return r!==void 0&&r.enterprise!==void 0}class AA{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return bA(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wA(r,e){return tr(r,"GET","/v2/recaptchaConfig",jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RA(r,e){return tr(r,"POST","/v1/accounts:delete",e)}async function gh(r,e){return tr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xA(r,e=!1){const n=zt(r),s=await n.getIdToken(e),l=Jm(s);Ae(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:tu(om(l.auth_time)),issuedAtTime:tu(om(l.iat)),expirationTime:tu(om(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function om(r){return Number(r)*1e3}function Jm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const l=tE(n);return l?JSON.parse(l):(ih("Failed to decode base64 JWT payload"),null)}catch(l){return ih("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function R_(r){const e=Jm(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vr&&CA(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function CA({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(r){var w;const e=r.auth,n=await r.getIdToken(),s=await Io(r,gh(e,{idToken:n}));Ae(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=(w=l.providerUserInfo)!=null&&w.length?_E(l.providerUserInfo):[],f=DA(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),_=g?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function NA(r){const e=zt(r);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DA(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function _E(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(r,e){const n=await yE(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await vE(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&Uo(r.emulatorConfig.host)&&(y.credentials="include"),gE.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MA(r,e){return tr(r,"POST","/v2/accounts:revokeToken",jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=R_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await OA(e,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new bo;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(Ae(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),c&&(Ae(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new IA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Io(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xA(this,e)}reload(){return NA(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Cr(this.auth));const e=await this.getIdToken();return await Io(this,RA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,S=n.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:W,stsTokenManager:ne}=n;Ae(w&&ne,e,"internal-error");const ee=bo.fromJSON(this.name,ne);Ae(typeof w=="string",e,"internal-error"),ys(s,e.name),ys(l,e.name),Ae(typeof M=="boolean",e,"internal-error"),Ae(typeof G=="boolean",e,"internal-error"),ys(c,e.name),ys(f,e.name),ys(g,e.name),ys(y,e.name),ys(_,e.name),ys(S,e.name);const te=new Si({uid:w,auth:e,email:l,emailVerified:M,displayName:s,isAnonymous:G,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:ee,createdAt:_,lastLoginAt:S});return W&&Array.isArray(W)&&(te.providerData=W.map(Ee=>({...Ee}))),y&&(te._redirectEventId=y),te}static async _fromIdTokenResponse(e,n,s=!1){const l=new bo;l.updateFromServerResponse(n);const c=new Si({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await yh(c),c}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Ae(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?_E(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new bo;g.updateFromIdToken(s);const y=new Si({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;function xr(r){Nr(r instanceof Function,"Expected a class definition");let e=x_.get(r);return e?(Nr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,x_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EE.type="NONE";const C_=EE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(r,e,n){return`firebase:${r}:${e}:${n}`}class So{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=rh(this.userKey,l.apiKey,c),this.fullPersistenceKey=rh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new So(xr(C_),e,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||xr(C_);const f=rh(s,e.config.apiKey,e.name);let g=null;for(const _ of n)try{const S=await _._get(f);if(S){let w;if(typeof S=="string"){const M=await gh(e,{idToken:S}).catch(()=>{});if(!M)break;w=await Si._fromGetAccountInfoResponse(e,M,S)}else w=Si._fromJSON(e,S);_!==c&&(g=w),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new So(c,e,s):(c=y[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new So(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RE(e))return"Blackberry";if(xE(e))return"Webos";if(bE(e))return"Safari";if((e.includes("chrome/")||SE(e))&&!e.includes("edge/"))return"Chrome";if(wE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function TE(r=yn()){return/firefox\//i.test(r)}function bE(r=yn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SE(r=yn()){return/crios\//i.test(r)}function AE(r=yn()){return/iemobile/i.test(r)}function wE(r=yn()){return/android/i.test(r)}function RE(r=yn()){return/blackberry/i.test(r)}function xE(r=yn()){return/webos/i.test(r)}function Zm(r=yn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function VA(r=yn()){var e;return Zm(r)&&!!((e=window.navigator)!=null&&e.standalone)}function jA(){return Kb()&&document.documentMode===10}function CE(r=yn()){return Zm(r)||wE(r)||xE(r)||RE(r)||/windows phone/i.test(r)||AE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(r,e=[]){let n;switch(r){case"Browser":n=I_(yn());break;case"Worker":n=`${I_(yn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((f,g)=>{try{const y=e(c);f(y)}catch(y){g(y)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UA(r,e={}){return tr(r,"GET","/v2/passwordPolicy",jr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=6;class kA{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??LA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new N_(this),this.idTokenSubscription=new N_(this),this.beforeStateQueue=new PA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),s=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(li(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(c=this.redirectUser)==null?void 0:c._redirectEventId,g=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!f||f===g)&&(y!=null&&y.user)&&(s=y.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(Cr(this));const n=e?zt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(Cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UA(this),n=new kA(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await MA(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,l);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&pA(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Us(r){return zt(r)}class N_{constructor(e){this.auth=e,this.observer=null,this.addObserver=tS(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BA(r){Ph=r}function NE(r){return Ph.loadJS(r)}function qA(){return Ph.recaptchaEnterpriseScript}function HA(){return Ph.gapiScript}function FA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class GA{constructor(){this.enterprise=new QA}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QA{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const KA="recaptcha-enterprise",DE="NO_RECAPTCHA";class YA{constructor(e){this.type=KA,this.auth=Us(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{wA(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new AA(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(y=>{g(y)})})}function l(c,f,g){const y=window.grecaptcha;w_(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{f(_)}).catch(()=>{f(DE)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GA().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(g=>{if(!n&&w_(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=qA();y.length!==0&&(y+=g),NE(y).then(()=>{l(g,c,f)}).catch(_=>{f(_)})}}).catch(g=>{f(g)})})}}async function D_(r,e,n,s=!1,l=!1){const c=new YA(r);let f;if(l)f=DE;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function vh(r,e,n,s,l){var c;if((c=r._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await D_(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await D_(r,e,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(r,e){const n=Ym(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(va(c,e??{}))return l;Ai(l,"already-initialized")}return n.initialize({options:e})}function $A(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(xr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function JA(r,e,n){const s=Us(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,c=OE(e),{host:f,port:g}=ZA(e),y=g===null?"":`:${g}`,_={url:`${c}//${f}${y}/`},S=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(va(_,s.config.emulator)&&va(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,Uo(f)?(sE(`${c}//${f}${y}`),aE("Auth",!0)):WA()}function OE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ZA(r){const e=OE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:O_(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:O_(f)}}}function O_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function WA(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rr("not implemented")}_getIdTokenResponse(e){return Rr("not implemented")}_linkToIdToken(e,n){return Rr("not implemented")}_getReauthenticationResolver(e){return Rr("not implemented")}}async function ew(r,e){return tr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(r,e){return vu(r,"POST","/v1/accounts:signInWithPassword",jr(r,e))}async function ME(r,e){return tr(r,"POST","/v1/accounts:sendOobCode",jr(r,e))}async function nw(r,e){return ME(r,e)}async function iw(r,e){return ME(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",jr(r,e))}async function sw(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Wm{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ou(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vh(e,n,"signInWithPassword",tw);case"emailLink":return rw(e,{email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vh(e,s,"signUpPassword",ew);case"emailLink":return sw(e,{idToken:n,email:this._email,oobCode:this._password});default:Ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(r,e){return vu(r,"POST","/v1/accounts:signInWithIdp",jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="http://localhost";class Ea extends Wm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...c}=n;if(!s||!l)return null;const f=new Ea(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ao(e,n)}buildRequest(){const e={requestUri:aw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lw(r){const e=Kl(Yl(r)).link,n=e?Kl(Yl(e)).deep_link_id:null,s=Kl(Yl(r)).deep_link_id;return(s?Kl(Yl(s)).link:null)||s||n||e||r}class ep{constructor(e){const n=Kl(Yl(e)),s=n.apiKey??null,l=n.oobCode??null,c=ow(n.mode??null);Ae(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=lw(e);try{return new ep(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ep.parseLink(n);return Ae(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends VE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends _u{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ea._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Es.credential(n,s)}catch{return null}}}Es.GOOGLE_SIGN_IN_METHOD="google.com";Es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends _u{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.GITHUB_SIGN_IN_METHOD="github.com";Ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends _u{constructor(){super("twitter.com")}static credential(e,n){return Ea._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return bs.credential(n,s)}catch{return null}}}bs.TWITTER_SIGN_IN_METHOD="twitter.com";bs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uw(r,e){return vu(r,"POST","/v1/accounts:signUp",jr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const c=await Si._fromIdTokenResponse(e,s,l),f=M_(s);return new Ta({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=M_(s);return new Ta({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function M_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends Vr{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new _h(e,n,s,l)}}function jE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,c,e,s):c})}async function cw(r,e,n=!1){const s=await Io(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ta._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(r,e,n=!1){const{auth:s}=r;if(li(s.app))return Promise.reject(Cr(s));const l="reauthenticate";try{const c=await Io(r,jE(s,l,e,r),n);Ae(c.idToken,s,"internal-error");const f=Jm(c.idToken);Ae(f,s,"internal-error");const{sub:g}=f;return Ae(r.uid===g,s,"user-mismatch"),Ta._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Ai(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PE(r,e,n=!1){if(li(r.app))return Promise.reject(Cr(r));const s="signIn",l=await jE(r,s,e),c=await Ta._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function fw(r,e){return PE(Us(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UE(r){const e=Us(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function V_(r,e,n){const s=Us(r);await vh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",iw)}async function dw(r,e,n){if(li(r.app))return Promise.reject(Cr(r));const s=Us(r),f=await vh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uw).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&UE(r),y}),g=await Ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function mw(r,e,n){return li(r.app)?Promise.reject(Cr(r)):fw(zt(r),ko.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&UE(r),s})}async function pw(r,e){const n=zt(r),l={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:c}=await nw(n.auth,l);c!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(r,e){return tr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yw(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=zt(r),c={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Io(s,gw(s.auth,c));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const g=s.providerData.find(({providerId:y})=>y==="password");g&&(g.displayName=s.displayName,g.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function vw(r,e,n,s){return zt(r).onIdTokenChanged(e,n,s)}function _w(r,e,n){return zt(r).beforeAuthStateChanged(e,n)}function Ew(r,e,n,s){return zt(r).onAuthStateChanged(e,n,s)}function Yc(r){return zt(r).signOut()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=1e3,bw=10;class kE extends LE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);jA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,bw):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Tw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kE.type="LOCAL";const Sw=kE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE extends LE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zE.type="SESSION";const BE=zE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Uh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async _=>_(n.origin,c)),y=await Aw(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,y)=>{const _=tp("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(){return window}function Rw(r){Ki().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return typeof Ki().WorkerGlobalScope<"u"&&typeof Ki().importScripts=="function"}async function xw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Cw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function Iw(){return qE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="firebaseLocalStorageDb",Nw=1,Th="firebaseLocalStorage",FE="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Lh(r,e){return r.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function Dw(){const r=indexedDB.deleteDatabase(HE);return new Eu(r).toPromise()}function Am(){const r=indexedDB.open(HE,Nw);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:FE})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?e(s):(s.close(),await Dw(),e(await Am()))})})}async function j_(r,e,n){const s=Lh(r,!0).put({[FE]:e,value:n});return new Eu(s).toPromise()}async function Ow(r,e){const n=Lh(r,!1).get(e),s=await new Eu(n).toPromise();return s===void 0?null:s.value}function P_(r,e){const n=Lh(r,!0).delete(e);return new Eu(n).toPromise()}const Mw=800,Vw=3;class GE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Vw)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(Iw()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await xw(),!this.activeServiceWorker)return;this.sender=new ww(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Cw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await j_(e,Eh,"1"),await P_(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>j_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Ow(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>P_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Lh(l,!1).getAll();return new Eu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GE.type="LOCAL";const jw=GE;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r,e){return e?xr(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np extends Wm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Uw(r){return PE(r.auth,new np(r),r.bypassAuthState)}function Lw(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),hw(n,new np(r),r.bypassAuthState)}async function kw(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),cw(n,new np(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,s,l,c=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uw;case"linkViaPopup":case"linkViaRedirect":return kw;case"reauthViaPopup":case"reauthViaRedirect":return Lw;default:Ai(this.auth,"internal-error")}}resolve(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new yu(2e3,1e4);class To extends QE{constructor(e,n,s,l,c){super(e,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Nr(this.filter.length===1,"Popup operations only handle one event");const e=tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zw.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="pendingRedirect",sh=new Map;class qw extends QE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=sh.get(this.auth._key());if(!e){try{const s=await Hw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}sh.set(this.auth._key(),e)}return this.bypassAuthState||sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hw(r,e){const n=Qw(e),s=Gw(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function Fw(r,e){sh.set(r._key(),e)}function Gw(r){return xr(r._redirectPersistence)}function Qw(r){return rh(Bw,r.config.apiKey,r.name)}async function Kw(r,e,n=!1){if(li(r.app))return Promise.reject(Cr(r));const s=Us(r),l=Pw(s,e),f=await new qw(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=600*1e3;class Xw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$w(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!KE(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Yw&&this.cachedEventUids.clear(),this.cachedEventUids.has(U_(e))}saveEventToCache(e){this.cachedEventUids.add(U_(e)),this.lastProcessedEventTime=Date.now()}}function U_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function KE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $w(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(r,e={}){return tr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ww=/^https?/;async function eR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Jw(r);for(const n of e)try{if(tR(n))return}catch{}Ai(r,"unauthorized-domain")}function tR(r){const e=bm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Ww.test(n))return!1;if(Zw.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=new yu(3e4,6e4);function L_(){const r=Ki().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function iR(r){return new Promise((e,n)=>{var l,c,f;function s(){L_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L_(),n(Qi(r,"network-request-failed"))},timeout:nR.get()})}if((c=(l=Ki().gapi)==null?void 0:l.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((f=Ki().gapi)!=null&&f.load)s();else{const g=FA("iframefcb");return Ki()[g]=()=>{gapi.load?s():n(Qi(r,"network-request-failed"))},NE(`${HA()}?onload=${g}`).catch(y=>n(y))}}).catch(e=>{throw ah=null,e})}let ah=null;function rR(r){return ah=ah||iR(r),ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=new yu(5e3,15e3),aR="__/auth/iframe",oR="emulator/auth/iframe",lR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cR(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?$m(e,oR):`https://${r.config.authDomain}/${aR}`,s={apiKey:e.apiKey,appName:r.name,v:Lo},l=uR.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${gu(s).slice(1)}`}async function hR(r){const e=await rR(r),n=Ki().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:cR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lR,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=Qi(r,"network-request-failed"),g=Ki().setTimeout(()=>{c(f)},sR.get());function y(){Ki().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dR=500,mR=600,pR="_blank",gR="http://localhost";class k_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yR(r,e,n,s=dR,l=mR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...fR,width:s.toString(),height:l.toString(),top:c,left:f},_=yn().toLowerCase();n&&(g=SE(_)?pR:n),TE(_)&&(e=e||gR,y.scrollbars="yes");const S=Object.entries(y).reduce((M,[G,W])=>`${M}${G}=${W},`,"");if(VA(_)&&g!=="_self")return vR(e||"",g),new k_(null);const w=window.open(e||"",g,S);Ae(w,r,"popup-blocked");try{w.focus()}catch{}return new k_(w)}function vR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="__/auth/handler",ER="emulator/auth/handler",TR=encodeURIComponent("fac");async function z_(r,e,n,s,l,c){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Lo,eventId:l};if(e instanceof VE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",eS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[S,w]of Object.entries({}))f[S]=w}if(e instanceof _u){const S=e.getScopes().filter(w=>w!=="");S.length>0&&(f.scopes=S.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await r._getAppCheckToken(),_=y?`#${TR}=${encodeURIComponent(y)}`:"";return`${bR(r)}?${gu(g).slice(1)}${_}`}function bR({config:r}){return r.emulator?$m(r,ER):`https://${r.authDomain}/${_R}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm="webStorageSupport";class SR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BE,this._completeRedirectFn=Kw,this._overrideRedirectResult=Fw}async _openPopup(e,n,s,l){var f;Nr((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const c=await z_(e,n,s,bm(),l);return yR(e,c,tp())}async _openRedirect(e,n,s,l){await this._originValidation(e);const c=await z_(e,n,s,bm(),l);return Rw(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Nr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await hR(e),s=new Xw(e);return n.register("authEvent",l=>(Ae(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},l=>{var f;const c=(f=l==null?void 0:l[0])==null?void 0:f[lm];c!==void 0&&n(!!c),Ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CE()||bE()||Zm()}}const AR=SR;var B_="@firebase/auth",q_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xR(r){Co(new _a("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IE(r)},_=new zA(s,l,c,y);return $A(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Co(new _a("auth-internal",e=>{const n=Us(e.getProvider("auth").getImmediate());return(s=>new wR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rs(B_,q_,RR(r)),Rs(B_,q_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=300,IR=rE("authIdTokenMaxAge")||CR;let H_=null;const NR=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>IR)return;const l=n==null?void 0:n.token;H_!==l&&(H_=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function DR(r=cE()){const e=Ym(r,"auth");if(e.isInitialized())return e.getImmediate();const n=XA(r,{popupRedirectResolver:AR,persistence:[jw,Sw,BE]}),s=rE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=NR(c.toString());_w(n,f,()=>f(n.currentUser)),vw(n,g=>f(g))}}const l=nE("auth");return l&&JA(n,`http://${l}`),n}function OR(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}BA({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const c=Qi("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",OR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xR("Browser");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,YE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function I(){}I.prototype=x.prototype,D.F=x.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(b,O,P){for(var C=Array(arguments.length-2),We=2;We<arguments.length;We++)C[We-2]=arguments[We];return x.prototype[O].apply(b,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,x,I){I||(I=0);const b=Array(16);if(typeof x=="string")for(var O=0;O<16;++O)b[O]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(O=0;O<16;++O)b[O]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=D.g[0],I=D.g[1],O=D.g[2];let P=D.g[3],C;C=x+(P^I&(O^P))+b[0]+3614090360&4294967295,x=I+(C<<7&4294967295|C>>>25),C=P+(O^x&(I^O))+b[1]+3905402710&4294967295,P=x+(C<<12&4294967295|C>>>20),C=O+(I^P&(x^I))+b[2]+606105819&4294967295,O=P+(C<<17&4294967295|C>>>15),C=I+(x^O&(P^x))+b[3]+3250441966&4294967295,I=O+(C<<22&4294967295|C>>>10),C=x+(P^I&(O^P))+b[4]+4118548399&4294967295,x=I+(C<<7&4294967295|C>>>25),C=P+(O^x&(I^O))+b[5]+1200080426&4294967295,P=x+(C<<12&4294967295|C>>>20),C=O+(I^P&(x^I))+b[6]+2821735955&4294967295,O=P+(C<<17&4294967295|C>>>15),C=I+(x^O&(P^x))+b[7]+4249261313&4294967295,I=O+(C<<22&4294967295|C>>>10),C=x+(P^I&(O^P))+b[8]+1770035416&4294967295,x=I+(C<<7&4294967295|C>>>25),C=P+(O^x&(I^O))+b[9]+2336552879&4294967295,P=x+(C<<12&4294967295|C>>>20),C=O+(I^P&(x^I))+b[10]+4294925233&4294967295,O=P+(C<<17&4294967295|C>>>15),C=I+(x^O&(P^x))+b[11]+2304563134&4294967295,I=O+(C<<22&4294967295|C>>>10),C=x+(P^I&(O^P))+b[12]+1804603682&4294967295,x=I+(C<<7&4294967295|C>>>25),C=P+(O^x&(I^O))+b[13]+4254626195&4294967295,P=x+(C<<12&4294967295|C>>>20),C=O+(I^P&(x^I))+b[14]+2792965006&4294967295,O=P+(C<<17&4294967295|C>>>15),C=I+(x^O&(P^x))+b[15]+1236535329&4294967295,I=O+(C<<22&4294967295|C>>>10),C=x+(O^P&(I^O))+b[1]+4129170786&4294967295,x=I+(C<<5&4294967295|C>>>27),C=P+(I^O&(x^I))+b[6]+3225465664&4294967295,P=x+(C<<9&4294967295|C>>>23),C=O+(x^I&(P^x))+b[11]+643717713&4294967295,O=P+(C<<14&4294967295|C>>>18),C=I+(P^x&(O^P))+b[0]+3921069994&4294967295,I=O+(C<<20&4294967295|C>>>12),C=x+(O^P&(I^O))+b[5]+3593408605&4294967295,x=I+(C<<5&4294967295|C>>>27),C=P+(I^O&(x^I))+b[10]+38016083&4294967295,P=x+(C<<9&4294967295|C>>>23),C=O+(x^I&(P^x))+b[15]+3634488961&4294967295,O=P+(C<<14&4294967295|C>>>18),C=I+(P^x&(O^P))+b[4]+3889429448&4294967295,I=O+(C<<20&4294967295|C>>>12),C=x+(O^P&(I^O))+b[9]+568446438&4294967295,x=I+(C<<5&4294967295|C>>>27),C=P+(I^O&(x^I))+b[14]+3275163606&4294967295,P=x+(C<<9&4294967295|C>>>23),C=O+(x^I&(P^x))+b[3]+4107603335&4294967295,O=P+(C<<14&4294967295|C>>>18),C=I+(P^x&(O^P))+b[8]+1163531501&4294967295,I=O+(C<<20&4294967295|C>>>12),C=x+(O^P&(I^O))+b[13]+2850285829&4294967295,x=I+(C<<5&4294967295|C>>>27),C=P+(I^O&(x^I))+b[2]+4243563512&4294967295,P=x+(C<<9&4294967295|C>>>23),C=O+(x^I&(P^x))+b[7]+1735328473&4294967295,O=P+(C<<14&4294967295|C>>>18),C=I+(P^x&(O^P))+b[12]+2368359562&4294967295,I=O+(C<<20&4294967295|C>>>12),C=x+(I^O^P)+b[5]+4294588738&4294967295,x=I+(C<<4&4294967295|C>>>28),C=P+(x^I^O)+b[8]+2272392833&4294967295,P=x+(C<<11&4294967295|C>>>21),C=O+(P^x^I)+b[11]+1839030562&4294967295,O=P+(C<<16&4294967295|C>>>16),C=I+(O^P^x)+b[14]+4259657740&4294967295,I=O+(C<<23&4294967295|C>>>9),C=x+(I^O^P)+b[1]+2763975236&4294967295,x=I+(C<<4&4294967295|C>>>28),C=P+(x^I^O)+b[4]+1272893353&4294967295,P=x+(C<<11&4294967295|C>>>21),C=O+(P^x^I)+b[7]+4139469664&4294967295,O=P+(C<<16&4294967295|C>>>16),C=I+(O^P^x)+b[10]+3200236656&4294967295,I=O+(C<<23&4294967295|C>>>9),C=x+(I^O^P)+b[13]+681279174&4294967295,x=I+(C<<4&4294967295|C>>>28),C=P+(x^I^O)+b[0]+3936430074&4294967295,P=x+(C<<11&4294967295|C>>>21),C=O+(P^x^I)+b[3]+3572445317&4294967295,O=P+(C<<16&4294967295|C>>>16),C=I+(O^P^x)+b[6]+76029189&4294967295,I=O+(C<<23&4294967295|C>>>9),C=x+(I^O^P)+b[9]+3654602809&4294967295,x=I+(C<<4&4294967295|C>>>28),C=P+(x^I^O)+b[12]+3873151461&4294967295,P=x+(C<<11&4294967295|C>>>21),C=O+(P^x^I)+b[15]+530742520&4294967295,O=P+(C<<16&4294967295|C>>>16),C=I+(O^P^x)+b[2]+3299628645&4294967295,I=O+(C<<23&4294967295|C>>>9),C=x+(O^(I|~P))+b[0]+4096336452&4294967295,x=I+(C<<6&4294967295|C>>>26),C=P+(I^(x|~O))+b[7]+1126891415&4294967295,P=x+(C<<10&4294967295|C>>>22),C=O+(x^(P|~I))+b[14]+2878612391&4294967295,O=P+(C<<15&4294967295|C>>>17),C=I+(P^(O|~x))+b[5]+4237533241&4294967295,I=O+(C<<21&4294967295|C>>>11),C=x+(O^(I|~P))+b[12]+1700485571&4294967295,x=I+(C<<6&4294967295|C>>>26),C=P+(I^(x|~O))+b[3]+2399980690&4294967295,P=x+(C<<10&4294967295|C>>>22),C=O+(x^(P|~I))+b[10]+4293915773&4294967295,O=P+(C<<15&4294967295|C>>>17),C=I+(P^(O|~x))+b[1]+2240044497&4294967295,I=O+(C<<21&4294967295|C>>>11),C=x+(O^(I|~P))+b[8]+1873313359&4294967295,x=I+(C<<6&4294967295|C>>>26),C=P+(I^(x|~O))+b[15]+4264355552&4294967295,P=x+(C<<10&4294967295|C>>>22),C=O+(x^(P|~I))+b[6]+2734768916&4294967295,O=P+(C<<15&4294967295|C>>>17),C=I+(P^(O|~x))+b[13]+1309151649&4294967295,I=O+(C<<21&4294967295|C>>>11),C=x+(O^(I|~P))+b[4]+4149444226&4294967295,x=I+(C<<6&4294967295|C>>>26),C=P+(I^(x|~O))+b[11]+3174756917&4294967295,P=x+(C<<10&4294967295|C>>>22),C=O+(x^(P|~I))+b[2]+718787259&4294967295,O=P+(C<<15&4294967295|C>>>17),C=I+(P^(O|~x))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+P&4294967295}s.prototype.v=function(D,x){x===void 0&&(x=D.length);const I=x-this.blockSize,b=this.C;let O=this.h,P=0;for(;P<x;){if(O==0)for(;P<=I;)l(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<x;)if(b[O++]=D.charCodeAt(P++),O==this.blockSize){l(this,b),O=0;break}}else for(;P<x;)if(b[O++]=D[P++],O==this.blockSize){l(this,b),O=0;break}}this.h=O,this.o+=x},s.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,I=0;I<4;++I)for(let b=0;b<32;b+=8)D[x++]=this.g[I]>>>b&255;return D};function c(D,x){var I=g;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=x(D)}function f(D,x){this.h=x;const I=[];let b=!0;for(let O=D.length-1;O>=0;O--){const P=D[O]|0;b&&P==x||(I[O]=P,b=!1)}this.g=I}var g={};function y(D){return-128<=D&&D<128?c(D,function(x){return new f([x|0],x<0?-1:0)}):new f([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return w;if(D<0)return ee(_(-D));const x=[];let I=1;for(let b=0;D>=I;b++)x[b]=D/I|0,I*=4294967296;return new f(x,0)}function S(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return ee(S(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(x,8));let b=w;for(let P=0;P<D.length;P+=8){var O=Math.min(8,D.length-P);const C=parseInt(D.substring(P,P+O),x);O<8?(O=_(Math.pow(x,O)),b=b.j(O).add(_(C))):(b=b.j(I),b=b.add(_(C)))}return b}var w=y(0),M=y(1),G=y(16777216);r=f.prototype,r.m=function(){if(ne(this))return-ee(this).m();let D=0,x=1;for(let I=0;I<this.g.length;I++){const b=this.i(I);D+=(b>=0?b:4294967296+b)*x,x*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(ne(this))return"-"+ee(this).toString(D);const x=_(Math.pow(D,6));var I=this;let b="";for(;;){const O=Ue(I,x).g;I=te(I,O.j(x));let P=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=O,W(I))return P+b;for(;P.length<6;)P="0"+P;b=P+b}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function ne(D){return D.h==-1}r.l=function(D){return D=te(this,D),ne(D)?-1:W(D)?0:1};function ee(D){const x=D.g.length,I=[];for(let b=0;b<x;b++)I[b]=~D.g[b];return new f(I,~D.h).add(M)}r.abs=function(){return ne(this)?ee(this):this},r.add=function(D){const x=Math.max(this.g.length,D.g.length),I=[];let b=0;for(let O=0;O<=x;O++){let P=b+(this.i(O)&65535)+(D.i(O)&65535),C=(P>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);b=C>>>16,P&=65535,C&=65535,I[O]=C<<16|P}return new f(I,I[I.length-1]&-2147483648?-1:0)};function te(D,x){return D.add(ee(x))}r.j=function(D){if(W(this)||W(D))return w;if(ne(this))return ne(D)?ee(this).j(ee(D)):ee(ee(this).j(D));if(ne(D))return ee(this.j(ee(D)));if(this.l(G)<0&&D.l(G)<0)return _(this.m()*D.m());const x=this.g.length+D.g.length,I=[];for(var b=0;b<2*x;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(let O=0;O<D.g.length;O++){const P=this.i(b)>>>16,C=this.i(b)&65535,We=D.i(O)>>>16,_t=D.i(O)&65535;I[2*b+2*O]+=C*_t,Ee(I,2*b+2*O),I[2*b+2*O+1]+=P*_t,Ee(I,2*b+2*O+1),I[2*b+2*O+1]+=C*We,Ee(I,2*b+2*O+1),I[2*b+2*O+2]+=P*We,Ee(I,2*b+2*O+2)}for(D=0;D<x;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=x;D<2*x;D++)I[D]=0;return new f(I,0)};function Ee(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function de(D,x){this.g=D,this.h=x}function Ue(D,x){if(W(x))throw Error("division by zero");if(W(D))return new de(w,w);if(ne(D))return x=Ue(ee(D),x),new de(ee(x.g),ee(x.h));if(ne(x))return x=Ue(D,ee(x)),new de(ee(x.g),x.h);if(D.g.length>30){if(ne(D)||ne(x))throw Error("slowDivide_ only works with positive integers.");for(var I=M,b=x;b.l(D)<=0;)I=Ge(I),b=Ge(b);var O=Me(I,1),P=Me(b,1);for(b=Me(b,2),I=Me(I,2);!W(b);){var C=P.add(b);C.l(D)<=0&&(O=O.add(I),P=C),b=Me(b,1),I=Me(I,1)}return x=te(D,O.j(x)),new de(O,x)}for(O=w;D.l(x)>=0;){for(I=Math.max(1,Math.floor(D.m()/x.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),P=_(I),C=P.j(x);ne(C)||C.l(D)>0;)I-=b,P=_(I),C=P.j(x);W(P)&&(P=M),O=O.add(P),D=te(D,C)}return new de(O,D)}r.B=function(D){return Ue(this,D).h},r.and=function(D){const x=Math.max(this.g.length,D.g.length),I=[];for(let b=0;b<x;b++)I[b]=this.i(b)&D.i(b);return new f(I,this.h&D.h)},r.or=function(D){const x=Math.max(this.g.length,D.g.length),I=[];for(let b=0;b<x;b++)I[b]=this.i(b)|D.i(b);return new f(I,this.h|D.h)},r.xor=function(D){const x=Math.max(this.g.length,D.g.length),I=[];for(let b=0;b<x;b++)I[b]=this.i(b)^D.i(b);return new f(I,this.h^D.h)};function Ge(D){const x=D.g.length+1,I=[];for(let b=0;b<x;b++)I[b]=D.i(b)<<1|D.i(b-1)>>>31;return new f(I,D.h)}function Me(D,x){const I=x>>5;x%=32;const b=D.g.length-I,O=[];for(let P=0;P<b;P++)O[P]=x>0?D.i(P+I)>>>x|D.i(P+I+1)<<32-x:D.i(P+I);return new f(O,D.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,YE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=S,xs=f}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XE,Xl,$E,oh,wm,JE,ZE,WE;(function(){var r,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var p=0;p<u.length;++p){var E=u[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function l(u,p){if(p)e:{var E=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in E))break e;E=E[L]}u=u[u.length-1],A=E[u],p=p(A),p!=A&&p!=null&&e(E,u,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(p){var E=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&E.push([A,p[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function g(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function y(u,p,E){return u.call.apply(u.bind,arguments)}function _(u,p,E){return _=y,_.apply(null,arguments)}function S(u,p){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function w(u,p){function E(){}E.prototype=p.prototype,u.Z=p.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(A,L,H){for(var ie=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ie[Ne-2]=arguments[Ne];return p.prototype[L].apply(A,ie)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const p=u.length;if(p>0){const E=Array(p);for(let A=0;A<p;A++)E[A]=u[A];return E}return[]}function W(u,p){for(let A=1;A<arguments.length;A++){const L=arguments[A];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=u.length||0;const H=L.length||0;u.length=E+H;for(let ie=0;ie<H;ie++)u[E+ie]=L[ie]}else u.push(L)}}class ne{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(u){f.setTimeout(()=>{throw u},0)}function te(){var u=D;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Ee{constructor(){this.h=this.g=null}add(p,E){const A=de.get();A.set(p,E),this.h?this.h.next=A:this.g=A,this.h=A}}var de=new ne(()=>new Ue,u=>u.reset());class Ue{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,Me=!1,D=new Ee,x=()=>{const u=Promise.resolve(void 0);Ge=()=>{u.then(I)}};function I(){for(var u;u=te();){try{u.h.call(u.g)}catch(E){ee(E)}var p=de;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Me=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};f.addEventListener("test",E,p),f.removeEventListener("test",E,p)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function We(u,p){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}w(We,O),We.prototype.init=function(u,p){const E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(E=="mouseover"?p=u.fromElement:E=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),Q=0;function re(u,p,E,A,L){this.listener=u,this.proxy=null,this.src=p,this.type=E,this.capture=!!A,this.ha=L,this.key=++Q,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ve(u,p,E){for(const A in u)p.call(E,u[A],A,u)}function Ke(u,p){for(const E in u)p.call(void 0,u[E],E,u)}function V(u){const p={};for(const E in u)p[E]=u[E];return p}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,p){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)u[E]=A[E];for(let H=0;H<X.length;H++)E=X[H],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,p,E,A,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const ie=Re(u,p,A,L);return ie>-1?(p=u[ie],E||(p.fa=!1)):(p=new re(p,this.src,H,!!A,L),p.fa=E,u.push(p)),p};function Se(u,p){const E=p.type;if(E in u.g){var A=u.g[E],L=Array.prototype.indexOf.call(A,p,void 0),H;(H=L>=0)&&Array.prototype.splice.call(A,L,1),H&&(ye(p),u.g[E].length==0&&(delete u.g[E],u.h--))}}function Re(u,p,E,A){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==p&&H.capture==!!E&&H.ha==A)return L}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Ot={};function ct(u,p,E,A,L){if(Array.isArray(p)){for(let H=0;H<p.length;H++)ct(u,p[H],E,A,L);return null}return E=ir(E),u&&u[_t]?u.J(p,E,g(A)?!!A.capture:!1,L):ci(u,p,E,!1,A,L)}function ci(u,p,E,A,L,H){if(!p)throw Error("Invalid event type");const ie=g(L)?!!L.capture:!!L;let Ne=ge(u);if(Ne||(u[Le]=Ne=new ae(u)),E=Ne.add(p,E,A,ie,H),E.proxy)return E;if(A=hi(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)P||(L=ie),L===void 0&&(L=!1),u.addEventListener(p.toString(),A,L);else if(u.attachEvent)u.attachEvent(Mn(p.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function hi(){function u(E){return p.call(u.src,u.listener,E)}const p=Sn;return u}function nr(u,p,E,A,L){if(Array.isArray(p))for(var H=0;H<p.length;H++)nr(u,p[H],E,A,L);else A=g(A)?!!A.capture:!!A,E=ir(E),u&&u[_t]?(u=u.i,H=String(p).toString(),H in u.g&&(p=u.g[H],E=Re(p,E,A,L),E>-1&&(ye(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete u.g[H],u.h--)))):u&&(u=ge(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Re(p,E,A,L)),(E=u>-1?p[u]:null)&&Bt(E))}function Bt(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[_t])Se(p.i,u);else{var E=u.type,A=u.proxy;p.removeEventListener?p.removeEventListener(E,A,u.capture):p.detachEvent?p.detachEvent(Mn(E),A):p.addListener&&p.removeListener&&p.removeListener(A),(E=ge(p))?(Se(E,u),E.h==0&&(E.src=null,p[Le]=null)):ye(u)}}}function Mn(u){return u in Ot?Ot[u]:Ot[u]="on"+u}function Sn(u,p){if(u.da)u=!0;else{p=new We(p,this);const E=u.listener,A=u.ha||u.src;u.fa&&Bt(u),u=E.call(A,p)}return u}function ge(u){return u=u[Le],u instanceof ae?u:null}var Pr="__closure_events_fn_"+(Math.random()*1e9>>>0);function ir(u){return typeof u=="function"?u:(u[Pr]||(u[Pr]=function(p){return u.handleEvent(p)}),u[Pr])}function Et(){b.call(this),this.i=new ae(this),this.M=this,this.G=null}w(Et,b),Et.prototype[_t]=!0,Et.prototype.removeEventListener=function(u,p,E,A){nr(this,u,p,E,A)};function Mt(u,p){var E,A=u.G;if(A)for(E=[];A;A=A.G)E.push(A);if(u=u.M,A=p.type||p,typeof p=="string")p=new O(p,u);else if(p instanceof O)p.target=p.target||u;else{var L=p;p=new O(A,u),se(p,L)}L=!0;let H,ie;if(E)for(ie=E.length-1;ie>=0;ie--)H=p.g=E[ie],L=fi(H,A,!0,p)&&L;if(H=p.g=u,L=fi(H,A,!0,p)&&L,L=fi(H,A,!1,p)&&L,E)for(ie=0;ie<E.length;ie++)H=p.g=E[ie],L=fi(H,A,!1,p)&&L}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const E=u.g[p];for(let A=0;A<E.length;A++)ye(E[A]);delete u.g[p],u.h--}}this.G=null},Et.prototype.J=function(u,p,E,A){return this.i.add(String(u),p,!1,E,A)},Et.prototype.K=function(u,p,E,A){return this.i.add(String(u),p,!0,E,A)};function fi(u,p,E,A){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let H=0;H<p.length;++H){const ie=p[H];if(ie&&!ie.da&&ie.capture==E){const Ne=ie.listener,Pt=ie.ha||ie.src;ie.fa&&Se(u.i,ie),L=Ne.call(Pt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Go(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(u,p||0)}function zs(u){u.g=Go(()=>{u.g=null,u.i&&(u.i=!1,zs(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Tt extends b{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ri(u){b.call(this),this.h=u,this.g={}}w(Ri,b);var Ur=[];function xi(u){Ve(u.g,function(p,E){this.g.hasOwnProperty(E)&&Bt(p)},u),u.g={}}Ri.prototype.N=function(){Ri.Z.N.call(this),xi(this)},Ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ci=f.JSON.stringify,Bs=f.JSON.parse,Ra=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function rr(){}function le(){}var oe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){O.call(this,"d")}w($t,O);function vn(){O.call(this,"c")}w(vn,O);var bt={},xa=null;function Lr(){return xa=xa||new Et}bt.Ia="serverreachability";function Ca(u){O.call(this,bt.Ia,u)}w(Ca,O);function Kn(u){const p=Lr();Mt(p,new Ca(p))}bt.STAT_EVENT="statevent";function Ii(u,p){O.call(this,bt.STAT_EVENT,u),this.stat=p}w(Ii,O);function gt(u){const p=Lr();Mt(p,new Ii(p,u))}bt.Ja="timingevent";function Vn(u,p){O.call(this,bt.Ja,u),this.size=p}w(Vn,O);function Yn(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function qs(u,p,E,A,L,H){u.info(function(){if(u.g)if(H){var ie="",Ne=H.split("&");for(let Je=0;Je<Ne.length;Je++){var Pt=Ne[Je].split("=");if(Pt.length>1){const yt=Pt[0];Pt=Pt[1];const Zn=yt.split("_");ie=Zn.length>=2&&Zn[1]=="type"?ie+(yt+"="+Pt+"&"):ie+(yt+"=redacted&")}}}else ie=null;else ie=H;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+E+`
`+ie})}function Ia(u,p,E,A,L,H,ie){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+E+`
`+H+" "+ie})}function Xn(u,p,E,A){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Qo(u,E)+(A?" "+A:"")})}function sr(u,p){u.info(function(){return"TIMEOUT: "+p})}jn.prototype.info=function(){};function Qo(u,p){if(!u.g)return p;if(!p)return null;try{const H=JSON.parse(p);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var E=H[u];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ie=1;ie<A.length;ie++)A[ie]=""}}}}return Ci(H)}catch{return p}}var ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kr;function or(){}w(or,rr),or.prototype.g=function(){return new XMLHttpRequest},kr=new or;function di(u){return encodeURIComponent(String(u))}function Na(u){var p=1;u=u.split(":");const E=[];for(;p>0&&u.length;)E.push(u.shift()),p--;return u.length&&E.push(u.join(":")),E}function Pn(u,p,E,A){this.j=u,this.i=p,this.l=E,this.S=A||1,this.V=new Ri(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Un}function Un(){this.i=null,this.g="",this.h=!1}var St={},Vt={};function q(u,p,E){u.M=1,u.A=Fs(qt(p)),u.u=E,u.R=!0,R(u,null)}function R(u,p){u.F=Date.now(),ke(u),u.B=qt(u.A);var E=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),Ma(E.i,"t",A),u.C=0,E=u.j.L,u.h=new Un,u.g=zu(u.j,E?p:null,!u.u),u.P>0&&(u.O=new Tt(_(u.Y,u,u.g),u.P)),p=u.V,E=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Ur[0]=L.toString()),L=Ur);for(let H=0;H<L.length;H++){const ie=ct(E,L[H],A||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),Kn(),qs(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const p=this.O;p&&gi(u)==3?p.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=gi(this.g),Pt=this.g.ya(),Je=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||sn(this.g)))){this.K||Ne!=4||Pt==7||(Pt==8||Je<=0?Kn(3):Kn(2)),_n(this);var p=this.g.ca();this.X=p;var E=he(this);if(this.o=p==200,Ia(this.i,this.v,this.B,this.l,this.S,Ne,p),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var H=A;break t}}H=null}if(u=H)Xn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,At(this,u);else{this.o=!1,this.m=3,gt(12),Rt(this),En(this);break e}}if(this.R){u=!0;let yt;for(;!this.K&&this.C<E.length;)if(yt=st(this,E),yt==Vt){Ne==4&&(this.m=4,gt(14),u=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==St){this.m=4,gt(15),Xn(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else Xn(this.i,this.l,yt,null),At(this,yt);if(tt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||E.length!=0||this.h.h||(this.m=1,gt(16),u=!1),this.o=this.o&&u,!u)Xn(this.i,this.l,E,"[Invalid Chunked Response]"),Rt(this),En(this);else if(E.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ol(ie),ie.P=!0,gt(11))}}else Xn(this.i,this.l,E,null),At(this,E);Ne==4&&Rt(this),this.o&&!this.K&&(Ne==4?Pu(this.j,this):(this.o=!1,ke(this)))}else ur(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),Rt(this),En(this)}}}catch{}finally{}};function he(u){if(!tt(u))return u.g.la();const p=sn(u.g);if(p==="")return"";let E="";const A=p.length,L=gi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rt(u),En(u),"";u.h.i=new f.TextDecoder}for(let H=0;H<A;H++)u.h.h=!0,E+=u.h.i.decode(p[H],{stream:!(L&&H==A-1)});return p.length=0,u.h.g+=E,u.C=0,u.h.g}function tt(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function st(u,p){var E=u.C,A=p.indexOf(`
`,E);return A==-1?Vt:(E=Number(p.substring(E,A)),isNaN(E)?St:(A+=1,A+E>p.length?Vt:(p=p.slice(A,A+E),u.C=A+E,p)))}Pn.prototype.cancel=function(){this.K=!0,Rt(this)};function ke(u){u.T=Date.now()+u.H,rn(u,u.H)}function rn(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Yn(_(u.aa,u),p)}function _n(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(sr(this.i,this.B),this.M!=2&&(Kn(),gt(17)),Rt(this),this.m=2,En(this)):rn(this,this.T-u)};function En(u){u.j.I==0||u.K||Pu(u.j,u)}function Rt(u){_n(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,xi(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function At(u,p){try{var E=u.j;if(E.I!=0&&(E.g==u||Di(E.h,u))){if(!u.L&&Di(E.h,u)&&E.I==3){try{var A=E.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)La(E),Kr(E);else break e;Js(E),gt(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Yn(_(E.Va,E),6e3));Ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ui(E,11)}else if((u.L||E.g==u)&&La(E),!C(p))for(L=E.Ba.g.parse(p),p=0;p<L.length;p++){let Je=L[p];const yt=Je[0];if(!(yt<=E.K))if(E.K=yt,Je=Je[1],E.I==2)if(Je[0]=="c"){E.M=Je[1],E.ba=Je[2];const Zn=Je[3];Zn!=null&&(E.ka=Zn,E.j.info("VER="+E.ka));const Li=Je[4];Li!=null&&(E.za=Li,E.j.info("SVER="+E.za));const yi=Je[5];yi!=null&&typeof yi=="number"&&yi>0&&(A=1.5*yi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const vi=u.g;if(vi){const Zs=vi.g?vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zs){var H=A.h;H.g||Zs.indexOf("spdy")==-1&&Zs.indexOf("quic")==-1&&Zs.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Xo(H,H.h),H.h=null))}if(A.G){const ka=vi.g?vi.g.getResponseHeader("X-HTTP-Session-Id"):null;ka&&(A.wa=ka,nt(A.J,A.G,ka))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var ie=u;if(A.na=ku(A,A.L?A.ba:null,A.W),ie.L){$o(A.h,ie);var Ne=ie,Pt=A.O;Pt&&(Ne.H=Pt),Ne.D&&(_n(Ne),ke(Ne)),A.g=ie}else Vu(A);E.i.length>0&&Pi(E)}else Je[0]!="stop"&&Je[0]!="close"||Ui(E,7);else E.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Ui(E,7):sl(E):Je[0]!="noop"&&E.l&&E.l.qa(Je),E.A=0)}}Kn(4)}catch{}}var jt=class{constructor(u,p){this.g=u,this.map=p}};function Ko(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Di(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Xo(u,p){u.g?u.g.add(p):u.h=p}function $o(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Ko.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const E of u.g.values())p=p.concat(E.G);return p}return G(u.i)}var Cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(u,p){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const A=u[E].indexOf("=");let L,H=null;A>=0?(L=u[E].substring(0,A),H=u[E].substring(A+1)):L=u[E],p(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ln(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof Ln?(this.l=u.l,Wt(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.u),this.h=u.h,Zo(this,Ou(u.i)),this.m=u.m):u&&(p=String(u).match(Cu))?(this.l=!1,Wt(this,p[1]||"",!0),this.o=Oi(p[2]||""),this.g=Oi(p[3]||"",!0),zr(this,p[4]),this.h=Oi(p[5]||"",!0),Zo(this,p[6]||"",!0),this.m=Oi(p[7]||"")):(this.l=!1,this.i=new qr(null,this.l))}Ln.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Gs(p,Oa,!0),":");var E=this.g;return(E||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Gs(p,Oa,!0),"@"),u.push(di(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Gs(E,E.charAt(0)=="/"?Wo:Iu,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Gs(E,Nu)),u.join("")},Ln.prototype.resolve=function(u){const p=qt(this);let E=!!u.j;E?Wt(p,u.j):E=!!u.o,E?p.o=u.o:E=!!u.g,E?p.g=u.g:E=u.u!=null;var A=u.h;if(E)zr(p,u.u);else if(E=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=p.h.lastIndexOf("/");L!=-1&&(A=p.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let ie=0;ie<L.length;){const Ne=L[ie++];Ne=="."?A&&ie==L.length&&H.push(""):Ne==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),A&&ie==L.length&&H.push("")):(H.push(Ne),A=!0)}A=H.join("/")}else A=L}return E?p.h=A:E=u.i.toString()!=="",E?Zo(p,Ou(u.i)):E=!!u.m,E&&(p.m=u.m),p};function qt(u){return new Ln(u)}function Wt(u,p,E){u.j=E?Oi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Zo(u,p,E){p instanceof qr?(u.i=p,Va(u.i,u.l)):(E||(p=Gs(p,Br)),u.i=new qr(p,u.l))}function nt(u,p,E){u.i.set(p,E)}function Fs(u){return nt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Oi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gs(u,p,E){return typeof u=="string"?(u=encodeURI(u).replace(p,An),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function An(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Oa=/[#\/\?@]/g,Iu=/[#\?:]/g,Wo=/[#\?]/g,Br=/[#\?@]/g,Nu=/#/g;function qr(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&Da(u.i,function(p,E){u.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}r=qr.prototype,r.add=function(u,p){wn(this),this.i=null,u=Hr(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(p),this.h+=1,this};function Du(u,p){wn(u),p=Hr(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function el(u,p){return wn(u),p=Hr(u,p),u.g.has(p)}r.forEach=function(u,p){wn(this),this.g.forEach(function(E,A){E.forEach(function(L){u.call(p,L,A,this)},this)},this)};function tl(u,p){wn(u);let E=[];if(typeof p=="string")el(u,p)&&(E=E.concat(u.g.get(Hr(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)E=E.concat(u[p]);return E}r.set=function(u,p){return wn(this),this.i=null,u=Hr(this,u),el(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},r.get=function(u,p){return u?(u=tl(this,u),u.length>0?String(u[0]):p):p};function Ma(u,p,E){Du(u,p),E.length>0&&(u.i=null,u.g.set(Hr(u,p),G(E)),u.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var E=p[A];const L=di(E);E=tl(this,E);for(let H=0;H<E.length;H++){let ie=L;E[H]!==""&&(ie+="="+di(E[H])),u.push(ie)}}return this.i=u.join("&")};function Ou(u){const p=new qr;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Hr(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Va(u,p){p&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(E,A){const L=A.toLowerCase();A!=L&&(Du(this,A),Ma(this,L,E))},u)),u.j=p}function mi(u,p){const E=new jn;if(f.Image){const A=new Image;A.onload=S($n,E,"TestLoadImage: loaded",!0,p,A),A.onerror=S($n,E,"TestLoadImage: error",!1,p,A),A.onabort=S($n,E,"TestLoadImage: abort",!1,p,A),A.ontimeout=S($n,E,"TestLoadImage: timeout",!1,p,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else p(!1)}function nl(u,p){const E=new jn,A=new AbortController,L=setTimeout(()=>{A.abort(),$n(E,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(L),H.ok?$n(E,"TestPingServer: ok",!0,p):$n(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),$n(E,"TestPingServer: error",!1,p)})}function $n(u,p,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function Fr(){this.g=new Ra}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Mi,rr),Mi.prototype.g=function(){return new Qs(this.i,this.h)};function Qs(u,p){Et.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Qs,Et),r=Qs.prototype,r.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,pi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ja(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ja(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Gr(this):pi(this),this.readyState==3&&ja(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Gr(this))},r.Na=function(u){this.g&&(this.response=u,Gr(this))},r.ga=function(){this.g&&Gr(this)};function Gr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,pi(u)}r.setRequestHeader=function(u,p){this.A.append(u,p)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=p.next();return u.join(`\r
`)};function pi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jn(u){let p="";return Ve(u,function(E,A){p+=A,p+=":",p+=E,p+=`\r
`}),p}function Ks(u,p,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=Jn(E),typeof u=="string"?E!=null&&di(E):nt(u,p,E))}function at(u){Et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(at,Et);var Vi=/^https?$/i,il=["POST","PUT"];r=at.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,p,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kr.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(H){Ys(this,H);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())E.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(H=>H.toLowerCase()=="content-type"),L=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(il,p,void 0)>=0)||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ie]of E)this.g.setRequestHeader(H,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Ys(this,H)}};function Ys(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,rl(u),lr(u)}function rl(u){u.A||(u.A=!0,Mt(u,"complete"),Mt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Mt(this,"complete"),Mt(this,"abort"),lr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lr(this,!0)),at.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},r.Xa=function(){Xs(this)};function Xs(u){if(u.h&&typeof c<"u"){if(u.v&&gi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Mt(u,"readystatechange"),gi(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var A;if(A=H===0){let ie=String(u.D).match(Cu)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),A=!Vi.test(ie?ie.toLowerCase():"")}E=A}if(E)Mt(u,"complete"),Mt(u,"success");else{u.o=6;try{var L=gi(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",rl(u)}}finally{lr(u)}}}}function lr(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,p||Mt(u,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function gi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return gi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Bs(p)}};function sn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ur(u){const p={};u=(u.g&&gi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(C(u[A]))continue;var E=Na(u[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const H=p[L]||[];p[L]=H,H.push(E)}Ke(p,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(u,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||p}function Qr(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,u),this.Za=ji("retryDelaySeedMs",1e4,u),this.Ta=ji("forwardChannelMaxRetries",2,u),this.va=ji("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ko(u&&u.concurrentRequestLimit),this.Ba=new Fr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Qr.prototype,r.ka=8,r.I=1,r.connect=function(u,p,E,A){gt(0),this.W=u,this.H=p||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=ku(this,null,this.W),Pi(this)};function sl(u){if(Pa(u),u.I==3){var p=u.V++,E=qt(u.J);if(nt(E,"SID",u.M),nt(E,"RID",p),nt(E,"TYPE","terminate"),$s(u,E),p=new Pn(u,u.j,p),p.M=2,p.A=Fs(qt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=p.A,E=!0),E||(p.g=zu(p.j,null),p.g.ea(p.A)),p.F=Date.now(),ke(p)}Lu(u)}function Kr(u){u.g&&(ol(u),u.g.cancel(),u.g=null)}function Pa(u){Kr(u),u.v&&(f.clearTimeout(u.v),u.v=null),La(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Pi(u){if(!Yo(u.h)&&!u.m){u.m=!0;var p=u.Ea;Ge||x(),Me||(Ge(),Me=!0),D.add(p,u),u.D=0}}function Ua(u,p){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Yn(_(u.Ea,u,p),Uu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Pn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=V(H),se(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Mu(this,L,p),E=qt(this.J),nt(E,"RID",u),nt(E,"CVER",22),this.G&&nt(E,"X-HTTP-Session-Id",this.G),$s(this,E),H&&(this.R?p="headers="+di(Jn(H))+"&"+p:this.u&&Ks(E,this.u,H)),Xo(this.h,L),this.Ra&&nt(E,"TYPE","init"),this.S?(nt(E,"$req",p),nt(E,"SID","null"),L.U=!0,q(L,E,null)):q(L,E,p),this.I=2}}else this.I==3&&(u?al(this,u):this.i.length==0||Yo(this.h)||al(this))};function al(u,p){var E;p?E=p.l:E=u.V++;const A=qt(u.J);nt(A,"SID",u.M),nt(A,"RID",E),nt(A,"AID",u.K),$s(u,A),u.u&&u.o&&Ks(A,u.u,u.o),E=new Pn(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Mu(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Xo(u.h,E),q(E,A,p)}function $s(u,p){u.H&&Ve(u.H,function(E,A){nt(p,A,E)}),u.l&&Ve({},function(E,A){nt(p,A,E)})}function Mu(u,p,E){E=Math.min(u.i.length,E);const A=u.l?_(u.l.Ka,u.l,u):null;e:{var L=u.i;let Ne=-1;for(;;){const Pt=["count="+E];Ne==-1?E>0?(Ne=L[0].g,Pt.push("ofs="+Ne)):Ne=0:Pt.push("ofs="+Ne);let Je=!0;for(let yt=0;yt<E;yt++){var H=L[yt].g;const Zn=L[yt].map;if(H-=Ne,H<0)Ne=Math.max(0,L[yt].g-100),Je=!1;else try{H="req"+H+"_"||"";try{var ie=Zn instanceof Map?Zn:Object.entries(Zn);for(const[Li,yi]of ie){let vi=yi;g(yi)&&(vi=Ci(yi)),Pt.push(H+Li+"="+encodeURIComponent(vi))}}catch(Li){throw Pt.push(H+"type="+encodeURIComponent("_badmap")),Li}}catch{A&&A(Zn)}}if(Je){ie=Pt.join("&");break e}}ie=void 0}return u=u.i.splice(0,E),p.G=u,ie}function Vu(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;Ge||x(),Me||(Ge(),Me=!0),D.add(p,u),u.A=0}}function Js(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Yn(_(u.Da,u),Uu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Yn(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),Kr(this),ju(this))};function ol(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function ju(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=qt(u.na);nt(p,"RID","rpc"),nt(p,"SID",u.M),nt(p,"AID",u.K),nt(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&nt(p,"TO",u.ia),nt(p,"TYPE","xmlhttp"),$s(u,p),u.u&&u.o&&Ks(p,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Fs(qt(p)),E.u=null,E.R=!0,R(E,u)}r.Va=function(){this.C!=null&&(this.C=null,Kr(this),Js(this),gt(19))};function La(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Pu(u,p){var E=null;if(u.g==p){La(u),ol(u),u.g=null;var A=2}else if(Di(u.h,p))E=p.G,$o(u.h,p),A=1;else return;if(u.I!=0){if(p.o)if(A==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var L=u.D;A=Lr(),Mt(A,new Vn(A,E)),Pi(u)}else Vu(u);else if(L=p.m,L==3||L==0&&p.X>0||!(A==1&&Ua(u,p)||A==2&&Js(u)))switch(E&&E.length>0&&(p=u.h,p.i=p.i.concat(E)),L){case 1:Ui(u,5);break;case 4:Ui(u,10);break;case 3:Ui(u,6);break;default:Ui(u,2)}}}function Uu(u,p){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*p}function Ui(u,p){if(u.j.info("Error code "+p),p==2){var E=_(u.bb,u),A=u.Ua;const L=!A;A=new Ln(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Wt(A,"https"),Fs(A),L?mi(A.toString(),E):nl(A.toString(),E)}else gt(2);u.I=0,u.l&&u.l.pa(p),Lu(u),Pa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Lu(u){if(u.I=0,u.ja=[],u.l){const p=Jo(u.h);(p.length!=0||u.i.length!=0)&&(W(u.ja,p),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function ku(u,p,E){var A=E instanceof Ln?qt(E):new Ln(E);if(A.g!="")p&&(A.g=p+"."+A.g),zr(A,A.u);else{var L=f.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const H=new Ln(null);A&&Wt(H,A),p&&(H.g=p),L&&zr(H,L),E&&(H.h=E),A=H}return E=u.G,p=u.wa,E&&p&&nt(A,E,p),nt(A,"VER",u.ka),$s(u,A),A}function zu(u,p,E){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new at(new Mi({ab:E})):new at(u.ma),p.Fa(u.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bu(){}r=Bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Yr(){}Yr.prototype.g=function(u,p){return new Tn(u,p)};function Tn(u,p){Et.call(this),this.g=new Qr(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!C(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new cr(this)}w(Tn,Et),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){sl(this.g)},Tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Ci(u),u=E);p.i.push(new jt(p.Ya++,u)),p.I==3&&Pi(p)},Tn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,Tn.Z.N.call(this)};function qu(u){$t.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const E in p){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(qu,$t);function Hu(){vn.call(this),this.status=1}w(Hu,vn);function cr(u){this.g=u}w(cr,Bu),cr.prototype.ra=function(){Mt(this.g,"a")},cr.prototype.qa=function(u){Mt(this.g,new qu(u))},cr.prototype.pa=function(u){Mt(this.g,new Hu)},cr.prototype.oa=function(){Mt(this.g,"b")},Yr.prototype.createWebChannel=Yr.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,WE=function(){return new Yr},ZE=function(){return Lr()},JE=bt,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,oh=ar,Hs.COMPLETE="complete",$E=Hs,le.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Xl=le,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,XE=at}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",Q_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=new Qm("@firebase/firestore");function go(){return ba.logLevel}function fe(r,...e){if(ba.logLevel<=qe.DEBUG){const n=e.map(ip);ba.debug(`Firestore (${zo}): ${r}`,...n)}}function Dr(r,...e){if(ba.logLevel<=qe.ERROR){const n=e.map(ip);ba.error(`Firestore (${zo}): ${r}`,...n)}}function No(r,...e){if(ba.logLevel<=qe.WARN){const n=e.map(ip);ba.warn(`Firestore (${zo}): ${r}`,...n)}}function ip(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,e2(r,s,n)}function e2(r,e,n){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Dr(s),new Error(s)}function et(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||e2(e,l,s)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(pn.UNAUTHENTICATED)))}shutdown(){}}class VR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class jR{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){et(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Cs,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Cs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string",31837,{l:s}),new t2(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class PR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class UR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new PR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class K_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LR{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){et(this.o===void 0,3512);const s=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const l=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new K_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new K_(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=kR(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=e.charAt(l[c]%62))}return s}}function He(r,e){return r<e?-1:r>e?1:0}function Rm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),c=e.charAt(s);if(l!==c)return um(l)===um(c)?He(l,c):um(l)?1:-1}return He(r.length,e.length)}const zR=55296,BR=57343;function um(r){const e=r.charCodeAt(0);return e>=zR&&e<=BR}function Do(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class Gi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const c=Gi.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return He(e.length,n.length)}static compareSegments(e,n){const s=Gi.isNumericId(e),l=Gi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Gi.extractNumericId(e).compare(Gi.extractNumericId(n)):Rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class ft extends Gi{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const qR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Gi{construct(e,n,s){return new hn(e,n,s)}static isValidIdentifier(e){return qR.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new hn([Y_])}static fromServerFormat(e){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(r,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function HR(r,e,n,s){if(e===!0&&s===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function X_(r){if(!_e.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $_(r){if(_e.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function i2(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function Yi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function Tu(r,e){if(!i2(r))throw new ue(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ue(J.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=-62135596800,Z_=1e6;class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Z_);return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<J_)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tu(e,pt._jsonSchema))return new pt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-J_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pt._jsonSchemaVersion="firestore/timestamp/1.0",pt._jsonSchema={type:Xt("string",pt._jsonSchemaVersion),seconds:Xt("number"),nanoseconds:Xt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new pt(0,0))}static max(){return new xe(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function FR(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new Ds(l,_e.empty(),e)}function GR(r){return new Ds(r.readTime,r.key,lu)}class Ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ds(xe.min(),_e.empty(),lu)}static max(){return new Ds(xe.max(),_e.empty(),lu)}}function QR(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:He(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==KR)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Z.reject(n)}static resolve(e){return new Z(((n,s)=>{n(e)}))}static reject(e){return new Z(((n,s)=>{s(e)}))}static waitFor(e){return new Z(((n,s)=>{let l=0,c=0,f=!1;e.forEach((g=>{++l,g.next((()=>{++c,f&&c===l&&n()}),(y=>s(y)))})),f=!0,c===l&&n()}))}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next((l=>l?Z.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,c)=>{s.push(n.call(this,l,c))})),this.waitFor(s)}static mapArray(e,n){return new Z(((s,l)=>{const c=e.length,f=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next((S=>{f[_]=S,++g,g===c&&s(f)}),(S=>l(S)))}}))}static doWhile(e,n){return new Z(((s,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):s()};c()}))}}function XR(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=-1;function Bh(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function $R(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="";function JR(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=W_(e)),e=ZR(r.get(n),e);return W_(e)}function ZR(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case r2:n+="";break;default:n+=c}}return n}function W_(r){return r+r2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ls(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function s2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,s,l,c){this.key=e,this.value=n,this.color=s??cn.RED,this.left=l??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,c){return new cn(e??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return cn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,l,c){return this}insert(e,n,s){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Zt(hn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new a2("Invalid base64 string: "+c):c}})(e);return new fn(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c})(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const WR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(r){if(et(!!r,39018),typeof r=="string"){let e=0;const n=WR.exec(r);if(et(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ms(r){return typeof r=="string"?fn.fromBase64String(r):fn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="server_timestamp",l2="__type__",u2="__previous_value__",c2="__local_write_time__";function ap(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[l2])==null?void 0:s.stringValue)===o2}function qh(r){const e=r.mapValue.fields[u2];return ap(e)?qh(e):e}function uu(r){const e=Os(r.mapValue.fields[c2].timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e,n,s,l,c,f,g,y,_,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const Sh="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="__type__",tx="__max__",Jc={mapValue:{}},f2="__vector__",Ah="value";function Vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ap(r)?4:ix(r)?9007199254740991:nx(r)?10:11:we(28295,{value:r})}function er(r,e){if(r===e)return!0;const n=Vs(r);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return uu(r).isEqual(uu(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Os(l.timestampValue),g=Os(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Ms(l.bytesValue).isEqual(Ms(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return kt(l.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(l.geoPointValue.longitude)===kt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return kt(l.integerValue)===kt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=kt(l.doubleValue),g=kt(c.doubleValue);return f===g?bh(f)===bh(g):isNaN(f)&&isNaN(g)}return!1})(r,e);case 9:return Do(r.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return(function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(e0(f)!==e0(g))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(g[y]===void 0||!er(f[y],g[y])))return!1;return!0})(r,e);default:return we(52216,{left:r})}}function hu(r,e){return(r.values||[]).find((n=>er(n,e)))!==void 0}function Oo(r,e){if(r===e)return 0;const n=Vs(r),s=Vs(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(r.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=kt(c.integerValue||c.doubleValue),y=kt(f.integerValue||f.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return n0(r.timestampValue,e.timestampValue);case 4:return n0(uu(r),uu(e));case 5:return Rm(r.stringValue,e.stringValue);case 6:return(function(c,f){const g=Ms(c),y=Ms(f);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),y=f.split("/");for(let _=0;_<g.length&&_<y.length;_++){const S=He(g[_],y[_]);if(S!==0)return S}return He(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=He(kt(c.latitude),kt(f.latitude));return g!==0?g:He(kt(c.longitude),kt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return i0(r.arrayValue,e.arrayValue);case 10:return(function(c,f){var M,G,W,ne;const g=c.fields||{},y=f.fields||{},_=(M=g[Ah])==null?void 0:M.arrayValue,S=(G=y[Ah])==null?void 0:G.arrayValue,w=He(((W=_==null?void 0:_.values)==null?void 0:W.length)||0,((ne=S==null?void 0:S.values)==null?void 0:ne.length)||0);return w!==0?w:i0(_,S)})(r.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Jc.mapValue&&f===Jc.mapValue)return 0;if(c===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=f.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let w=0;w<y.length&&w<S.length;++w){const M=Rm(y[w],S[w]);if(M!==0)return M;const G=Oo(g[y[w]],_[S[w]]);if(G!==0)return G}return He(y.length,S.length)})(r.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function n0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return He(r,e);const n=Os(r),s=Os(e),l=He(n.seconds,s.seconds);return l!==0?l:He(n.nanos,s.nanos)}function i0(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Oo(n[l],s[l]);if(c)return c}return He(n.length,s.length)}function Mo(r){return xm(r)}function xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=Os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Ms(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=xm(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${xm(n.fields[f])}`;return l+"}"})(r.mapValue):we(61005,{value:r})}function lh(r){switch(Vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(r);return e?16+lh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+lh(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return Ls(s.fields,((c,f)=>{l+=c.length+lh(f)})),l})(r.mapValue);default:throw we(13486,{value:r})}}function r0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Cm(r){return!!r&&"integerValue"in r}function op(r){return!!r&&"arrayValue"in r}function s0(r){return!!r&&"nullValue"in r}function a0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function uh(r){return!!r&&"mapValue"in r}function nx(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[h2])==null?void 0:s.stringValue)===f2}function nu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ls(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=nu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(r.arrayValue.values[n]);return e}return{...r}}function ix(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.value=e}static empty(){return new On({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!uh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=hn.emptyPath(),s={},l=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const y=this.getFieldsMap(n);this.applyChanges(y,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=nu(f):l.push(g.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(e){const n=this.field(e.popLast());uh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];uh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){Ls(n,((l,c)=>e[l]=c));for(const l of s)delete e[l]}clone(){return new On(nu(this.value))}}function d2(r){const e=[];return Ls(r.fields,((n,s)=>{const l=new hn([n]);if(uh(s)){const c=d2(s.mapValue).fields;if(c.length===0)e.push(l);else for(const f of c)e.push(l.child(f))}else e.push(l)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n,s,l,c,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new gn(e,0,xe.min(),xe.min(),xe.min(),On.empty(),0)}static newFoundDocument(e,n,s,l){return new gn(e,1,n,xe.min(),s,l,0)}static newNoDocument(e,n){return new gn(e,2,n,xe.min(),xe.min(),On.empty(),0)}static newUnknownDocument(e,n){return new gn(e,3,n,xe.min(),xe.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.position=e,this.inclusive=n}}function o0(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],f=r.position[l];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=Oo(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function l0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!er(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n="asc"){this.field=e,this.dir=n}}function rx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{}class Yt extends m2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new ax(e,n,s):n==="array-contains"?new ux(e,s):n==="in"?new cx(e,s):n==="not-in"?new hx(e,s):n==="array-contains-any"?new fx(e,s):new Yt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new ox(e,s):new lx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oo(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wi extends m2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new wi(e,n)}matches(e){return p2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function p2(r){return r.op==="and"}function g2(r){return sx(r)&&p2(r)}function sx(r){for(const e of r.filters)if(e instanceof wi)return!1;return!0}function Im(r){if(r instanceof Yt)return r.field.canonicalString()+r.op.toString()+Mo(r.value);if(g2(r))return r.filters.map((e=>Im(e))).join(",");{const e=r.filters.map((n=>Im(n))).join(",");return`${r.op}(${e})`}}function y2(r,e){return r instanceof Yt?(function(s,l){return l instanceof Yt&&s.op===l.op&&s.field.isEqual(l.field)&&er(s.value,l.value)})(r,e):r instanceof wi?(function(s,l){return l instanceof wi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,f,g)=>c&&y2(f,l.filters[g])),!0):!1})(r,e):void we(19439)}function v2(r){return r instanceof Yt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`})(r):r instanceof wi?(function(n){return n.op.toString()+" {"+n.getFilters().map(v2).join(" ,")+"}"})(r):"Filter"}class ax extends Yt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class ox extends Yt{constructor(e,n){super(e,"in",n),this.keys=_2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lx extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=_2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _2(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>_e.fromName(s.referenceValue)))}class ux extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return op(n)&&hu(n.arrayValue,this.value)}}class cx extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class hx extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class fx extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n=null,s=[],l=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function u0(r,e=null,n=[],s=[],l=null,c=null,f=null){return new dx(r,e,n,s,l,c,f)}function lp(r){const e=Ie(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Im(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Mo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Mo(s))).join(",")),e.Te=n}return e.Te}function up(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!rx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!y2(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!l0(r.startAt,e.startAt)&&l0(r.endAt,e.endAt)}function Nm(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n=null,s=[],l=[],c=null,f="F",g=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mx(r,e,n,s,l,c,f,g){return new bu(r,e,n,s,l,c,f,g)}function Hh(r){return new bu(r)}function c0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function E2(r){return r.collectionGroup!==null}function iu(r){const e=Ie(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Zt(hn.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Rh(c,s))})),n.has(hn.keyField().canonicalString())||e.Ie.push(new Rh(hn.keyField(),s))}return e.Ie}function Xi(r){const e=Ie(r);return e.Ee||(e.Ee=px(e,iu(r))),e.Ee}function px(r,e){if(r.limitType==="F")return u0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Rh(l.field,c)}));const n=r.endAt?new wh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new wh(r.startAt.position,r.startAt.inclusive):null;return u0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Dm(r,e){const n=r.filters.concat([e]);return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Om(r,e,n){return new bu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Fh(r,e){return up(Xi(r),Xi(e))&&r.limitType===e.limitType}function T2(r){return`${lp(Xi(r))}|lt:${r.limitType}`}function yo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>v2(l))).join(", ")}]`),Bh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>Mo(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>Mo(l))).join(",")),`Target(${s})`})(Xi(r))}; limitType=${r.limitType})`}function Gh(r,e){return e.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,e)&&(function(s,l){for(const c of iu(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(f,g,y){const _=o0(f,g,y);return f.inclusive?_<=0:_<0})(s.startAt,iu(s),l)||s.endAt&&!(function(f,g,y){const _=o0(f,g,y);return f.inclusive?_>=0:_>0})(s.endAt,iu(s),l))})(r,e)}function gx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function b2(r){return(e,n)=>{let s=!1;for(const l of iu(r)){const c=yx(l,e,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function yx(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,f,g){const y=f.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Oo(y,_):we(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,((n,s)=>{for(const[l,c]of s)e(l,c)}))}isEmpty(){return s2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=new wt(_e.comparator);function Or(){return vx}const S2=new wt(_e.comparator);function $l(...r){let e=S2;for(const n of r)e=e.insert(n.key,n);return e}function A2(r){let e=S2;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ga(){return ru()}function w2(){return ru()}function ru(){return new Aa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const _x=new wt(_e.comparator),Ex=new Zt(_e.comparator);function Fe(...r){let e=Ex;for(const n of r)e=e.add(n);return e}const Tx=new Zt(He);function bx(){return Tx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function R2(r){return{integerValue:""+r}}function x2(r,e){return $R(e)?R2(e):cp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function Sx(r,e,n){return r instanceof xh?(function(l,c){const f={fields:{[l2]:{stringValue:o2},[c2]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&ap(c)&&(c=qh(c)),c&&(f.fields[u2]=c),{mapValue:f}})(n,e):r instanceof fu?I2(r,e):r instanceof du?N2(r,e):(function(l,c){const f=C2(l,c),g=h0(f)+h0(l.Ae);return Cm(f)&&Cm(l.Ae)?R2(g):cp(l.serializer,g)})(r,e)}function Ax(r,e,n){return r instanceof fu?I2(r,e):r instanceof du?N2(r,e):n}function C2(r,e){return r instanceof mu?(function(s){return Cm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class xh extends Qh{}class fu extends Qh{constructor(e){super(),this.elements=e}}function I2(r,e){const n=D2(e);for(const s of r.elements)n.some((l=>er(l,s)))||n.push(s);return{arrayValue:{values:n}}}class du extends Qh{constructor(e){super(),this.elements=e}}function N2(r,e){let n=D2(e);for(const s of r.elements)n=n.filter((l=>!er(l,s)));return{arrayValue:{values:n}}}class mu extends Qh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function h0(r){return kt(r.integerValue||r.doubleValue)}function D2(r){return op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n){this.field=e,this.transform=n}}function Rx(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof fu&&l instanceof fu||s instanceof du&&l instanceof du?Do(s.elements,l.elements,er):s instanceof mu&&l instanceof mu?er(s.Ae,l.Ae):s instanceof xh&&l instanceof xh})(r.transform,e.transform)}class xx{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kh{}function O2(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new V2(r.key,$i.none()):new Su(r.key,r.data,$i.none());{const n=r.data,s=On.empty();let l=new Zt(hn.comparator);for(let c of e.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new ks(r.key,s,new Qn(l.toArray()),$i.none())}}function Cx(r,e,n){r instanceof Su?(function(l,c,f){const g=l.value.clone(),y=d0(l.fieldTransforms,c,f.transformResults);g.setAll(y),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):r instanceof ks?(function(l,c,f){if(!ch(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=d0(l.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(M2(l)),y.setAll(g),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(r,e,n):(function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function su(r,e,n,s){return r instanceof Su?(function(c,f,g,y){if(!ch(c.precondition,f))return g;const _=c.value.clone(),S=m0(c.fieldTransforms,y,f);return _.setAll(S),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(r,e,n,s):r instanceof ks?(function(c,f,g,y){if(!ch(c.precondition,f))return g;const _=m0(c.fieldTransforms,y,f),S=f.data;return S.setAll(M2(c)),S.setAll(_),f.convertToFoundDocument(f.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,n,s):(function(c,f,g){return ch(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(r,e,n)}function Ix(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=C2(s.transform,l||null);c!=null&&(n===null&&(n=On.empty()),n.set(s.field,c))}return n||null}function f0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Do(s,l,((c,f)=>Rx(c,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Su extends Kh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ks extends Kh{constructor(e,n,s,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function M2(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function d0(r,e,n){const s=new Map;et(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=e.data.field(c.field);s.set(c.field,Ax(f,g,n[l]))}return s}function m0(r,e,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,Sx(c,f,e))}return s}class V2 extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends Kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&Cx(c,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=su(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=w2();return this.mutations.forEach((l=>{const c=e.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const y=O2(f,g);y!==null&&s.set(l.key,y),f.isValidDocument()||f.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,((n,s)=>f0(n,s)))&&Do(this.baseMutations,e.baseMutations,((n,s)=>f0(n,s)))}}class hp{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){et(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return _x})();const c=e.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new hp(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,Ye;function Vx(r){switch(r){case J.OK:return we(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function j2(r){if(r===void 0)return Dr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Kt.OK:return J.OK;case Kt.CANCELLED:return J.CANCELLED;case Kt.UNKNOWN:return J.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return J.INTERNAL;case Kt.UNAVAILABLE:return J.UNAVAILABLE;case Kt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Kt.NOT_FOUND:return J.NOT_FOUND;case Kt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Kt.ABORTED:return J.ABORTED;case Kt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Kt.DATA_LOSS:return J.DATA_LOSS;default:return we(39323,{code:r})}}(Ye=Kt||(Kt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new xs([4294967295,4294967295],0);function p0(r){const e=jx().encode(r),n=new YE;return n.update(e),new Uint8Array(n.digest())}function g0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xs([n,s],0),new xs([l,c],0)]}class fp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Jl(`Invalid padding: ${n}`);if(s<0)throw new Jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xs.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(xs.fromNumber(s)));return l.compare(Px)===1&&(l=new xs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=p0(e),[s,l]=g0(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,l,c);if(!this.we(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new fp(c,l,n);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=p0(e),[s,l]=g0(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,l,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(xe.min(),l,new wt(He),Or(),Fe())}}class Au{constructor(e,n,s,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Au(s,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class P2{constructor(e,n){this.targetId=e,this.Ce=n}}class U2{constructor(e,n,s=fn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class y0{constructor(){this.ve=0,this.Fe=v0(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),n=Fe(),s=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:we(38017,{changeType:c})}})),new Au(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=v0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ux{constructor(e){this.Ge=e,this.ze=new Map,this.je=Or(),this.Je=Zc(),this.He=Zc(),this.Ye=new wt(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(Nm(c))if(s===0){const f=new _e(c.path);this.et(n,f,gn.newNoDocument(f,xe.min()))}else et(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),y=g?this.ct(g,e,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Ms(s).toUint8Array()}catch(y){if(y instanceof a2)return No("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new fp(f,l,c)}catch(y){return No(y instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&Nm(g.target)){const y=new _e(g.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,gn.newNoDocument(y,e))}c.Be&&(n.set(f,c.ke()),c.qe())}}));let s=Fe();this.He.forEach(((c,f)=>{let g=!0;f.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const l=new Yh(e,n,this.Ye,this.je,s);return this.je=Or(),this.Je=Zc(),this.He=Zc(),this.Ye=new wt(He),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new y0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new wt(_e.comparator)}function v0(){return new wt(_e.comparator)}const Lx={asc:"ASCENDING",desc:"DESCENDING"},kx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zx={and:"AND",or:"OR"};class Bx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mm(r,e){return r.useProto3Json||Bh(e)?e:{value:e}}function Ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qx(r,e){return Ch(r,e.toTimestamp())}function Ji(r){return et(!!r,49232),xe.fromTimestamp((function(n){const s=Os(n);return new pt(s.seconds,s.nanos)})(r))}function dp(r,e){return Vm(r,e).canonicalString()}function Vm(r,e){const n=(function(l){return new ft(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function k2(r){const e=ft.fromString(r);return et(F2(e),10190,{key:e.toString()}),e}function jm(r,e){return dp(r.databaseId,e.path)}function cm(r,e){const n=k2(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(B2(n))}function z2(r,e){return dp(r.databaseId,e)}function Hx(r){const e=k2(r);return e.length===4?ft.emptyPath():B2(e)}function Pm(r){return new ft(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function B2(r){return et(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _0(r,e,n){return{name:jm(r,e),fields:n.value.mapValue.fields}}function Fx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(et(S===void 0||typeof S=="string",58123),fn.fromBase64String(S||"")):(et(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),fn.fromUint8Array(S||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(_){const S=_.code===void 0?J.UNKNOWN:j2(_.code);return new ue(S,_.message||"")})(f);n=new U2(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=cm(r,s.document.name),c=Ji(s.document.updateTime),f=s.document.createTime?Ji(s.document.createTime):xe.min(),g=new On({mapValue:{fields:s.document.fields}}),y=gn.newFoundDocument(l,c,f,g),_=s.targetIds||[],S=s.removedTargetIds||[];n=new hh(_,S,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=cm(r,s.document),c=s.readTime?Ji(s.readTime):xe.min(),f=gn.newNoDocument(l,c),g=s.removedTargetIds||[];n=new hh([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=cm(r,s.document),c=s.removedTargetIds||[];n=new hh([],c,l,null)}else{if(!("filter"in e))return we(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new Mx(l,c),g=s.targetId;n=new P2(g,f)}}return n}function Gx(r,e){let n;if(e instanceof Su)n={update:_0(r,e.key,e.value)};else if(e instanceof V2)n={delete:jm(r,e.key)};else if(e instanceof ks)n={update:_0(r,e.key,e.data),updateMask:eC(e.fieldMask)};else{if(!(e instanceof Nx))return we(16599,{Vt:e.type});n={verify:jm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,f){const g=f.transform;if(g instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof fu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof du)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mu)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw we(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:qx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(r,e.precondition)),n}function Qx(r,e){return r&&r.length>0?(et(e!==void 0,14353),r.map((n=>(function(l,c){let f=l.updateTime?Ji(l.updateTime):Ji(c);return f.isEqual(xe.min())&&(f=Ji(c)),new xx(f,l.transformResults||[])})(n,e)))):[]}function Kx(r,e){return{documents:[z2(r,e.path)]}}function Yx(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=z2(r,l);const c=(function(_){if(_.length!==0)return H2(wi.create(_,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(_){if(_.length!==0)return _.map((S=>(function(M){return{field:vo(M.field),direction:Jx(M.dir)}})(S)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Mm(r,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:l}}function Xx(r){let e=Hx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){et(s===1,65062);const S=n.from[0];S.allDescendants?l=S.collectionId:e=e.child(S.collectionId)}let c=[];n.where&&(c=(function(w){const M=q2(w);return M instanceof wi&&g2(M)?M.getFilters():[M]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((M=>(function(W){return new Rh(_o(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(n.orderBy));let g=null;n.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,Bh(M)?null:M})(n.limit));let y=null;n.startAt&&(y=(function(w){const M=!!w.before,G=w.values||[];return new wh(G,M)})(n.startAt));let _=null;return n.endAt&&(_=(function(w){const M=!w.before,G=w.values||[];return new wh(G,M)})(n.endAt)),mx(e,l,f,c,g,"F",y,_)}function $x(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function q2(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=_o(n.unaryFilter.field);return Yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=_o(n.unaryFilter.field);return Yt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=_o(n.unaryFilter.field);return Yt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=_o(n.unaryFilter.field);return Yt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Yt.create(_o(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return wi.create(n.compositeFilter.filters.map((s=>q2(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(r):we(30097,{filter:r})}function Jx(r){return Lx[r]}function Zx(r){return kx[r]}function Wx(r){return zx[r]}function vo(r){return{fieldPath:r.canonicalString()}}function _o(r){return hn.fromServerFormat(r.fieldPath)}function H2(r){return r instanceof Yt?(function(n){if(n.op==="=="){if(a0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NAN"}};if(s0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(a0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NAN"}};if(s0(n.value))return{unaryFilter:{field:vo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(n.field),op:Zx(n.op),value:n.value}}})(r):r instanceof wi?(function(n){const s=n.getFilters().map((l=>H2(l)));return s.length===1?s[0]:{compositeFilter:{op:Wx(n.op),filters:s}}})(r):we(54877,{filter:r})}function eC(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function F2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n,s,l,c=xe.min(),f=xe.min(),g=fn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e){this.yt=e}}function nC(r){const e=Xx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(){this.Cn=new rC}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Ds.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Ds.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class rC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Zt(ft.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Zt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G2=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(G2,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vo(0)}static cr(){return new Vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LruGarbageCollector",sC=1048576;function b0([r,e],[n,s]){const l=He(r,n);return l===0?He(e,s):l}class aC{constructor(e){this.Ir=e,this.buffer=new Zt(b0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();b0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(T0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?fe(T0,"Ignoring IndexedDB error during garbage collection: ",n):await Bo(n)}await this.Vr(3e5)}))}}class lC{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(zh.ce);const s=new aC(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(E0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,c,f,g,y,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,f=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(s=w,g=Date.now(),this.removeTargets(e,s,n)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(_=Date.now(),go()<=qe.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-S}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function uC(r,e){return new lC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.changes=new Aa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&su(s.mutation,l,Qn.empty(),pt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Fe()){const l=ga();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((c=>{let f=$l();return c.forEach(((g,y)=>{f=f.insert(g,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ga();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Fe())))}populateOverlays(e,n,s){const l=[];return s.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,s,l){let c=Or();const f=ru(),g=(function(){return ru()})();return n.forEach(((y,_)=>{const S=s.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof ks)?c=c.insert(_.key,_):S!==void 0?(f.set(_.key,S.mutation.getFieldMask()),su(S.mutation,_,S.mutation.getFieldMask(),pt.now())):f.set(_.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,S)=>f.set(_,S))),n.forEach(((_,S)=>g.set(_,new hC(S,f.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=ru();let l=new wt(((f,g)=>f-g)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let S=s.get(y)||Qn.empty();S=g.applyToLocalView(_,S),s.set(y,S);const w=(l.get(g.batchId)||Fe()).add(y);l=l.insert(g.batchId,w)}))})).next((()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,S=y.value,w=w2();S.forEach((M=>{if(!c.has(M)){const G=O2(n.get(M),s.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,w))}return Z.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):E2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-c.size):Z.resolve(ga());let g=lu,y=c;return f.next((_=>Z.forEach(_,((S,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(e,S).next((M=>{y=y.insert(S,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,Fe()))).next((S=>({batchId:g,changes:A2(S)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let l=$l();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const c=n.collectionGroup;let f=$l();return this.indexManager.getCollectionParents(e,c).next((g=>Z.forEach(g,(y=>{const _=(function(w,M){return new bu(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,l).next((S=>{S.forEach(((w,M)=>{f=f.insert(w,M)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,l)))).next((f=>{c.forEach(((y,_)=>{const S=_.getKey();f.get(S)===null&&(f=f.insert(S,gn.newInvalidDocument(S)))}));let g=$l();return f.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&su(S.mutation,_,Qn.empty(),pt.now()),Gh(n,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Ji(l.createTime)}})(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:nC(l.bundledQuery),readTime:Ji(l.readTime)}})(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.overlays=new wt(_e.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ga();return Z.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,c)=>{this.St(e,n,c)})),Z.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const l=ga(),c=n.length+1,f=new _e(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let c=new wt(((_,S)=>_-S));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let S=c.get(_.largestBatchId);S===null&&(S=ga(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=ga(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=l)););return Z.resolve(g)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Ox(n,s));let c=this.qr.get(n);c===void 0&&(c=Fe(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.Qr=new Zt(nn.$r),this.Ur=new Zt(nn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new nn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new nn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new ft([])),s=new nn(n,e),l=new nn(n,e+1),c=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),c.push(f.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new ft([])),s=new nn(n,e),l=new nn(n,e+1);let c=Fe();return this.Ur.forEachInRange([s,l],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new nn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class nn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(nn.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Dx(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Zr=this.Zr.add(new nn(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?sp:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new nn(n,0),l=new nn(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(f=>{const g=this.Xr(f.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Zt(He);return n.forEach((l=>{const c=new nn(l,0),f=new nn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],(g=>{s=s.add(g.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const f=new nn(new _e(c),0);let g=new Zt(He);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),f),Z.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){et(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(n.mutations,(l=>{const c=new nn(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new nn(n,0),l=this.Zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.ri=e,this.docs=(function(){return new wt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():gn.newInvalidDocument(n))}getEntries(e,n){let s=Or();return n.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():gn.newInvalidDocument(l))})),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let c=Or();const f=n.path,g=new _e(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||QR(GR(S),s)<=0||(l.has(S.key)||Gh(n,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,n,s,l){we(9500)}ii(e,n){return Z.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new vC(this)}getSize(e){return Z.resolve(this.size)}}class vC extends cC{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.persistence=e,this.si=new Aa((n=>lp(n)),up),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new mp,this.targetCount=0,this.ai=Vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let l=0;const c=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((f=>{c.push(l.markPotentiallyOrphaned(e,f))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.ui={},this.overlays={},this.ci=new zh(0),this.li=!1,this.li=!0,this.hi=new pC,this.referenceDelegate=e(this),this.Pi=new _C(this),this.indexManager=new iC,this.remoteDocumentCache=(function(l){return new yC(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new tC(n),this.Ii=new dC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new gC(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const l=new EC(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class EC extends YR{constructor(e){super(),this.currentSequenceNumber=e}}class pp{constructor(e){this.persistence=e,this.Ri=new mp,this.Vi=null}static mi(e){return new pp(e)}get fi(){if(this.Vi)return this.Vi;throw we(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const l=_e.fromPath(s);return this.gi(e,l).next((c=>{c||n.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new Aa((s=>JR(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=uC(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return Z.forEach(this.pi,((s,l)=>this.br(e,s,l).next((c=>c?Z.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((g=>{g||(s++,c.removeEntry(f,xe.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lh(e.data.value)),n}br(e,n,s){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return Z.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Fe(),l=Fe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new gp(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Yb()?8:XR(yn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const c={result:null};return this.ys(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ws(e,n,l,s).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new TC;return this.Ss(e,n,f).next((g=>{if(c.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>c.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(go()<=qe.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",yo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(go()<=qe.DEBUG&&fe("QueryEngine","Query:",yo(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(go()<=qe.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",yo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(n))):Z.resolve())}ys(e,n){if(c0(n))return Z.resolve(null);let s=Xi(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Om(n,null,"F"),s=Xi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const f=Fe(...c);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((y=>{const _=this.Ds(n,g);return this.Cs(n,_,f,y.readTime)?this.ys(e,Om(n,null,"F")):this.vs(e,_,n,y)}))))})))))}ws(e,n,s,l){return c0(n)||l.isEqual(xe.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((c=>{const f=this.Ds(n,c);return this.Cs(n,f,s,l)?Z.resolve(null):(go()<=qe.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),yo(n)),this.vs(e,f,n,FR(l,lu)).next((g=>g)))}))}Ds(e,n){let s=new Zt(b2(e));return n.forEach(((l,c)=>{Gh(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,s){return go()<=qe.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",yo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ds.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="LocalStore",SC=3e8;class AC{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new wt(He),this.xs=new Aa((c=>lp(c)),up),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function wC(r,e,n,s){return new AC(r,e,n,s)}async function K2(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const f=[],g=[];let y=Fe();for(const _ of l){f.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return n.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function RC(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,S){const w=_.batch,M=w.keys();let G=Z.resolve();return M.forEach((W=>{G=G.next((()=>S.getEntry(y,W))).next((ne=>{const ee=_.docVersions.get(W);et(ee!==null,48541),ne.version.compareTo(ee)<0&&(w.applyToRemoteDocument(ne,_),ne.isValidDocument()&&(ne.setReadTime(_.commitVersion),S.addEntry(ne)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(y,w)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Fe();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function Y2(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function xC(r,e){const n=Ie(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];e.targetChanges.forEach(((S,w)=>{const M=l.get(w);if(!M)return;g.push(n.Pi.removeMatchingKeys(c,S.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(c,S.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(fn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,s)),l=l.insert(w,G),(function(ne,ee,te){return ne.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=SC?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(M,G,S)&&g.push(n.Pi.updateTargetData(c,G))}));let y=Or(),_=Fe();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(CC(c,f,e.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!s.isEqual(xe.min())){const S=n.Pi.getLastRemoteSnapshotVersion(c).next((w=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(S)}return Z.waitFor(g).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(n.Ms=l,c)))}function CC(r,e,n){let s=Fe(),l=Fe();return n.forEach((c=>s=s.add(c))),e.getEntries(r,s).next((c=>{let f=Or();return n.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(xe.min())?(e.removeEntry(g,y.readTime),f=f.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),f=f.insert(g,y)):fe(yp,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:f,qs:l}}))}function IC(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=sp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function NC(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((c=>c?(l=c,Z.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new Ss(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Um(r,e,n){const s=Ie(r),l=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!qo(f))throw f;fe(yp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function S0(r,e,n){const s=Ie(r);let l=xe.min(),c=Fe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,_,S){const w=Ie(y),M=w.xs.get(S);return M!==void 0?Z.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,S)})(s,f,Xi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?l:xe.min(),n?c:Fe()))).next((g=>(DC(s,gx(e),g),{documents:g,Qs:c})))))}function DC(r,e,n){let s=r.Os.get(e)||xe.min();n.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(e,s)}class A0{constructor(){this.activeTargetIds=bx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OC{constructor(){this.Mo=new A0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new A0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0="ConnectivityMonitor";class R0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(w0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(w0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Lm(){return Wc===null?Wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",VC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,c){const f=Lm(),g=this.zo(e,n.toUriEncodedString());fe(hm,`Sending RPC '${e}' ${f}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),S=Uo(_);return this.Jo(e,g,y,s,S).then((w=>(fe(hm,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw No(hm,`RPC '${e}' ${f} failed with error: `,w,"url: ",g,"request:",s),w}))}Ho(e,n,s,l,c,f){return this.Go(e,n,s,l,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),s&&s.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const s=VC[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class UC extends jC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,c){const f=Lm();return new Promise(((g,y)=>{const _=new XE;_.setWithCredentials(!0),_.listenOnce($E.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case oh.NO_ERROR:const w=_.getResponseJson();fe(mn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),g(w);break;case oh.TIMEOUT:fe(mn,`RPC '${e}' ${f} timed out`),y(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const M=_.getStatus();if(fe(mn,`RPC '${e}' ${f} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G==null?void 0:G.error;if(W&&W.status&&W.message){const ne=(function(te){const Ee=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ee)>=0?Ee:J.UNKNOWN})(W.status);y(new ue(ne,W.message))}else y(new ue(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ue(J.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{fe(mn,`RPC '${e}' ${f} completed.`)}}));const S=JSON.stringify(l);fe(mn,`RPC '${e}' ${f} sending request:`,l),_.send(n,"POST",S,s,15)}))}T_(e,n,s){const l=Lm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=WE(),g=ZE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const S=c.join("");fe(mn,`Creating RPC '${e}' stream ${l}: ${S}`,y);const w=f.createWebChannel(S,y);this.I_(w);let M=!1,G=!1;const W=new PC({Yo:ee=>{G?fe(mn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(M||(fe(mn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),M=!0),fe(mn,`RPC '${e}' stream ${l} sending:`,ee),w.send(ee))},Zo:()=>w.close()}),ne=(ee,te,Ee)=>{ee.listen(te,(de=>{try{Ee(de)}catch(Ue){setTimeout((()=>{throw Ue}),0)}}))};return ne(w,Xl.EventType.OPEN,(()=>{G||(fe(mn,`RPC '${e}' stream ${l} transport opened.`),W.o_())})),ne(w,Xl.EventType.CLOSE,(()=>{G||(G=!0,fe(mn,`RPC '${e}' stream ${l} transport closed`),W.a_(),this.E_(w))})),ne(w,Xl.EventType.ERROR,(ee=>{G||(G=!0,No(mn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),W.a_(new ue(J.UNAVAILABLE,"The operation could not be completed")))})),ne(w,Xl.EventType.MESSAGE,(ee=>{var te;if(!G){const Ee=ee.data[0];et(!!Ee,16349);const de=Ee,Ue=(de==null?void 0:de.error)||((te=de[0])==null?void 0:te.error);if(Ue){fe(mn,`RPC '${e}' stream ${l} received error:`,Ue);const Ge=Ue.status;let Me=(function(I){const b=Kt[I];if(b!==void 0)return j2(b)})(Ge),D=Ue.message;Me===void 0&&(Me=J.INTERNAL,D="Unknown error status: "+Ge+" with message "+Ue.message),G=!0,W.a_(new ue(Me,D)),w.close()}else fe(mn,`RPC '${e}' stream ${l} received:`,Ee),W.u_(Ee)}})),ne(g,JE.STAT_EVENT,(ee=>{ee.stat===wm.PROXY?fe(mn,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===wm.NOPROXY&&fe(mn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(r){return new Bx(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,s=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&fe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="PersistentStream";class $2{constructor(e,n,s,l,c,f,g,y){this.Mi=e,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new ue(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(x0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(x0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LC extends $2{constructor(e,n,s,l,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Fx(this.serializer,e),s=(function(c){if(!("targetChange"in c))return xe.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?Ji(f.readTime):xe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Pm(this.serializer),n.addTarget=(function(c,f){let g;const y=f.target;if(g=Nm(y)?{documents:Kx(c,y)}:{query:Yx(c,y).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=L2(c,f.resumeToken);const _=Mm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(xe.min())>0){g.readTime=Ch(c,f.snapshotVersion.toTimestamp());const _=Mm(c,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const s=$x(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.q_(n)}}class kC extends $2{constructor(e,n,s,l,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Qx(e.writeResults,e.commitTime),s=Ji(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Pm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Gx(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{}class BC extends zC{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Go(e,Vm(n,s),l,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(J.UNKNOWN,c.toString())}))}Ho(e,n,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Vm(n,s),l,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class HC{constructor(e,n,s,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{wa(this)&&(fe(Sa,"Restarting streams for network reachability change."),await(async function(y){const _=Ie(y);_.Ea.add(4),await wu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await $h(_)})(this))}))})),this.Ra=new qC(s,l)}}async function $h(r){if(wa(r))for(const e of r.da)await e(!0)}async function wu(r){for(const e of r.da)await e(!1)}function J2(r,e){const n=Ie(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Tp(n)?Ep(n):Ho(n).O_()&&_p(n,e))}function vp(r,e){const n=Ie(r),s=Ho(n);n.Ia.delete(e),s.O_()&&Z2(n,e),n.Ia.size===0&&(s.O_()?s.L_():wa(n)&&n.Ra.set("Unknown"))}function _p(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(r).Y_(e)}function Z2(r,e){r.Va.Ue(e),Ho(r).Z_(e)}function Ep(r){r.Va=new Ux({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ho(r).start(),r.Ra.ua()}function Tp(r){return wa(r)&&!Ho(r).x_()&&r.Ia.size>0}function wa(r){return Ie(r).Ea.size===0}function W2(r){r.Va=void 0}async function FC(r){r.Ra.set("Online")}async function GC(r){r.Ia.forEach(((e,n)=>{_p(r,e)}))}async function QC(r,e){W2(r),Tp(r)?(r.Ra.ha(e),Ep(r)):r.Ra.set("Unknown")}async function KC(r,e,n){if(r.Ra.set("Online"),e instanceof U2&&e.state===2&&e.cause)try{await(async function(l,c){const f=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.Ia.delete(g),l.Va.removeTarget(g))})(r,e)}catch(s){fe(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(r,s)}else if(e instanceof hh?r.Va.Ze(e):e instanceof P2?r.Va.st(e):r.Va.tt(e),!n.isEqual(xe.min()))try{const s=await Y2(r.localStore);n.compareTo(s)>=0&&await(function(c,f){const g=c.Va.Tt(f);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,f))}})),g.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(fn.EMPTY_BYTE_STRING,S.snapshotVersion)),Z2(c,y);const w=new Ss(S.target,y,_,S.sequenceNumber);_p(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,n)}catch(s){fe(Sa,"Failed to raise snapshot:",s),await Nh(r,s)}}async function Nh(r,e,n){if(!qo(e))throw e;r.Ea.add(1),await wu(r),r.Ra.set("Offline"),n||(n=()=>Y2(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe(Sa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await $h(r)}))}function e1(r,e){return e().catch((n=>Nh(r,n,e)))}async function Jh(r){const e=Ie(r),n=js(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:sp;for(;YC(e);)try{const l=await IC(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,XC(e,l)}catch(l){await Nh(e,l)}t1(e)&&n1(e)}function YC(r){return wa(r)&&r.Ta.length<10}function XC(r,e){r.Ta.push(e);const n=js(r);n.O_()&&n.X_&&n.ea(e.mutations)}function t1(r){return wa(r)&&!js(r).x_()&&r.Ta.length>0}function n1(r){js(r).start()}async function $C(r){js(r).ra()}async function JC(r){const e=js(r);for(const n of r.Ta)e.ea(n.mutations)}async function ZC(r,e,n){const s=r.Ta.shift(),l=hp.from(s,e,n);await e1(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Jh(r)}async function WC(r,e){e&&js(r).X_&&await(async function(s,l){if((function(f){return Vx(f)&&f!==J.ABORTED})(l.code)){const c=s.Ta.shift();js(s).B_(),await e1(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Jh(s)}})(r,e),t1(r)&&n1(r)}async function C0(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),fe(Sa,"RemoteStore received new credentials");const s=wa(n);n.Ea.add(3),await wu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $h(n)}async function eI(r,e){const n=Ie(r);e?(n.Ea.delete(2),await $h(n)):e||(n.Ea.add(2),await wu(n),n.Ra.set("Unknown"))}function Ho(r){return r.ma||(r.ma=(function(n,s,l){const c=Ie(n);return c.sa(),new LC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:FC.bind(null,r),t_:GC.bind(null,r),r_:QC.bind(null,r),H_:KC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Tp(r)?Ep(r):r.Ra.set("Unknown")):(await r.ma.stop(),W2(r))}))),r.ma}function js(r){return r.fa||(r.fa=(function(n,s,l){const c=Ie(n);return c.sa(),new kC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$C.bind(null,r),r_:WC.bind(null,r),ta:JC.bind(null,r),na:ZC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Jh(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(Sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n,s,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,c){const f=Date.now()+s,g=new bp(e,n,f,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(r,e){if(Dr("AsyncQueue",`${e}: ${r}`),qo(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=$l(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.ga=new wt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class jo{constructor(e,n,s,l,c,f,g,y,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,l,c){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new jo(e,n,wo.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nI{constructor(){this.queries=N0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Ie(n),c=l.queries;l.queries=N0(),c.forEach(((f,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function N0(){return new Aa((r=>T2(r)),Fh)}async function i1(r,e){const n=Ie(r);let s=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(s=2):(c=new tI,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Sp(f,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Ap(n)}async function r1(r,e){const n=Ie(r),s=e.query;let l=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function iI(r,e){const n=Ie(r);let s=!1;for(const l of e){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.Sa)g.Fa(l)&&(s=!0);f.wa=l}}s&&Ap(n)}function rI(r,e,n){const s=Ie(r),l=s.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(e)}function Ap(r){r.Ca.forEach((e=>{e.next()}))}var km,D0;(D0=km||(km={})).Ma="default",D0.Cache="cache";class s1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new jo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.key=e}}class o1{constructor(e){this.key=e}}class sI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=b2(e),this.tu=new wo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new I0,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((S,w)=>{const M=l.get(S),G=Gh(this.query,w)?w:null,W=!!M&&this.mutatedKeys.has(M.key),ne=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ee=!1;M&&G?M.data.isEqual(G.data)?W!==ne&&(s.track({type:3,doc:G}),ee=!0):this.su(M,G)||(s.track({type:2,doc:G}),ee=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(g=!0)):!M&&G?(s.track({type:0,doc:G}),ee=!0):M&&!G&&(s.track({type:1,doc:M}),ee=!0,(y||_)&&(g=!0)),ee&&(G?(f=f.add(G),c=ne?c.add(S):c.delete(S)):(f=f.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const S=this.query.limitType==="F"?f.last():f.first();f=f.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{tu:f,iu:s,Cs:g,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((S,w)=>(function(G,W){const ne=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Rt:ee})}};return ne(G)-ne(W)})(S.type,w.type)||this.eu(S.doc,w.doc))),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,f.length!==0||_?{snapshot:new jo(this.query,e.tu,c,f,e.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new I0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new o1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new a1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wp="SyncEngine";class aI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oI{constructor(e){this.key=e,this.hu=!1}}class lI{constructor(e,n,s,l,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Aa((g=>T2(g)),Fh),this.Iu=new Map,this.Eu=new Set,this.du=new wt(_e.comparator),this.Au=new Map,this.Ru=new mp,this.Vu={},this.mu=new Map,this.fu=Vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uI(r,e,n=!0){const s=d1(r);let l;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await l1(s,e,n,!0),l}async function cI(r,e){const n=d1(r);await l1(n,e,!0,!1)}async function l1(r,e,n,s){const l=await NC(r.localStore,Xi(e)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await hI(r,e,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&J2(r.remoteStore,l),g}async function hI(r,e,n,s,l){r.pu=(w,M,G)=>(async function(ne,ee,te,Ee){let de=ee.view.ru(te);de.Cs&&(de=await S0(ne.localStore,ee.query,!1).then((({documents:D})=>ee.view.ru(D,de))));const Ue=Ee&&Ee.targetChanges.get(ee.targetId),Ge=Ee&&Ee.targetMismatches.get(ee.targetId)!=null,Me=ee.view.applyChanges(de,ne.isPrimaryClient,Ue,Ge);return M0(ne,ee.targetId,Me.au),Me.snapshot})(r,w,M,G);const c=await S0(r.localStore,e,!0),f=new sI(e,c.Qs),g=f.ru(c.documents),y=Au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=f.applyChanges(g,r.isPrimaryClient,y);M0(r,n,_.au);const S=new aI(e,n,f);return r.Tu.set(e,S),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),_.snapshot}async function fI(r,e,n){const s=Ie(r),l=s.Tu.get(e),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((f=>!Fh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Um(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&vp(s.remoteStore,l.targetId),zm(s,l.targetId)})).catch(Bo)):(zm(s,l.targetId),await Um(s.localStore,l.targetId,!0))}async function dI(r,e){const n=Ie(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vp(n.remoteStore,s.targetId))}async function mI(r,e,n){const s=TI(r);try{const l=await(function(f,g){const y=Ie(f),_=pt.now(),S=g.reduce(((G,W)=>G.add(W.key)),Fe());let w,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=Or(),ne=Fe();return y.Ns.getEntries(G,S).next((ee=>{W=ee,W.forEach(((te,Ee)=>{Ee.isValidDocument()||(ne=ne.add(te))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,W))).next((ee=>{w=ee;const te=[];for(const Ee of g){const de=Ix(Ee,w.get(Ee.key).overlayedDocument);de!=null&&te.push(new ks(Ee.key,de,d2(de.value.mapValue),$i.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,te,g)})).next((ee=>{M=ee;const te=ee.applyToLocalDocumentSet(w,ne);return y.documentOverlayCache.saveOverlays(G,ee.batchId,te)}))})).then((()=>({batchId:M.batchId,changes:A2(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,g,y){let _=f.Vu[f.currentUser.toKey()];_||(_=new wt(He)),_=_.insert(g,y),f.Vu[f.currentUser.toKey()]=_})(s,l.batchId,n),await Ru(s,l.changes),await Jh(s.remoteStore)}catch(l){const c=Sp(l,"Failed to persist write");n.reject(c)}}async function u1(r,e){const n=Ie(r);try{const s=await xC(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const f=n.Au.get(c);f&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?et(f.hu,14607):l.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await Ru(n,s,e)}catch(s){await Bo(s)}}function O0(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(f,g){const y=Ie(f);y.onlineState=g;let _=!1;y.queries.forEach(((S,w)=>{for(const M of w.Sa)M.va(g)&&(_=!0)})),_&&Ap(y)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pI(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),c=l&&l.key;if(c){let f=new wt(_e.comparator);f=f.insert(c,gn.newNoDocument(c,xe.min()));const g=Fe().add(c),y=new Yh(xe.min(),new Map,new wt(He),f,g);await u1(s,y),s.du=s.du.remove(c),s.Au.delete(e),Rp(s)}else await Um(s.localStore,e,!1).then((()=>zm(s,e,n))).catch(Bo)}async function gI(r,e){const n=Ie(r),s=e.batch.batchId;try{const l=await RC(n.localStore,e);h1(n,s,null),c1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,l)}catch(l){await Bo(l)}}async function yI(r,e,n){const s=Ie(r);try{const l=await(function(f,g){const y=Ie(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,g).next((w=>(et(w!==null,37113),S=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(s.localStore,e);h1(s,e,n),c1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ru(s,l)}catch(l){await Bo(l)}}function c1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function h1(r,e,n){const s=Ie(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function zm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||f1(r,s)}))}function f1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(vp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Rp(r))}function M0(r,e,n){for(const s of n)s instanceof a1?(r.Ru.addReference(s.key,e),vI(r,s)):s instanceof o1?(fe(wp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||f1(r,s.key)):we(19791,{wu:s})}function vI(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(fe(wp,"New document in limbo: "+n),r.Eu.add(s),Rp(r))}function Rp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(ft.fromString(e)),s=r.fu.next();r.Au.set(s,new oI(n)),r.du=r.du.insert(n,s),J2(r.remoteStore,new Ss(Xi(Hh(n.path)),s,"TargetPurposeLimboResolution",zh.ce))}}async function Ru(r,e,n){const s=Ie(r),l=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{f.push(s.pu(y,e,n).then((_=>{var S;if((_||n)&&s.isPrimaryClient){const w=_?!_.fromCache:(S=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:S.current;s.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(_){l.push(_);const w=gp.As(y.targetId,_);c.push(w)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(y,_){const S=Ie(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(M=>Z.forEach(M.Es,(G=>S.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>Z.forEach(M.ds,(G=>S.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!qo(w))throw w;fe(yp,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const G=S.Ms.get(M),W=G.snapshotVersion,ne=G.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(M,ne)}}})(s.localStore,c))}async function _I(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){fe(wp,"User change. New user:",e.toKey());const s=await K2(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ue(J.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.Ls)}}function EI(r,e){const n=Ie(r),s=n.Au.get(e);if(s&&s.hu)return Fe().add(s.key);{let l=Fe();const c=n.Iu.get(e);if(!c)return l;for(const f of c){const g=n.Tu.get(f);l=l.unionWith(g.view.nu)}return l}}function d1(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=u1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pI.bind(null,e),e.Pu.H_=iI.bind(null,e.eventManager),e.Pu.yu=rI.bind(null,e.eventManager),e}function TI(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wC(this.persistence,new bC,e.initialUser,this.serializer)}Cu(e){return new Q2(pp.mi,this.serializer)}Du(e){return new OC}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class bI extends Dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){et(this.persistence.referenceDelegate instanceof Ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oC(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new Q2((s=>Ih.mi(s,n)),this.serializer)}}class Bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>O0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_I.bind(null,this.syncEngine),await eI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nI})()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),s=(function(c){return new UC(c)})(e.databaseInfo);return(function(c,f,g,y){return new BC(c,f,g,y)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,c,f,g){return new HC(s,l,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>O0(this.syncEngine,n,0)),(function(){return R0.v()?new R0:new MC})())}createSyncEngine(e,n){return(function(l,c,f,g,y,_,S){const w=new lI(l,c,f,g,y,_);return S&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const c=Ie(l);fe(Sa,"RemoteStore shutting down."),c.Ea.add(5),await wu(c),c.Aa.shutdown(),c.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Bm.provider={build:()=>new Bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class SI{constructor(e,n,s,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=pn.UNAUTHENTICATED,this.clientId=rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async f=>{fe(Ps,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(Ps,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Sp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function dm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(Ps,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await K2(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function V0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await AI(r);fe(Ps,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>C0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>C0(e.remoteStore,l))),r._onlineComponents=e}async function AI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(Ps,"Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new Dh)}}else fe(Ps,"Using default OfflineComponentProvider"),await dm(r,new bI(void 0));return r._offlineComponents}async function p1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(Ps,"Using user provided OnlineComponentProvider"),await V0(r,r._uninitializedComponentsProvider._online)):(fe(Ps,"Using default OnlineComponentProvider"),await V0(r,new Bm))),r._onlineComponents}function wI(r){return p1(r).then((e=>e.syncEngine))}async function qm(r){const e=await p1(r),n=e.eventManager;return n.onListen=uI.bind(null,e.syncEngine),n.onUnlisten=fI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dI.bind(null,e.syncEngine),n}function RI(r,e,n={}){const s=new Cs;return r.asyncQueue.enqueueAndForget((async()=>(function(c,f,g,y,_){const S=new m1({next:M=>{S.Nu(),f.enqueueAndForget((()=>r1(c,w)));const G=M.docs.has(g);!G&&M.fromCache?_.reject(new ue(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&y&&y.source==="server"?_.reject(new ue(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new s1(Hh(g.path),S,{includeMetadataChanges:!0,qa:!0});return i1(c,w)})(await qm(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="firestore.googleapis.com",P0=!0;class U0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y1,this.ssl=P0}else this.host=e.host,this.ssl=e.ssl??P0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sC)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new MR;switch(s.type){case"firstParty":return new UR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=j0.get(n);s&&(fe("ComponentProvider","Removing Datastore"),j0.delete(n),s.terminate())})(this),Promise.resolve()}}function xI(r,e,n,s={}){var _;r=Yi(r,Zh);const l=Uo(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${n}`;l&&(sE(`https://${g}`),aE("Firestore",!0)),c.host!==y1&&c.host!==g&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:s};if(!va(y,f)&&(r._setSettings(y),s.mockUserToken)){let S,w;if(typeof s.mockUserToken=="string")S=s.mockUserToken,w=pn.MOCK_USER;else{S=kb(s.mockUserToken,(_=r._app)==null?void 0:_.options.projectId);const M=s.mockUserToken.sub||s.mockUserToken.user_id;if(!M)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new pn(M)}r._authCredentials=new VR(new t2(S,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class Dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Tu(n,Dt._jsonSchema))return new Dt(e,s||null,new _e(ft.fromString(n.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:Xt("string",Dt._jsonSchemaVersion),referencePath:Xt("string")};class Is extends Fo{constructor(e,n,s){super(e,n,Hh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new _e(e))}withConverter(e){return new Is(this.firestore,e,this._path)}}function CI(r,e,...n){if(r=zt(r),n2("collection","path",e),r instanceof Zh){const s=ft.fromString(e,...n);return $_(s),new Is(r,null,s)}{if(!(r instanceof Dt||r instanceof Is))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ft.fromString(e,...n));return $_(s),new Is(r.firestore,null,s)}}function eh(r,e,...n){if(r=zt(r),arguments.length===1&&(e=rp.newId()),n2("doc","path",e),r instanceof Zh){const s=ft.fromString(e,...n);return X_(s),new Dt(r,null,new _e(s))}{if(!(r instanceof Dt||r instanceof Is))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ft.fromString(e,...n));return X_(s),new Dt(r.firestore,r instanceof Is?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="AsyncQueue";class k0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X2(this,"async_queue_retry"),this._c=()=>{const s=fm();s&&fe(L0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Cs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!qo(e))throw e;fe(L0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Dr("INTERNAL UNHANDLED ERROR: ",z0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=bp.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&we(47125,{Pc:z0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function z0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Po extends Zh{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new k0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new k0(e),this._firestoreClient=void 0,await e}}}function II(r,e){const n=typeof r=="object"?r:cE(),s=typeof r=="string"?r:Sh,l=Ym(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=Ub("firestore");c&&xI(l,...c)}return l}function xp(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||NI(r),r._firestoreClient}function NI(r){var s,l,c;const e=r._freezeSettings(),n=(function(g,y,_,S){return new ex(g,y,_,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,g1(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new SI(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ui(fn.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ui(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tu(e,ui._jsonSchema))return ui.fromBase64String(e.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:Xt("string",ui._jsonSchemaVersion),bytes:Xt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zi._jsonSchemaVersion}}static fromJSON(e){if(Tu(e,Zi._jsonSchema))return new Zi(e.latitude,e.longitude)}}Zi._jsonSchemaVersion="firestore/geoPoint/1.0",Zi._jsonSchema={type:Xt("string",Zi._jsonSchemaVersion),latitude:Xt("number"),longitude:Xt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tu(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Wi(e.vectorValues);throw new ue(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:Xt("string",Wi._jsonSchemaVersion),vectorValues:Xt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=/^__.*__$/;class OI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class v1{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{Ac:r})}}class Cp{constructor(e,n,s,l,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Cp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Oh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_1(this.Ac)&&DI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class MI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(e)}Cc(e,n,s,l=!1){return new Cp({Ac:e,methodName:n,Dc:s,path:hn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ip(r){const e=r._freezeSettings(),n=Xh(r._databaseId);return new MI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function VI(r,e,n,s,l,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,e,n,l);Dp("Data must be an object, but it was:",f,s);const g=E1(s,f);let y,_;if(c.merge)y=new Qn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const S=[];for(const w of c.mergeFields){const M=Hm(e,w,n);if(!f.contains(M))throw new ue(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);b1(S,M)||S.push(M)}y=new Qn(S),_=f.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=f.fieldTransforms;return new OI(new On(g),y,_)}class tf extends ef{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}class Np extends ef{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new mu(e.serializer,x2(e.serializer,this.Fc));return new wx(e.path,n)}isEqual(e){return e instanceof Np&&this.Fc===e.Fc}}function jI(r,e,n,s){const l=r.Cc(1,e,n);Dp("Data must be an object, but it was:",l,s);const c=[],f=On.empty();Ls(s,((y,_)=>{const S=Op(e,y,n);_=zt(_);const w=l.yc(S);if(_ instanceof tf)c.push(S);else{const M=xu(_,w);M!=null&&(c.push(S),f.set(S,M))}}));const g=new Qn(c);return new v1(f,g,l.fieldTransforms)}function PI(r,e,n,s,l,c){const f=r.Cc(1,e,n),g=[Hm(e,s,n)],y=[l];if(c.length%2!=0)throw new ue(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Hm(e,c[M])),y.push(c[M+1]);const _=[],S=On.empty();for(let M=g.length-1;M>=0;--M)if(!b1(_,g[M])){const G=g[M];let W=y[M];W=zt(W);const ne=f.yc(G);if(W instanceof tf)_.push(G);else{const ee=xu(W,ne);ee!=null&&(_.push(G),S.set(G,ee))}}const w=new Qn(_);return new v1(S,w,f.fieldTransforms)}function UI(r,e,n,s=!1){return xu(n,r.Cc(s?4:3,e))}function xu(r,e){if(T1(r=zt(r)))return Dp("Unsupported field value:",e,r),E1(r,e);if(r instanceof ef)return(function(s,l){if(!_1(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let f=0;for(const g of s){let y=xu(g,l.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}})(r,e)}return(function(s,l){if((s=zt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return x2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=pt.fromDate(s);return{timestampValue:Ch(l.serializer,c)}}if(s instanceof pt){const c=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(l.serializer,c)}}if(s instanceof Zi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ui)return{bytesValue:L2(l.serializer,s._byteString)};if(s instanceof Dt){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Wi)return(function(f,g){return{mapValue:{fields:{[h2]:{stringValue:f2},[Ah]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return cp(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${kh(s)}`)})(r,e)}function E1(r,e){const n={};return s2(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(r,((s,l)=>{const c=xu(l,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function T1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pt||r instanceof Zi||r instanceof ui||r instanceof Dt||r instanceof ef||r instanceof Wi)}function Dp(r,e,n){if(!T1(n)||!i2(n)){const s=kh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Hm(r,e,n){if((e=zt(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return Op(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const LI=new RegExp("[~\\*/\\[\\]]");function Op(r,e,n){if(e.search(LI)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${l}`),y+=")"),new ue(J.INVALID_ARGUMENT,g+r+y)}function b1(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,s,l,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(A1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kI extends S1{data(){return super.data()}}function A1(r,e){return typeof e=="string"?Op(r,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mp{}class BI extends Mp{}function qI(r,e,...n){let s=[];e instanceof Mp&&s.push(e),s=s.concat(n),(function(c){const f=c.filter((y=>y instanceof jp)).length,g=c.filter((y=>y instanceof Vp)).length;if(f>1||f>0&&g>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class Vp extends BI{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Vp(e,n,s)}_apply(e){const n=this._parse(e);return w1(e._query,n),new Fo(e.firestore,e.converter,Dm(e._query,n))}_parse(e){const n=Ip(e.firestore);return(function(c,f,g,y,_,S,w){let M;if(_.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){H0(w,S);const W=[];for(const ne of w)W.push(q0(y,c,ne));M={arrayValue:{values:W}}}else M=q0(y,c,w)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||H0(w,S),M=UI(g,f,w,S==="in"||S==="not-in");return Yt.create(_,S,M)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class jp extends Mp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new jp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:wi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let f=l;const g=c.getFlattenedFilters();for(const y of g)w1(f,y),f=Dm(f,y)})(e._query,n),new Fo(e.firestore,e.converter,Dm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function q0(r,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E2(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!_e.isDocumentKey(s))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return r0(r,new _e(s))}if(n instanceof Dt)return r0(r,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function H0(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w1(r,e){const n=(function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class HI{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ls(e,((l,c)=>{s[l]=this.convertValue(c,n)})),s}convertVectorValue(e){var s,l,c;const n=(c=(l=(s=e.fields)==null?void 0:s[Ah].arrayValue)==null?void 0:l.values)==null?void 0:c.map((f=>kt(f.doubleValue)));return new Wi(n)}convertGeoPoint(e){return new Zi(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=Os(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);et(F2(s),9688,{name:e});const l=new cu(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return l.isEqual(n)||Dr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends S1{constructor(e,n,s,l,c,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(A1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Xt("string",ya._jsonSchemaVersion),bundleSource:Xt("string","DocumentSnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class fh extends ya{data(e={}){return super.data(e)}}class Ro{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Zl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new Zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((g=>{const y=new fh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new fh(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),S=f.indexOf(g.doc.key)),{type:GI(g.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r){r=Yi(r,Dt);const e=Yi(r.firestore,Po);return RI(xp(e),r._key).then((n=>C1(e,r,n)))}Ro._jsonSchemaVersion="firestore/querySnapshot/1.0",Ro._jsonSchema={type:Xt("string",Ro._jsonSchemaVersion),bundleSource:Xt("string","QuerySnapshot"),bundleName:Xt("string"),bundle:Xt("string")};class R1 extends HI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ui(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function F0(r,e,n){r=Yi(r,Dt);const s=Yi(r.firestore,Po),l=FI(r.converter,e,n);return x1(s,[VI(Ip(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,$i.none())])}function th(r,e,n,...s){r=Yi(r,Dt);const l=Yi(r.firestore,Po),c=Ip(l);let f;return f=typeof(e=zt(e))=="string"||e instanceof Wh?PI(c,"updateDoc",r._key,e,n,s):jI(c,"updateDoc",r._key,e),x1(l,[f.toMutation(r._key,$i.exists(!0))])}function KI(r,...e){var y,_,S;r=zt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||B0(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(B0(e[s])){const w=e[s];e[s]=(y=w.next)==null?void 0:y.bind(w),e[s+1]=(_=w.error)==null?void 0:_.bind(w),e[s+2]=(S=w.complete)==null?void 0:S.bind(w)}let c,f,g;if(r instanceof Dt)f=Yi(r.firestore,Po),g=Hh(r._key.path),c={next:w=>{e[s]&&e[s](C1(f,r,w))},error:e[s+1],complete:e[s+2]};else{const w=Yi(r,Fo);f=Yi(w.firestore,Po),g=w._query;const M=new R1(f);c={next:G=>{e[s]&&e[s](new Ro(f,M,w,G))},error:e[s+1],complete:e[s+2]},zI(r._query)}return(function(M,G,W,ne){const ee=new m1(ne),te=new s1(G,ee,W);return M.asyncQueue.enqueueAndForget((async()=>i1(await qm(M),te))),()=>{ee.Nu(),M.asyncQueue.enqueueAndForget((async()=>r1(await qm(M),te)))}})(xp(f),g,l,c)}function x1(r,e){return(function(s,l){const c=new Cs;return s.asyncQueue.enqueueAndForget((async()=>mI(await wI(s),l,c))),c.promise})(xp(r),e)}function C1(r,e,n){const s=n.docs.get(e._key),l=new R1(r);return new ya(r,l,e._key,s,new Zl(n.hasPendingWrites,n.fromCache),e.converter)}function YI(r){return new Np("increment",r)}(function(e,n=!0){(function(l){zo=l})(Lo),Co(new _a("firestore",((s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Po(new jR(s.getProvider("auth-internal")),new LR(f,s.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(_.options.projectId,S)})(f,l),f);return c={useFetchStreams:n,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Rs(G_,Q_,e),Rs(G_,Q_,"esm2020")})();const XI=["2020-02-24","2020-02-25","2020-04-10","2020-04-21","2020-05-01","2020-06-11","2020-06-12","2020-09-07","2020-09-08","2020-10-12","2020-11-02","2020-11-03","2020-11-15","2020-12-11","2020-12-20","2020-12-21","2020-12-22","2020-12-23","2020-12-24","2020-12-25","2020-12-26","2020-12-27","2020-12-28","2020-12-29","2020-12-30","2020-12-31","2021-01-01","2021-01-02","2021-01-03","2021-01-04","2021-01-05","2021-01-06","2021-01-07","2021-01-08","2021-01-09","2021-01-10","2021-01-11","2021-01-12","2021-01-13","2021-01-14","2021-01-15","2021-01-16","2021-01-17","2021-01-18","2021-01-19","2021-01-20","2021-02-16","2021-04-01","2021-04-02","2021-04-21","2021-05-01","2021-06-03","2021-06-04","2021-09-06","2021-09-07","2021-09-08","2021-10-11","2021-10-12","2021-11-01","2021-11-02","2021-11-15","2021-12-17","2021-12-20","2021-12-21","2021-12-22","2021-12-23","2021-12-24","2021-12-25","2021-12-26","2021-12-27","2021-12-28","2021-12-29","2021-12-30","2021-12-31","2022-01-01","2022-01-02","2022-01-03","2022-01-04","2022-01-05","2022-01-06","2022-01-07","2022-01-08","2022-01-09","2022-01-10","2022-01-11","2022-01-12","2022-01-13","2022-01-14","2022-01-15","2022-01-16","2022-01-17","2022-01-18","2022-01-19","2022-01-20","2022-02-28","2022-03-01","2022-04-14","2022-04-15","2022-04-21","2022-04-22","2022-05-01","2022-06-16","2022-06-17","2022-09-07","2022-09-08","2022-09-09","2022-10-12","2022-10-31","2022-11-01","2022-11-02","2022-11-14","2022-11-15","2022-12-19","2022-12-20","2022-12-21","2022-12-22","2022-12-23","2022-12-24","2022-12-25","2022-12-26","2022-12-27","2022-12-28","2022-12-29","2022-12-30","2022-12-31","2023-01-01","2023-01-02","2023-01-03","2023-01-04","2023-01-05","2023-01-06","2023-01-07","2023-01-08","2023-01-09","2023-01-10","2023-01-11","2023-01-12","2023-01-13","2023-01-14","2023-01-15","2023-01-16","2023-01-17","2023-01-18","2023-01-19","2023-01-20","2023-02-20","2023-02-21","2023-04-06","2023-04-07","2023-04-21","2023-05-01","2023-06-08","2023-06-09","2023-09-07","2023-09-08","2023-10-12","2023-10-13","2023-10-28","2023-11-02","2023-11-03","2023-11-15","2023-12-08","2023-12-19","2023-12-20","2023-12-21","2023-12-22","2023-12-23","2023-12-24","2023-12-25","2023-12-26","2023-12-27","2023-12-28","2023-12-29","2023-12-30","2023-12-31","2024-01-01","2024-01-02","2024-01-03","2024-01-04","2024-01-05","2024-01-06","2024-01-07","2024-01-08","2024-01-09","2024-01-10","2024-01-11","2024-01-12","2024-01-13","2024-01-14","2024-01-15","2024-01-16","2024-01-17","2024-01-18","2024-01-19","2024-01-20","2024-02-12","2024-02-13","2024-03-28","2024-03-29","2024-04-21","2024-05-01","2024-05-30","2024-05-31","2024-09-07","2024-09-08","2024-10-12","2024-10-16","2024-11-02","2024-11-15","2024-11-20","2024-12-08","2024-12-18","2024-12-19","2024-12-20","2024-12-21","2024-12-22","2024-12-23","2024-12-24","2024-12-25","2024-12-26","2024-12-27","2024-12-28","2024-12-29","2024-12-30","2024-12-31","2025-01-01","2025-01-02","2025-01-03","2025-01-04","2025-01-05","2025-01-06","2025-01-07","2025-01-08","2025-01-09","2025-01-10","2025-01-11","2025-01-12","2025-01-13","2025-01-14","2025-01-15","2025-01-16","2025-01-17","2025-01-18","2025-01-19","2025-01-20","2025-03-03","2025-03-04","2025-04-17","2025-04-18","2025-04-21","2025-05-01","2025-06-19","2025-06-20","2025-09-07","2025-09-08","2025-10-12","2025-10-28","2025-11-02","2025-11-15","2025-11-20","2025-12-08","2025-12-19"],$I=["2020-05-11","2020-06-30","2021-08-02","2021-09-13","2022-03-21","2022-03-22","2022-04-01","2022-06-13","2022-06-27","2022-08-08","2022-08-22","2022-08-31","2022-09-14","2022-09-27","2022-11-08","2022-11-24","2022-12-02","2022-12-05","2022-12-09","2022-12-13","2023-07-13","2023-07-31","2023-08-01","2023-08-30","2023-08-31","2023-09-01","2023-09-04","2023-09-05","2024-04-23","2024-06-21","2024-07-24","2024-09-13"],JI=[{start:"2013-02-01",value:131.87},{start:"2014-03-07",value:139.2},{start:"2015-02-06",value:148.12},{start:"2016-02-19",value:163.92},{start:"2017-02-02",value:174.23},{start:"2018-02-02",value:179.37},{start:"2019-02-01",value:186.1},{start:"2020-02-01",value:194.12},{start:"2021-02-01",value:202.89},{start:"2022-02-01",value:223.3},{start:"2023-02-01",value:236.23},{start:"2023-07-04",value:236.23},{start:"2024-02-01",value:247.14},{start:"2025-02-03",value:259.08}],ZI=[{start:"2014-01-29",value:153.86},{start:"2014-05-28",value:153.86},{start:"2015-01-19",value:163.8},{start:"2015-06-16",value:163.8},{start:"2016-02-11",value:181.34},{start:"2016-06-13",value:181.34},{start:"2018-01-25",value:198.95},{start:"2018-04-25",value:198.95},{start:"2018-09-20",value:198.95},{start:"2018-12-18",value:198.95},{start:"2019-03-07",value:206.63},{start:"2020-01-20",value:214.71},{start:"2020-02-14",value:214.71},{start:"2021-06-02",value:223.79},{start:"2024-05-15",value:1022}],WI=[{start:"2014-01-01",value:37.33},{start:"2015-01-01",value:39.89},{start:"2016-01-01",value:43.65},{start:"2017-01-01",value:47.34},{start:"2018-01-01",value:48.54},{start:"2019-01-01",value:50.73},{start:"2020-01-01",value:52.17},{start:"2022-01-01",value:59.31},{start:"2024-01-01",value:66.85}],G0=""+new URL("WhatsApp Image 2025-12-16 at 16.54.26-CihH5Q5F.jpeg",import.meta.url).href,mm="triario_state_v2",eN=3,Ql="users",Wl={apiKey:"AIzaSyCNUcWaY7_LfXKmnQ7O72_x1iCrt-7EJ1w",authDomain:"simba-99aa9.firebaseapp.com",projectId:"simba-99aa9",storageBucket:"simba-99aa9.firebasestorage.app",messagingSenderId:"551435844538",appId:"1:551435844538:web:3664ee17b9a6f1f728fb83"},Fm=!!(Wl.apiKey&&Wl.authDomain&&Wl.projectId&&Wl.appId),Mh=Fm?uE(Wl):null,tn=Mh?DR(Mh):null,Hi=Mh?II(Mh):null;tn&&(tn.languageCode="pt-BR");const tN=r=>(r==null?void 0:r.split(",").map(e=>e.trim().toLowerCase()).filter(Boolean))??[],nN=tN("03788983299@tjpr.jus.br"),Eo="tjpr.jus.br".trim().toLowerCase(),xo={tipo:"",acordo:"",valido:"",desist:"",valida:"",sigla:"",interp:"",decrec:"",camara:"",camaraArea:"",camaraNumero:"",emaberto:"",envio:"",consulta:"no",leitura:"",emdobro:"",multa:"",motivo:"",dispensa:"",gratuidade:"",deferida:"",movdef:"",requerida:"",movped:"",atoincomp:"",comprova:"",apos16:"",grumov:"",grumovComp:"",valorst:"",guiavinc:"",guia:"",guiorig:"",comp:"",funjusmov:"",comptipo:"",codbar:"",valorfj:"",funjusObs:"",parcialTipo:"",parcialOutro:"",usarIntegral:!1,subscritor:"",nomemovi:"",movis:"",cadeia:"",faltante:"",suspefeito:"",autuado:"",exclusivi:"",cadastrada:"",regular:"",contrarra:"",contramovis:"",intimado:"",intimovi:"",crraberto:"",decursocrr:"",semadv:"",emepe:"",mani:"",teormani:"",manimovis:"",decursomp:"",remetido:"",anotacoes:""},I1=r=>new Date(`${r}T00:00:00`),N1=r=>{const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0");return`${r.getFullYear()}-${n}-${e}`},Pp=r=>[...r].sort((e,n)=>new Date(e.start).getTime()-new Date(n.start).getTime()),iN=Pp(JI),rN=Pp(ZI),sN=Pp(WI),aN=new Set(XI),oN=new Set($I),lN=r=>new Date(r.getFullYear(),r.getMonth(),r.getDate()),pa=(r,e)=>{const n=new Date(r);return n.setDate(n.getDate()+e),n},uN=r=>aN.has(N1(r)),cN=r=>oN.has(N1(r)),D1=r=>{const e=r.getDay();return e===0||e===6?!1:!uN(r)},Q0=r=>D1(r)&&!cN(r),hN=r=>{let e=lN(r);for(;!D1(e);)e=pa(e,1);return e},pm=(r,e)=>{if(!r)return{value:0};let n;for(const s of e)if(r>=I1(s.start))n=s;else break;return n?{value:n.value,start:n.start}:{value:0}},bi=r=>{if(!r)return"";const e=String(r.getDate()).padStart(2,"0"),n=String(r.getMonth()+1).padStart(2,"0"),s=r.getFullYear();return`${e}.${n}.${s}`},fN=r=>r?r.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",Vh=r=>r?bi(I1(r)):"",dN=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}),oi=r=>Number.isFinite(r)?dN.format(r):"R$ 0,00",Ns=r=>r?new Date(`${r}T00:00:00`):null,mN=r=>{if(!r)return null;const e=new Date(r);return Number.isNaN(e.getTime())?null:e},pN=r=>r.trim().replace(/[\\/:*?"<>|]/g,"-").replace(/\s+/g,"_"),gN=r=>{try{const e=localStorage.getItem(r);if(!e)return{state:xo,savedAt:null};const n=JSON.parse(e),s=n.state||n,l={...xo,...s};if(!l.parcialTipo&&(s!=null&&s.parcial)){const f=s.parcial;l.parcialTipo=f==="sim"?"COHAB Londrina":f==="no"?"no":""}if(!l.grumov){const f=s==null?void 0:s.guiast,g=s==null?void 0:s.compst;f&&g&&f!==g?l.grumov=`${f}; ${g}`:l.grumov=f||g||""}if(l.grumovComp||(l.grumovComp=l.grumov||""),!l.funjusmov){const f=s==null?void 0:s.guiamov,g=s==null?void 0:s.compmov;f&&g&&f!==g?l.funjusmov=`${f}; ${g}`:l.funjusmov=f||g||""}l.usarIntegral===void 0&&(l.usarIntegral=!1),l.consulta===""&&(l.consulta="no");const c=mN(n.savedAt);return{state:l,savedAt:c}}catch{return{state:xo,savedAt:null}}},O1=r=>r.trim().toLowerCase(),nh=r=>O1(r).endsWith(`@${Eo}`),Fi=r=>{const e=r;switch(e.code){case"auth/invalid-email":return"E-mail invlido.";case"auth/user-not-found":return"Usurio no encontrado.";case"auth/wrong-password":return"Senha incorreta.";case"auth/invalid-credential":return"Credenciais invlidas.";case"auth/email-already-in-use":return"Este e-mail j est cadastrado.";case"auth/weak-password":return"A senha precisa ter pelo menos 6 caracteres.";case"auth/too-many-requests":return"Muitas tentativas. Aguarde alguns minutos e tente novamente.";case"auth/network-request-failed":return"Falha de rede. Verifique sua conexo.";case"permission-denied":return"Permisso negada para esta ao.";default:return e.message||"Falha ao autenticar."}},yN=r=>{const e=Ns(r.envio),n=Ns(r.interp);if(!e||!n)return{status:"pendente",mensagem:"Preencha envio da intimao e interposio."};const s=r.emdobro==="em dobro"?30:15,l=r.consulta==="sim"?Ns(r.leitura):null,c=pa(e,10),f=l&&l<=c?l:c,g=hN(f);let y=pa(g,1);for(;!Q0(y);)y=pa(y,1);let _=y;const S=[_];for(;S.length<s;){for(_=pa(_,1);!Q0(_);)_=pa(_,1);S.push(_)}return{status:n<=_?"tempestivo":"intempestivo",intim:g,comeco:y,venc:_,prazo:s}},vN=(r,e)=>{const n=g=>g||"",s=r.valorfj.trim(),l=Number(s||0),c=r.dispensa==="no"&&r.gratuidade==="no invocada"&&s!==""&&Number.isFinite(l)&&l<e.deverFJ,f=["Resumo - Portal de Triagem",`Data: ${new Date().toLocaleString("pt-BR")}`,`Sigla: ${n(r.sigla)}`,"",`Tipo: ${n(r.tipo)}`,`Interposio: ${n(r.interp)}`,`Deciso recorrida: ${n(r.decrec)}`,`Cmara: ${n(M1(r))}`,"",`Tempestivo: ${e.tempest.status}`,`Intimao: ${bi(e.tempest.intim)}`,`Comeo do prazo: ${bi(e.tempest.comeco)}`,`Prazo: ${e.tempest.prazo||""} dias`,`Vencimento: ${bi(e.tempest.venc)}`,"",`GRU: ${e.grout}`,`Funjus: ${e.funjout}`,`Pagamento parcial: ${e.parcialout}`,`Valores devidos - ${e.stLabel}: ${oi(e.deverST)} | FUNJUS: ${oi(e.deverFJ)}`,`Base de custas: ${e.stLabel} ${Vh(e.stRateStart)} | FUNJUS ${Vh(e.fjRateStart)}`,"",`Procurao/Nomeao: ${e.procurout}`,`Exclusividade na intimao: ${e.exclusout}`,`Efeito suspensivo: ${e.suspefout}`,"",`Contrarrazes: ${e.controut}`,`Ministrio Pblico: ${e.mpout}`];return e.observacoes.length&&(f.push("","Observaes/Minutas:"),e.observacoes.forEach((g,y)=>f.push(`${y+1}. ${g}`))),c&&r.funjusObs.trim()&&f.push("",`Justificativa Funjus: ${r.funjusObs.trim()}`),r.anotacoes.trim()&&f.push("","Notas manuais:",r.anotacoes.trim()),f.join(`
`)},_N=r=>r.dispensa==="sim"?"dispensado (CPC, art. 1.007, 1)":r.gratuidade==="j  ou afirma ser beneficirio"&&r.atoincomp!=="sim"?r.deferida==="sim"?`justia gratuita mov. ${r.movdef||"?"}`:r.requerida==="sim"?`justia gratuita mov. ${r.movped||"?"}`:"justia gratuita requerida no recurso":r.gratuidade==="requer no recurso em anlise"?"justia gratuita requerida no recurso":r.gratuidade===" o prprio objeto do recurso"?"justia gratuita  o prprio objeto":r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"?"justia gratuita presumida (defensor pblico, dativo ou NPJ)":null,EN=r=>{const e=yN(r),n=Ns(r.interp),s=r.tipo==="Especial"?"STJ":r.tipo==="Extraordinrio"?"STF":"STJ/STF",l=r.tipo==="Especial"?pm(n,iN):r.tipo==="Extraordinrio"?pm(n,rN):{value:0},c=pm(n,sN),f=l.value,g=c.value,y=_N(r),_=r.contrarra==="apresentadas"?r.contramovis?`mov(s). ${r.contramovis}`:"apresentadas":r.contrarra==="ausente alguma"?r.contramovis?`mov(s). ${r.contramovis}`:"ausente alguma":r.contrarra==="ausentes"?r.intimado==="sim"&&r.crraberto==="no"&&r.decursocrr==="sim"?"no":r.intimado==="no"&&r.semadv==="sim"?"sem adv.":"vide obs.":"vide obs.",S=(()=>{if(r.emepe==="no")return"N/A";if(r.mani==="sim"){const O=r.teormani||"mera cincia";return r.manimovis?`${O}; mov. ${r.manimovis}`:O}return r.remetido==="sim"&&r.decursomp==="sim"?"deixou de se manifestar":"vide obs."})(),w=(()=>{var C,We;if(y)return y;const O=(C=r.grumov)==null?void 0:C.trim(),P=(We=r.grumovComp)==null?void 0:We.trim();return O&&P&&O!==P?`GRU guia mov. ${O}; comprovante mov. ${P}`:O||P?`GRU mov. ${O||P}`:"GRU no localizada"})(),M=(()=>{if(y)return y;const O=r.guia==="sim"?`guia mov. ${r.funjusmov||"?"}`:"guia no localizada",P=r.comp==="sim"?`comprovante mov. ${r.funjusmov||"?"}`:"comprovante no localizado";return`${O}; ${P}`})(),G=!r.parcialTipo||r.parcialTipo==="no"?"No informado":r.parcialTipo==="outros"?r.parcialOutro?`Parcial: ${r.parcialOutro}`:"Parcial: outros (especificar)":`Parcial: ${r.parcialTipo}`,W=r.subscritor==="procurador pblico"||r.subscritor==="advogado em causa prpria"?r.subscritor||"N/A":r.subscritor==="procurador nomeado"?r.nomemovi?`mov. ${r.nomemovi}`:"nomeao no localizada":r.subscritor==="advogado particular"&&r.movis?`mov(s). ${r.movis}`:r.subscritor==="advogado particular"?"movimentos no informados":"N/A",ne=r.exclusivi==="no requerida"?"no requerida":r.exclusivi==="requerida"&&r.cadastrada==="sim"?"requerida e j cadastrada":r.exclusivi==="requerida"&&r.regular==="sim"?"requerida":r.exclusivi==="requerida"&&r.regular==="no"?"requerida, mas sem poderes":"N/A",ee=r.suspefeito?r.suspefeito==="requerido em petio apartada"&&r.autuado==="sim"?"requerido em petio apartada e autuado":r.suspefeito:"N/A",te=[],Ee=!!y,de=r.dispensa==="sim"||r.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"||r.subscritor==="procurador nomeado"||r.subscritor==="procurador pblico",Ue=r.emdobro==="em dobro"&&!de,Ge=de&&r.emdobro!=="em dobro",Me=Ns(r.envio),D=r.consulta==="sim"?Ns(r.leitura):null;if(Me&&D){const O=pa(Me,10);D>O&&te.push("Leitura aps 10 dias: considerar intimao automtica.")}r.decrec==="monocrtica/singular"&&te.push("Deciso monocrtica: REsp/RExt incabvel (nulidade)."),r.acordo==="sim"&&(r.valido==="sim"?te.push("Acordo vlido: encerrar o processo sem anlise do mrito."):r.valido==="no"&&te.push("Acordo invlido: verificar poderes expressamente outorgados e partes.")),r.desist==="sim"&&(r.valida==="sim"?te.push("Desistncia vlida: encerrar o processo sem anlise do mrito."):r.valida==="no"&&te.push("Desistncia invlida: verificar poderes expressamente outorgados e partes.")),Ue?te.push("Prazo em dobro: apenas MP/Defensoria/NPJ/dativo."):Ge&&te.push("Prazo em dobro aplicvel (MP/Defensoria/NPJ/dativo/ente pblico)."),r.emaberto!=="sim"&&r.contrarra&&r.contrarra!=="ausentes"&&!r.contramovis.trim()&&te.push("Informar movimento da juntada das contrarrazes/renncia."),!Ee&&r.gratuidade==="no invocada"&&r.comprova&&r.comprova!=="ausente"&&(r.grumov||te.push("Informar movimento da GRU (guia/comprovante).")),!Ee&&r.guia==="sim"&&(r.guiorig==="no"?te.push("Guia FUNJUS no  original do recurso; verificar reutilizao."):r.guiorig===""&&te.push("Informar se a guia FUNJUS  original do recurso.")),!Ee&&r.comp==="sim"&&r.codbar==="diverge ou guia ausente"&&te.push("Cdigo de barras divergente/guia ausente: conferir preparo FUNJUS."),!Ee&&r.comp==="sim"&&r.comptipo==="de agendamento"&&te.push("Comprovante de agendamento no comprova pagamento; exigir comprovante."),r.emaberto==="sim"&&te.push("H prazo em aberto na Cmara de origem; sugere-se devolver para aguardar decurso."),r.emaberto!=="sim"&&(r.contrarra!=="apresentadas"&&r.intimado==="no"&&r.semadv==="no"?te.push("Determinar intimao do(s) recorrido(s) para contrarrazes."):r.contrarra!=="apresentadas"&&r.intimado==="sim"&&r.crraberto==="sim"?te.push("Prazo de contrarrazes em aberto; aguardar decurso."):r.contrarra!=="apresentadas"&&r.intimado==="sim"&&r.crraberto==="no"&&r.decursocrr==="no"&&te.push("Determinar certificao do decurso do prazo para contrarrazes.")),r.emepe==="sim"&&r.mani==="sim"&&r.teormani==="mera cincia"&&r.decursomp==="no"||r.emepe==="sim"&&r.mani==="no"&&r.remetido==="sim"&&r.decursomp==="no"?te.push("Aguardar decurso do prazo para manifestao da PGJ."):r.emepe==="sim"&&r.mani==="no"&&r.remetido==="no"&&te.push("Encaminhar autos  PGJ.");const x=r.dispensa==="no"&&r.gratuidade==="no invocada"&&(r.comprova==="ausente"||r.comprova==="posteriormente"||r.comprova==="no dia til seguinte ao trmino do prazo"&&r.apos16==="no"),I=Number(r.valorst||0),b=Number(r.valorfj||0);if(x&&(f||g))te.push(`Caso de recolhimento em dobro; intimar para regularizar. Valores: ${s} ${oi(f*2)}, FUNJUS ${oi(g*2)}`);else if(r.dispensa==="no"&&r.gratuidade==="j  ou afirma ser beneficirio"&&r.atoincomp==="sim")te.push(`Ato incompatvel com justia gratuita; intimar para recolher preparo. Valores: ${s} ${oi(f)}, FUNJUS ${oi(g)}`);else if(r.dispensa==="no"&&(r.gratuidade==="no invocada"||r.atoincomp==="sim")&&(I<f||b<g)){const O=[];I<f&&O.push(`${s} ${oi(f-I)}`),b<g&&O.push(`Funjus ${oi(g-b)}`),O.length&&te.push(`Complementar preparo: ${O.join(" | ")}`)}return r.subscritor==="advogado particular"&&r.cadeia==="no"?te.push("Regularizar cadeia de procuraes para o subscritor."):r.subscritor==="advogado particular"&&r.cadeia==="sim"&&!r.movis&&te.push("Informar movimentos completos da cadeia de poderes."),r.exclusivi==="requerida"&&r.cadastrada==="no"&&r.regular==="sim"&&te.push("Deferir pedido de exclusividade e cadastrar procurador nas partes."),r.suspefeito==="requerido em petio apartada"&&r.autuado==="no"&&te.push("Autuar separadamente o pedido de efeito suspensivo."),{tempest:e,deverST:f,deverFJ:g,stLabel:s,stRateStart:l.start,fjRateStart:c.start,controut:_,mpout:S,grout:w,funjout:M,procurout:W,exclusout:ne,suspefout:ee,parcialout:G,observacoes:te}},M1=r=>r.camaraArea&&r.camaraNumero?`${r.camaraArea} ${r.camaraNumero}`:r.camara||"",TN=(r,e)=>{const n=[`Tempestividade: ${e.tempest.status==="tempestivo"?"prazo ok":e.tempest.status==="intempestivo"?"avaliar intempestividade":"preencha datas"}`,`Preparo (${e.stLabel}/FUNJUS): ${e.grout}`,`Funjus: ${e.funjout}`,`Pagamento parcial: ${e.parcialout}`,`Contrarrazes: ${e.controut}`,`Ministrio Pblico: ${e.mpout}`,`Representao: ${e.procurout}`,`Exclusividade na intimao: ${e.exclusout}`,`Efeito suspensivo: ${e.suspefout||"N/A"}`];return e.observacoes.forEach(s=>n.push(s)),n},bN=(r,e)=>{var _,S;const n={},s=(w,M)=>{M&&(n[w]=!0)};s("tipo",!r.tipo),s("acordo",r.acordo===""),r.acordo==="sim"&&s("valido",!r.valido),s("desist",r.desist===""),r.desist==="sim"&&s("valida",!r.valida),s("sigla",!r.sigla),s("interp",!r.interp),s("decrec",!r.decrec),s("camaraArea",!r.camaraArea),s("camaraNumero",!r.camaraNumero),s("emaberto",r.emaberto===""),s("envio",!r.envio),s("consulta",r.consulta===""),r.consulta==="sim"&&s("leitura",!r.leitura),s("emdobro",!r.emdobro);const l=Ns(r.envio),c=Ns(r.interp);if(c&&l&&c<l&&(n.envio=!0,n.interp=!0),s("multa",r.multa===""),r.multa==="sim, no recolhida"&&s("motivo",!r.motivo),s("dispensa",r.dispensa===""),r.dispensa==="no"&&(s("gratuidade",r.gratuidade===""),r.gratuidade==="j  ou afirma ser beneficirio"&&(s("deferida",r.deferida===""),r.deferida==="sim"&&s("movdef",!r.movdef),r.deferida==="no"&&(s("requerida",r.requerida===""),r.requerida==="sim"&&s("movped",!r.movped)),s("atoincomp",r.atoincomp==="")),r.gratuidade==="no invocada"&&(s("comprova",r.comprova===""),r.comprova==="no dia til seguinte ao trmino do prazo"&&s("apos16",r.apos16===""))),r.guia==="sim"&&s("guiorig",r.guiorig===""),r.dispensa!=="sim"&&(r.guia==="sim"||r.comp==="sim")&&s("funjusmov",!r.funjusmov),r.dispensa==="no"&&r.gratuidade==="no invocada"&&r.comprova&&r.comprova!=="ausente"){const w=(_=r.grumov)==null?void 0:_.trim(),M=(S=r.grumovComp)==null?void 0:S.trim();s("grumov",!w&&!M)}r.comp==="sim"&&(s("comptipo",!r.comptipo),s("codbar",!r.codbar));const f=r.valorfj.trim(),g=Number(f||0);return r.dispensa==="no"&&r.gratuidade==="no invocada"&&f!==""&&Number.isFinite(g)&&g<e.deverFJ&&s("funjusObs",!r.funjusObs.trim()),s("subscritor",!r.subscritor),r.subscritor==="procurador nomeado"&&s("nomemovi",!r.nomemovi),r.subscritor==="advogado particular"&&(s("movis",!r.movis),s("cadeia",r.cadeia===""),r.cadeia==="no"&&s("faltante",!r.faltante)),s("suspefeito",r.suspefeito===""),r.suspefeito==="requerido em petio apartada"&&s("autuado",r.autuado===""),s("exclusivi",r.exclusivi===""),r.exclusivi==="requerida"&&(s("cadastrada",r.cadastrada===""),r.cadastrada==="no"&&s("regular",r.regular==="")),r.emaberto!=="sim"&&(s("contrarra",r.contrarra===""),r.contrarra!=="apresentadas"&&(s("intimado",r.intimado===""),r.intimado==="sim"?(s("crraberto",r.crraberto===""),r.crraberto==="no"&&s("decursocrr",r.decursocrr==="")):r.intimado==="no"&&s("semadv",r.semadv===""))),s("emepe",r.emepe===""),r.emepe==="sim"&&(s("mani",r.mani===""),r.mani==="sim"?(s("teormani",r.teormani===""),s("manimovis",!r.manimovis),r.teormani==="mera cincia"&&s("decursomp",r.decursomp==="")):r.mani==="no"&&(s("remetido",r.remetido===""),r.remetido==="sim"&&s("decursomp",r.decursomp===""))),n},vs=[{id:"recurso",label:"Recurso",icon:J0},{id:"dados",label:"Dados iniciais",icon:wb},{id:"tempest",label:"Tempestividade",icon:gm},{id:"preparo",label:"Preparo e custas",icon:Cb},{id:"processo",label:"Representao e pedidos",icon:Z0},{id:"resumo",label:"Resumo",icon:$0}],K0={recurso:["tipo","acordo","valido","desist","valida","sigla"],dados:["interp","decrec","camaraArea","camaraNumero","emaberto"],tempest:["envio","consulta","leitura","emdobro"],preparo:["multa","motivo","dispensa","gratuidade","deferida","movdef","requerida","movped","atoincomp","comprova","apos16","grumov","funjusmov","guia","guiorig","comp","comptipo","codbar","funjusObs"],processo:["subscritor","nomemovi","movis","cadeia","faltante","suspefeito","autuado","exclusivi","cadastrada","regular","contrarra","contramovis","intimado","intimovi","crraberto","decursocrr","semadv","emepe","mani","teormani","manimovis","decursomp","remetido"],resumo:[]},ce=({label:r,children:e})=>m.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-600",children:[m.jsx("span",{className:"min-h-[2.5rem] leading-tight",children:r}),e]}),It=({title:r,children:e})=>m.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl p-6 shadow-[0_28px_60px_-42px_rgba(15,23,42,0.55)] overflow-hidden",children:[m.jsx("div",{className:"absolute inset-x-6 top-0 h-[2px] bg-gradient-to-r from-slate-900 via-amber-500 to-teal-500 opacity-80"}),m.jsx("div",{className:"absolute -right-12 -top-10 h-28 w-28 rounded-full bg-amber-200/30 blur-3xl"}),m.jsxs("div",{className:"relative space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-base font-semibold text-slate-900 font-display tracking-tight",children:r}),m.jsx("span",{className:"text-[11px] font-semibold text-slate-400 uppercase tracking-[0.22em]",children:"Ficha"})]}),m.jsx("div",{className:"grid gap-4",children:e})]})]}),Nt=({children:r,tone:e="neutral"})=>{const n={neutral:"bg-white/80 border-slate-200 text-slate-700",success:"bg-emerald-50/90 border-emerald-200 text-emerald-800",warning:"bg-amber-50/90 border-amber-200 text-amber-800"};return m.jsx("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-semibold shadow-sm ${n[e]}`,children:r})},Y0=({label:r,value:e,helper:n,tone:s="neutral"})=>{const l={neutral:"border-white/70 bg-white/85 text-slate-900 shadow-[0_16px_40px_-30px_rgba(15,23,42,0.45)]",positive:"border-emerald-200/80 bg-emerald-50/90 text-emerald-900 shadow-[0_18px_40px_-30px_rgba(16,185,129,0.35)]",negative:"border-amber-200/80 bg-amber-50/90 text-amber-900 shadow-[0_18px_40px_-30px_rgba(245,158,11,0.35)]"};return m.jsxs("div",{className:`rounded-2xl border px-4 py-3 ${l[s]}`,children:[m.jsx("p",{className:"text-[11px] uppercase tracking-[0.24em] font-semibold text-slate-500",children:r}),m.jsx("p",{className:"text-lg font-semibold leading-tight mt-1",children:e}),n&&m.jsx("p",{className:"text-xs mt-1 text-slate-600",children:n})]})},SN=({label:r,icon:e,active:n,onClick:s})=>m.jsxs("button",{type:"button",onClick:s,"aria-current":n?"step":void 0,className:`group inline-flex items-center gap-2 rounded-full border px-3 py-2 text-xs font-semibold transition shadow-sm whitespace-nowrap ${n?"border-slate-900 bg-slate-900 text-white shadow-[0_12px_30px_-20px_rgba(15,23,42,0.6)]":"border-slate-200 bg-white/80 text-slate-700 hover:border-slate-300 hover:shadow-md"}`,children:[m.jsx(e,{className:`h-4 w-4 ${n?"text-amber-200":"text-slate-500 group-hover:text-slate-700"}`}),m.jsx("span",{children:r})]}),AN=()=>{const[r,e]=be.useState(null),[n,s]=be.useState(null),[l,c]=be.useState(!1),[f,g]=be.useState("login"),[y,_]=be.useState(""),[S,w]=be.useState(""),[M,G]=be.useState(""),[W,ne]=be.useState(""),[ee,te]=be.useState(!1),[Ee,de]=be.useState(""),[Ue,Ge]=be.useState(""),[Me,D]=be.useState(""),[x,I]=be.useState(`${mm}_anon`),[b,O]=be.useState(xo),[P,C]=be.useState(0),[We,_t]=be.useState(!1),[Q,re]=be.useState(!1),[ye,Ve]=be.useState(null),Ke=be.useRef(!1),V=be.useRef(!1),[X,se]=be.useState(!1),[ae,Se]=be.useState([]),[Re,Le]=be.useState(""),[Ot,ct]=be.useState({}),[ci,hi]=be.useState(null),[nr,Bt]=be.useState(""),Mn=be.useRef(null),Sn=(n==null?void 0:n.role)==="admin";be.useEffect(()=>{if(!Fm||!tn||!Hi){c(!0);return}let q=!0;const R=Ew(tn,async he=>{if(e(he),s(null),c(!1),!he){q&&c(!0);return}try{const tt=he.email||"";if(!nh(tt)){q&&D(`Acesso restrito a contas @${Eo}.`),await Yc(tn);return}if(!he.emailVerified){q&&D("Confirme o e-mail para acessar a plataforma."),await Yc(tn);return}const st=O1(tt),ke=st?nN.includes(st):!1,rn=new Date().toISOString(),_n=eh(Hi,Ql,he.uid),En=await QI(_n);let Rt;if(!En.exists())Rt={uid:he.uid,email:tt,name:he.displayName||"",role:ke?"admin":"user",active:!0,triageCount:0,createdAt:rn,updatedAt:rn},await F0(_n,Rt);else{const At=En.data();Rt={uid:he.uid,email:At.email??tt,name:At.name??he.displayName??"",role:At.role??(ke?"admin":"user"),active:At.active??!0,triageCount:At.triageCount??0,createdAt:At.createdAt??rn,updatedAt:rn},(!At.email||!At.name||!At.role||At.active===void 0||!At.createdAt)&&(ke?await F0(_n,Rt,{merge:!0}):!At.name&&Rt.name&&await th(_n,{name:Rt.name,updatedAt:rn}))}if(!Rt.active){q&&D("Conta desativada. Procure um administrador."),await Yc(tn);return}q&&(s(Rt),de(""),Ge(""),D(""))}catch(tt){if(q){const st=Fi(tt);de(st),tt.code==="permission-denied"&&Ge("Aplique as regras do Firestore e tente novamente.")}}finally{q&&c(!0)}});return()=>{q=!1,R()}},[]),be.useEffect(()=>{const q=r!=null&&r.uid?`${mm}_${r.uid}`:`${mm}_anon`;I(q)},[r==null?void 0:r.uid]),be.useEffect(()=>{const q=gN(x);O(q.state),Ve(q.savedAt),C(0)},[x]),be.useEffect(()=>{if(!Sn||!Hi){Se([]);return}const q=qI(CI(Hi,Ql)),R=KI(q,he=>{const tt=he.docs.map(st=>{const ke=st.data(),rn=ke.role==="admin"?"admin":"user";return{uid:st.id,email:ke.email??"",name:ke.name??"",role:rn,active:ke.active??!0,triageCount:ke.triageCount??0,createdAt:ke.createdAt??"",updatedAt:ke.updatedAt??""}});tt.sort((st,ke)=>{const rn=st.name.localeCompare(ke.name,"pt-BR",{sensitivity:"base"});return rn!==0?rn:st.email.localeCompare(ke.email,"pt-BR",{sensitivity:"base"})}),Se(tt)},he=>{Bt(Fi(he))});return()=>R()},[Sn]),be.useEffect(()=>{Sn||se(!1)},[Sn]);const ge=be.useMemo(()=>EN(b),[b]),Pr=be.useMemo(()=>vN(b,ge),[b,ge]),ir=be.useMemo(()=>TN(b,ge),[b,ge]),Et=be.useMemo(()=>bN(b,ge),[b,ge]),Mt=be.useMemo(()=>{const q={recurso:0,dados:0,tempest:0,preparo:0,processo:0,resumo:0};return Object.keys(K0).forEach(R=>{q[R]=K0[R].reduce((he,tt)=>he+(Et[tt]?1:0),0)}),q},[Et]),fi=be.useMemo(()=>{const q=Re.trim().toLowerCase();return q?ae.filter(R=>`${R.name} ${R.email}`.toLowerCase().includes(q)):ae},[Re,ae]),Go=be.useMemo(()=>ae.reduce((q,R)=>q+(R.triageCount||0),0),[ae]),zs=be.useMemo(()=>{const q=[...ae];return q.sort((R,he)=>(he.triageCount||0)-(R.triageCount||0)),q},[ae]),Tt=b.dispensa==="sim",Ri=b.valorfj.trim(),Ur=Number(Ri||0),xi=b.dispensa==="no"&&b.gratuidade==="no invocada"&&Ri!==""&&Number.isFinite(Ur)&&Ur<ge.deverFJ,Ci=xi&&!b.funjusObs.trim(),Bs=b.funjusObs.trim(),Ra=vs[P].id,rr=Mt[Ra]??0,le=(q,R)=>{O(he=>{var tt;if(q==="funjusmov"){const ke=String(R).trim()?"sim":"";return{...he,[q]:R,guia:ke,comp:ke}}if(q==="grumov"){const st=String(R),ke=!((tt=he.grumovComp)!=null&&tt.trim())||he.grumovComp===he.grumov;return{...he,[q]:R,grumovComp:ke?st:he.grumovComp}}return{...he,[q]:R}})},oe=(q,R)=>{const he=b[q],st=(typeof he=="string"?he.trim()!=="":!!he)?"input input-success":"input";return R?`${st} ${R}`:st};be.useEffect(()=>{try{const q=new Date,R={__version:eN,state:b,savedAt:q.toISOString()};localStorage.setItem(x,JSON.stringify(R)),Ve(q)}catch{}},[b,x]),be.useEffect(()=>{if(!b.usarIntegral)return;const q=ge.deverST?ge.deverST.toFixed(2):"",R=ge.deverFJ?ge.deverFJ.toFixed(2):"";O(he=>!he.usarIntegral||he.valorst===q&&he.valorfj===R?he:{...he,valorst:q,valorfj:R})},[b.usarIntegral,ge.deverST,ge.deverFJ]),be.useEffect(()=>{Tt&&O(q=>{if(q.dispensa!=="sim")return q;let R=!1;const he={...q};return he.emdobro!=="em dobro"&&(he.emdobro="em dobro",R=!0),he.subscritor!=="procurador pblico"&&(he.subscritor="procurador pblico",R=!0),R?he:q})},[Tt]),be.useEffect(()=>{b.consulta!=="sim"&&b.leitura&&O(q=>q.leitura?{...q,leitura:""}:q)},[b.consulta,b.leitura]),be.useEffect(()=>{b.emdobro||(b.gratuidade==="presumida (defensor pblico, dativo ou NPJ)"||b.subscritor==="procurador nomeado")&&O(q=>q.emdobro?q:{...q,emdobro:"em dobro"})},[b.emdobro,b.gratuidade,b.subscritor]),be.useEffect(()=>{var he;const q=Mn.current;if(!q)return;const R=(he=window.matchMedia)==null?void 0:he.call(window,"(prefers-reduced-motion: reduce)").matches;q.scrollIntoView({behavior:R?"auto":"smooth",block:"start"})},[P]);const $t=()=>{qs();const q=new Blob([Pr],{type:"text/plain"}),R=URL.createObjectURL(q),he=document.createElement("a");he.href=R;const tt=pN(b.sigla);he.download=`resumo-triagem-${tt||"triario"}.txt`,he.click(),URL.revokeObjectURL(R)},vn=async q=>{if(!q)return!1;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(q);else{const R=document.createElement("textarea");R.value=q,document.body.appendChild(R),R.select(),document.execCommand("copy"),document.body.removeChild(R)}return!0}catch{return!1}},bt=async()=>{qs(),await vn(Pr)?(_t(!0),setTimeout(()=>_t(!1),1500)):_t(!1)},xa=async()=>{const q=ir.join(`
`);await vn(q)?(re(!0),setTimeout(()=>re(!1),1500)):re(!1)},Lr=async()=>{if(tn){if(te(!0),de(""),Ge(""),!nh(y)){de(`Use um e-mail @${Eo} para entrar.`),te(!1);return}try{await mw(tn,y.trim(),S)}catch(q){de(Fi(q))}finally{te(!1)}}},Ca=async()=>{if(tn){if(te(!0),de(""),Ge(""),!nh(y)){de(`O cadastro  permitido apenas para e-mails @${Eo}.`),te(!1);return}if(S.trim().length<6){de("A senha precisa ter pelo menos 6 caracteres."),te(!1);return}if(S!==M){de("As senhas no conferem."),te(!1);return}try{const q=await dw(tn,y.trim(),S);W.trim()&&await yw(q.user,{displayName:W.trim()});try{await pw(q.user)}catch(R){de(Fi(R))}Ge("Conta criada. Confirme o e-mail para entrar."),w(""),G(""),g("login")}catch(q){de(Fi(q))}finally{te(!1)}}},Kn=async()=>{if(tn){if(te(!0),de(""),Ge(""),!nh(y)){de(`Use um e-mail @${Eo} para redefinir a senha.`),te(!1);return}try{await V_(tn,y.trim()),Ge("Enviamos um e-mail para redefinir sua senha.")}catch(q){de(Fi(q))}finally{te(!1)}}},Ii=async()=>{tn&&(await Yc(tn),O(xo),C(0),se(!1),Ke.current=!1,V.current=!1)},gt=(q,R)=>{ct(he=>{const tt=he[q.uid]??{name:q.name,role:q.role,active:q.active};return{...he,[q.uid]:{...tt,...R}}})},Vn=q=>Ot[q.uid]??{name:q.name,role:q.role,active:q.active},Yn=async q=>{if(!Hi||!tn)return;const R=Vn(q),he=ae.filter(st=>st.role==="admin").length;if((r==null?void 0:r.uid)===q.uid&&he<=1&&R.role!=="admin"){Bt("Voc  o ltimo admin. No  possvel remover seu prprio acesso.");return}if(R.name===q.name&&R.role===q.role&&R.active===q.active){Bt("Nenhuma alterao pendente para salvar.");return}hi(q.uid),Bt("");try{await th(eh(Hi,Ql,q.uid),{name:R.name,role:R.role,active:R.active,updatedAt:new Date().toISOString()}),Bt("Cadastro atualizado.")}catch(st){Bt(Fi(st))}finally{hi(null)}},jn=async q=>{if(tn){Bt("");try{await V_(tn,q),Bt(`E-mail de redefinio enviado para ${q}.`)}catch(R){Bt(Fi(R))}}},qs=async()=>{if(!(!Hi||!r)&&!(Ke.current||V.current)){V.current=!0;try{await th(eh(Hi,Ql,r.uid),{triageCount:YI(1),updatedAt:new Date().toISOString()}),Ke.current=!0,s(q=>q&&{...q,triageCount:(q.triageCount||0)+1})}catch(q){Bt(Fi(q))}finally{V.current=!1}}},Ia=async q=>{if(Hi){Bt(""),hi(q.uid);try{await th(eh(Hi,Ql,q.uid),{role:"admin",updatedAt:new Date().toISOString()}),Bt(`${q.email||"Usurio"} promovido a admin.`),ct(R=>R[q.uid]?{...R,[q.uid]:{...R[q.uid],role:"admin"}}:R)}catch(R){Bt(Fi(R))}finally{hi(null)}}},Xn=q=>{q.preventDefault(),f==="login"?Lr():f==="register"?Ca():Kn()},sr=()=>C(q=>Math.min(vs.length-1,q+1)),Qo=()=>C(q=>Math.max(0,q-1)),ar=()=>{try{localStorage.removeItem(x)}catch{}O(xo),C(0),Ve(null),Ke.current=!1,V.current=!1},Hs=()=>{ar()},kr=(q,R)=>{window.confirm(q)&&(R==null||R(),Hs())},or=()=>{const q=!!(r&&!n);return m.jsx("div",{className:"min-h-screen page-bg text-slate-900",children:m.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-10",children:m.jsxs("div",{className:"w-full max-w-2xl space-y-4",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"mx-auto h-14 w-14 rounded-2xl bg-white border border-slate-200 overflow-hidden shadow-lg shadow-slate-300/60 flex items-center justify-center",children:m.jsx("img",{src:G0,alt:"Simba-JUD",className:"h-full w-full object-cover"})}),m.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-slate-500",children:"Simba-JUD"}),m.jsx("h1",{className:"text-2xl font-semibold text-slate-900 font-display",children:"Acesso ao Portal de Triagem"})]}),m.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[{id:"login",label:"Entrar"},{id:"register",label:"Criar conta"},{id:"reset",label:"Redefinir senha"}].map(R=>m.jsx("button",{type:"button",onClick:()=>{g(R.id),de(""),Ge("")},className:`px-4 py-2 rounded-full text-xs font-semibold border transition ${f===R.id?"bg-slate-900 text-white border-slate-900 shadow-sm":"bg-white text-slate-700 border-slate-200 hover:border-slate-300"}`,children:R.label},R.id))}),q&&m.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:[m.jsx("p",{className:"font-semibold",children:"Perfil no carregado."}),m.jsx("p",{className:"mt-1",children:"Verifique as regras do Firestore e domnios autorizados. Se quiser, saia e entre novamente."}),m.jsx("button",{type:"button",onClick:Ii,className:"mt-3 inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-amber-200 bg-white text-amber-800 hover:shadow-sm transition",children:"Sair"})]}),m.jsx(It,{title:"Credenciais",children:m.jsxs("form",{className:"grid gap-4",onSubmit:Xn,children:[Me&&m.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:Me}),Ee&&m.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-3 py-2 text-sm text-rose-700",children:Ee}),Ue&&m.jsx("div",{className:"rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-2 text-sm text-emerald-700",children:Ue}),f==="register"&&m.jsx(ce,{label:"Nome completo",children:m.jsx("input",{className:"input",value:W,onChange:R=>ne(R.target.value),placeholder:"Digite seu nome",autoComplete:"name"})}),m.jsx(ce,{label:"E-mail",children:m.jsx("input",{className:"input",type:"email",value:y,onChange:R=>_(R.target.value),placeholder:"nome@dominio.com",autoComplete:"email",required:!0})}),f!=="reset"&&m.jsx(ce,{label:"Senha",children:m.jsx("input",{className:"input",type:"password",value:S,onChange:R=>w(R.target.value),placeholder:"",autoComplete:f==="login"?"current-password":"new-password",required:!0})}),f==="register"&&m.jsx(ce,{label:"Confirme a senha",children:m.jsx("input",{className:"input",type:"password",value:M,onChange:R=>G(R.target.value),placeholder:"",autoComplete:"new-password",required:!0})}),f==="reset"&&m.jsx("p",{className:"text-xs text-slate-500",children:"Enviaremos um link de redefinio de senha para o seu e-mail."}),m.jsx("button",{type:"submit",disabled:ee,className:"inline-flex items-center justify-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:ee?"Aguarde...":f==="login"?"Entrar":f==="register"?"Criar conta":"Enviar link"})]})}),m.jsxs("p",{className:"text-center text-xs text-slate-500",children:["Cadastro aberto apenas para contas @",Eo,"."]})]})})})},di=()=>{if(!Sn||!X)return null;const q=ae.filter(R=>R.role==="admin").length;return m.jsxs("div",{className:"mb-6 space-y-4",children:[m.jsx(It,{title:"Dashboard de triagens",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsxs(Nt,{children:[Go," triagem(ns) registradas"]}),m.jsxs(Nt,{children:[ae.length," usurio(s)"]})]}),zs.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhuma triagem registrada."}):m.jsx("div",{className:"grid gap-2 md:grid-cols-2",children:zs.map(R=>m.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-white/80 px-4 py-3 text-sm text-slate-700",children:[m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"font-semibold text-slate-900 truncate",children:R.name||R.email||"Sem nome"}),m.jsx("p",{className:"text-xs text-slate-500 truncate",children:R.email})]}),m.jsx("span",{className:"font-semibold",children:R.triageCount||0})]},R.uid))})]})}),m.jsx(It,{title:"Administrao de usurios",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsx("input",{className:"input flex-1 min-w-[220px]",placeholder:"Buscar por nome ou e-mail",value:Re,onChange:R=>Le(R.target.value)}),m.jsxs(Nt,{children:[ae.length," usurio(s)"]}),m.jsxs(Nt,{tone:"success",children:[q," admin(s)"]})]}),nr&&m.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 px-3 py-2 text-sm text-amber-700",children:nr}),fi.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum usurio encontrado."}):m.jsx("div",{className:"grid gap-3",children:fi.map(R=>{const he=Vn(R),tt=(r==null?void 0:r.uid)===R.uid,st=tt&&q<=1;return m.jsxs("div",{className:"rounded-2xl border border-white/70 bg-white/80 p-4 shadow-sm",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900",children:R.name||"Sem nome"}),m.jsx("p",{className:"text-xs text-slate-500",children:R.email||"E-mail no informado"}),m.jsxs("p",{className:"text-xs text-slate-500",children:["Triagens: ",R.triageCount||0]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[tt&&m.jsx(Nt,{children:"Voc"}),R.role==="admin"&&m.jsx(Nt,{tone:"success",children:"Admin"}),!R.active&&m.jsx(Nt,{tone:"warning",children:"Desativado"})]})]}),m.jsxs("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:[m.jsx(ce,{label:"Nome",children:m.jsx("input",{className:"input",value:he.name,onChange:ke=>gt(R,{name:ke.target.value})})}),m.jsxs(ce,{label:"Perfil",children:[m.jsxs("select",{className:"input",value:he.role,disabled:st,onChange:ke=>gt(R,{role:ke.target.value}),children:[m.jsx("option",{value:"user",children:"Usurio"}),m.jsx("option",{value:"admin",children:"Admin"})]}),st&&m.jsx("span",{className:"text-xs text-slate-500",children:"Voc  o nico admin cadastrado."})]}),m.jsx(ce,{label:"Status",children:m.jsxs("select",{className:"input",value:he.active?"ativo":"inativo",onChange:ke=>gt(R,{active:ke.target.value==="ativo"}),children:[m.jsx("option",{value:"ativo",children:"Ativo"}),m.jsx("option",{value:"inativo",children:"Desativado"})]})})]}),m.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[m.jsx("button",{type:"button",onClick:()=>Yn(R),disabled:ci===R.uid,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-900 text-white hover:bg-black transition shadow-sm disabled:opacity-60",children:ci===R.uid?"Salvando...":"Salvar"}),he.role!=="admin"&&m.jsx("button",{type:"button",onClick:()=>Ia(R),disabled:ci===R.uid,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-emerald-200 bg-emerald-600 text-white hover:bg-emerald-700 transition shadow-sm disabled:opacity-60",children:"Promover a admin"}),m.jsx("button",{type:"button",onClick:()=>jn(R.email),disabled:!R.email,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition disabled:opacity-60",children:"Enviar reset de senha"})]})]},R.uid)})})]})})]})},Na=()=>{const q=(()=>{switch(vs[P].id){case"recurso":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(It,{title:"Triar um novo recurso",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Tipo",children:m.jsxs("select",{className:oe("tipo"),value:b.tipo,onChange:R=>le("tipo",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Especial",children:"Especial"}),m.jsx("option",{value:"Extraordinrio",children:"Extraordinrio"})]})}),m.jsx(ce,{label:"Sigla para minutas",children:m.jsx("input",{className:oe("sigla"),placeholder:"AR-99",value:b.sigla,onChange:R=>{const he=R.target.value;le("sigla",he.replace(/^[aA][rR]/,"AR"))}})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Acordo",children:m.jsxs("select",{className:oe("acordo"),value:b.acordo,onChange:R=>le("acordo",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.acordo==="sim"&&m.jsx(ce,{label:"Acordo vlido?",children:m.jsxs("select",{className:oe("valido"),value:b.valido,onChange:R=>le("valido",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Desistncia",children:m.jsxs("select",{className:oe("desist"),value:b.desist,onChange:R=>le("desist",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.desist==="sim"&&m.jsx(ce,{label:"Desistncia vlida?",children:m.jsxs("select",{className:oe("valida"),value:b.valida,onChange:R=>le("valida",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]}),m.jsx(It,{title:"Ajuda rpida",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsxs("li",{children:[m.jsx(Nt,{children:"Importante"})," Confirme a validade de acordos e desistncias antes de prosseguir."]}),m.jsxs("li",{children:[m.jsx(Nt,{children:"Tipificao"})," Especial aplica tabela STJ; Extraordinrio aplica tabela STF."]}),m.jsxs("li",{children:[m.jsx(Nt,{children:"Sigla"})," Use o padro interno (ex.: AR-130E+T) para a minuta/post-it."]})]})})]});case"dados":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(It,{title:"Dados iniciais",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Interposio (data)",children:m.jsx("input",{type:"date",className:oe("interp"),value:b.interp,onChange:R=>le("interp",R.target.value)})}),m.jsx(ce,{label:"Deciso recorrida",children:m.jsxs("select",{className:oe("decrec"),value:b.decrec,onChange:R=>le("decrec",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"colegiada/acrdo",children:"colegiada/acrdo"}),m.jsx("option",{value:"monocrtica/singular",children:"Monocrtica/singular"})]})})]}),m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Cmara (ramo)",children:m.jsxs("select",{className:oe("camaraArea"),value:b.camaraArea,onChange:R=>le("camaraArea",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Cvel",children:"Cvel"}),m.jsx("option",{value:"Crime",children:"Crime"})]})}),m.jsx(ce,{label:"Nmero da Cmara",children:m.jsx("input",{className:oe("camaraNumero","no-spinner"),type:"number",min:1,placeholder:"Ex.: 7",value:b.camaraNumero,onChange:R=>le("camaraNumero",R.target.value)})}),m.jsx(ce,{label:"Prazo em aberto na origem?",children:m.jsxs("select",{className:oe("emaberto"),value:b.emaberto,onChange:R=>le("emaberto",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]}),m.jsx(It,{title:"Checklist rpido",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Se for deciso monocrtica, o fluxo deve seguir at a etapa de custas."}),m.jsx("li",{children:" Prazo em aberto ignora contrarrazes (sero tratadas depois)."})]})})]});case"tempest":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsxs(It,{title:"Tempestividade",children:[m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Envio (expedio) da intimao",children:m.jsx("input",{type:"date",className:oe("envio"),value:b.envio,onChange:R=>le("envio",R.target.value)})}),m.jsx(ce,{label:"Consulta eletrnica (leitura)",children:m.jsxs("select",{className:oe("consulta"),value:b.consulta,onChange:R=>le("consulta",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.consulta==="sim"&&m.jsx(ce,{label:"Data da leitura",children:m.jsx("input",{type:"date",className:oe("leitura"),value:b.leitura,onChange:R=>le("leitura",R.target.value)})}),m.jsx(ce,{label:"Prazo",children:m.jsxs("select",{className:oe("emdobro"),value:b.emdobro,disabled:Tt,onChange:R=>le("emdobro",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"simples",children:"Simples (15 dias)"}),m.jsx("option",{value:"em dobro",children:"Em dobro (30 dias)"})]})}),Tt&&m.jsx("p",{className:"text-xs text-slate-500",children:"rgo pblico informado: prazo em dobro aplicado automaticamente."}),m.jsx("p",{className:"md:col-span-2 text-xs text-slate-500",children:"Use prazo em dobro apenas para Defensoria Pblica, MP, NPJ ou advogado dativo."})]}),m.jsxs("div",{className:"mt-4 bg-slate-50 border border-slate-200 rounded-xl p-4",children:[m.jsx("p",{className:"text-sm text-slate-600 mb-2",children:"Resultado parcial"}),ge.tempest.status==="pendente"?m.jsx("div",{className:"text-sm text-slate-500",children:ge.tempest.mensagem}):m.jsxs("div",{className:"grid md:grid-cols-2 gap-2 text-sm text-slate-800",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Intimao:"})," ",bi(ge.tempest.intim)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Comeo do prazo:"})," ",bi(ge.tempest.comeco)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Prazo:"})," ",ge.tempest.prazo," dias"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Vencimento:"})," ",bi(ge.tempest.venc)]}),m.jsxs("div",{className:"col-span-full flex items-center gap-2 text-sm",children:[ge.tempest.status==="tempestivo"?m.jsx($0,{className:"w-4 h-4 text-green-600"}):m.jsx(Z0,{className:"w-4 h-4 text-amber-500"}),m.jsx("span",{className:"font-semibold uppercase tracking-tight",children:ge.tempest.status})]})]})]})]}),m.jsx(It,{title:"Critrios usados",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Intimao presumida 10 dias aps expedio (aps vinculao no DJEN), salvo leitura antes disso."}),m.jsx("li",{children:" Ateno ao calendrio e s comprovaes de feriado/prorrogao."}),m.jsx("li",{children:" Prazo em dobro: apenas Defensoria Pblica, MP, NPJ ou advogado dativo."})]})})]});case"preparo":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[m.jsx(It,{title:"Preparo e custas",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Multa por embargos protelatrios",children:m.jsxs("select",{className:oe("multa"),value:b.multa,onChange:R=>le("multa",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no",children:"No"}),m.jsx("option",{value:"sim, recolhida",children:"Sim, recolhida"}),m.jsx("option",{value:"sim, no recolhida",children:"Sim, no recolhida"})]})}),b.multa==="sim, no recolhida"&&m.jsx(ce,{label:"Motivo",children:m.jsxs("select",{className:oe("motivo"),value:b.motivo,onChange:R=>le("motivo",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"Fazenda Pblica ou justia gratuita",children:"Fazenda Pblica ou justia gratuita"}),m.jsx("option",{value:" o prprio objeto do recurso",children:" o prprio objeto do recurso"}),m.jsx("option",{value:"no identificado",children:"No identificado"})]})}),m.jsx(ce,{label:"Dispensa (MP/ente pblico/autarquia)",children:m.jsxs("select",{className:oe("dispensa"),value:b.dispensa,onChange:R=>le("dispensa",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.dispensa==="sim"&&m.jsx("p",{className:"text-xs text-slate-500",children:"Dispensa informada: justia gratuita no  necessria."}),b.dispensa==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Justia gratuita",children:m.jsxs("select",{className:oe("gratuidade"),value:b.gratuidade,onChange:R=>le("gratuidade",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no invocada",children:"No invocada"}),m.jsx("option",{value:"j  ou afirma ser beneficirio",children:"J  ou afirma ser beneficirio"}),m.jsx("option",{value:"requer no recurso em anlise",children:"Requer no recurso em anlise"}),m.jsx("option",{value:" o prprio objeto do recurso",children:" o prprio objeto do recurso"}),m.jsx("option",{value:"presumida (defensor pblico, dativo ou NPJ)",children:"Presumida (defensor pblico, dativo ou NPJ)"})]})}),b.gratuidade==="j  ou afirma ser beneficirio"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Deferida expressamente?",children:m.jsxs("select",{className:oe("deferida"),value:b.deferida,onChange:R=>le("deferida",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.deferida==="sim"&&m.jsx(ce,{label:"Movimento (deferimento)",children:m.jsx("input",{className:oe("movdef"),placeholder:"Ex.: 9.1",value:b.movdef,onChange:R=>le("movdef",R.target.value)})}),b.deferida==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Requerida anteriormente?",children:m.jsxs("select",{className:oe("requerida"),value:b.requerida,onChange:R=>le("requerida",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.requerida==="sim"&&m.jsx(ce,{label:"Movimento (pedido)",children:m.jsx("input",{className:oe("movped"),placeholder:"Ex.: 9.1",value:b.movped,onChange:R=>le("movped",R.target.value)})})]}),m.jsx(ce,{label:"Ato incompatvel (pagamento prvio)?",children:m.jsxs("select",{className:oe("atoincomp"),value:b.atoincomp,onChange:R=>le("atoincomp",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),b.gratuidade==="no invocada"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Comprovao de preparo",children:m.jsxs("select",{className:oe("comprova"),value:b.comprova,onChange:R=>le("comprova",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no prazo para interposio do recurso",children:"No prazo para interposio do recurso"}),m.jsx("option",{value:"no dia til seguinte ao trmino do prazo",children:"No dia til seguinte ao trmino do prazo"}),m.jsx("option",{value:"posteriormente",children:"Posteriormente"}),m.jsx("option",{value:"ausente",children:"Ausente"})]})}),b.comprova==="no dia til seguinte ao trmino do prazo"&&m.jsx(ce,{label:"Recurso interposto no ltimo dia, aps as 16h?",children:m.jsxs("select",{className:oe("apos16"),value:b.apos16,onChange:R=>le("apos16",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})]})}),!Tt&&m.jsxs(It,{title:"Documentos e valores",children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[m.jsx(ce,{label:"Movimento GRU (guia/comprovante)",children:m.jsx("input",{className:oe("grumov"),placeholder:"Ex.: 1.2",value:b.grumov,onChange:R=>le("grumov",R.target.value)})}),m.jsx(ce,{label:"Movimento GRU (auto)",children:m.jsx("input",{className:oe("grumovComp"),placeholder:"Ex.: 1.2",value:b.grumovComp,onChange:R=>le("grumovComp",R.target.value)})}),m.jsx("div",{className:"md:col-span-2",children:m.jsxs(ce,{label:`Valor pago ${ge.stLabel}/FUNJUS`,children:[m.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-600 mb-2",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 accent-amber-500",checked:b.usarIntegral,onChange:R=>le("usarIntegral",R.target.checked)}),m.jsx("span",{children:"Usar valor integral devido (preenche automtico)"})]}),m.jsxs("div",{className:"grid gap-2",children:[m.jsx("input",{className:oe("valorst"),type:"number",step:"0.01",placeholder:"STJ/STF",value:b.valorst,onChange:R=>le("valorst",R.target.value)}),m.jsx("input",{className:oe("valorfj"),type:"number",step:"0.01",placeholder:"Funjus",value:b.valorfj,onChange:R=>le("valorfj",R.target.value)})]})]})}),xi&&m.jsx("div",{className:"md:col-span-2",children:m.jsxs(ce,{label:"Justificativa Funjus (valor abaixo do padro)",children:[m.jsx("textarea",{className:oe("funjusObs","h-24 resize-none"),maxLength:400,placeholder:"Descreva o motivo do valor menor.",value:b.funjusObs,onChange:R=>le("funjusObs",R.target.value)}),Ci&&m.jsx("span",{className:"text-xs text-rose-600",children:"Informe o motivo do valor menor."})]})}),m.jsx(ce,{label:"Movimento FUNJUS (guia/comprovante)",children:m.jsx("input",{className:oe("funjusmov"),placeholder:"Ex.: 1.5",value:b.funjusmov,onChange:R=>le("funjusmov",R.target.value)})}),m.jsx(ce,{label:"Juntou guia?",children:m.jsxs("select",{className:oe("guia"),value:b.guia,onChange:R=>le("guia",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.guia==="sim"&&m.jsx(m.Fragment,{children:m.jsx(ce,{label:"Guia original para o recurso?",children:m.jsxs("select",{className:oe("guiorig"),value:b.guiorig,onChange:R=>le("guiorig",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})}),m.jsx(ce,{label:"Juntou comprovante?",children:m.jsxs("select",{className:oe("comp"),value:b.comp,onChange:R=>le("comp",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.comp==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Tipo de comprovante",children:m.jsxs("select",{className:oe("comptipo"),value:b.comptipo,onChange:R=>le("comptipo",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"de pagamento",children:"De pagamento"}),m.jsx("option",{value:"de agendamento",children:"De agendamento"})]})}),m.jsx(ce,{label:"Cdigo de barras",children:m.jsxs("select",{className:oe("codbar"),value:b.codbar,onChange:R=>le("codbar",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"confere",children:"Confere"}),m.jsx("option",{value:"diverge ou guia ausente",children:"Diverge ou guia ausente"})]})})]}),m.jsx("div",{className:"md:col-span-2",children:m.jsx(ce,{label:"COHAB LD? (parcial Funjus)",children:m.jsxs("select",{className:oe("parcialTipo"),value:b.parcialTipo,onChange:R=>le("parcialTipo",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no",children:"No"}),m.jsx("option",{value:"JG parcial",children:"JG parcial"}),m.jsx("option",{value:"COHAB Londrina",children:"COHAB Londrina"}),m.jsx("option",{value:"outros",children:"Outros (especificar)"})]})})}),b.parcialTipo==="outros"&&m.jsx("div",{className:"md:col-span-2",children:m.jsx(ce,{label:"Descrever pagamento parcial",children:m.jsx("input",{className:oe("parcialOutro"),placeholder:"Ex.: parcelamento, precatrio, etc.",value:b.parcialOutro,onChange:R=>le("parcialOutro",R.target.value)})})})]}),b.interp?m.jsxs("div",{className:"mt-4 space-y-1 text-sm text-slate-600",children:[m.jsxs("div",{children:["Valores devidos agora: ",ge.stLabel," ",oi(ge.deverST)," | FUNJUS"," ",oi(ge.deverFJ)]}),m.jsxs("div",{className:"text-xs text-slate-500",children:["Base aplicada: ",ge.stLabel," ",Vh(ge.stRateStart)," | FUNJUS"," ",Vh(ge.fjRateStart)]})]}):m.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Informe a data de interposio para calcular as custas automaticamente."})]}),!Tt&&m.jsx(It,{title:"Notas prticas",children:m.jsxs("ul",{className:"space-y-2 text-sm text-slate-600",children:[m.jsx("li",{children:" Marque de agendamento se o comprovante no tem autenticao."}),m.jsx("li",{children:" Se houver ato incompatvel com a gratuidade, o preparo ser exigido."}),m.jsx("li",{children:" Campos de movimento ajudam a gerar a minuta/post-it automaticamente."})]})})]});case"processo":return m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4",children:[b.emaberto==="sim"&&m.jsx("div",{className:"lg:col-span-2 rounded-2xl border border-slate-200/80 bg-white/80 text-slate-700 p-4 text-sm shadow-sm",children:"Prazo em aberto na origem: contrarrazes podem ser tratadas depois. Preencha apenas se j houver dados."}),m.jsx(It,{title:"Representao",children:Tt?m.jsx("p",{className:"text-sm text-slate-600",children:"rgo pblico informado: procurao dispensada."}):m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Subscritor",children:m.jsxs("select",{className:oe("subscritor"),value:b.subscritor,onChange:R=>le("subscritor",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"advogado particular",children:"Advogado particular"}),m.jsx("option",{value:"procurador pblico",children:"Procurador pblico"}),m.jsx("option",{value:"procurador nomeado",children:"Procurador nomeado"}),m.jsx("option",{value:"advogado em causa prpria",children:"Advogado em causa prpria"})]})}),b.subscritor==="procurador nomeado"&&m.jsx(ce,{label:"Movimento (nomeao)",children:m.jsx("input",{className:oe("nomemovi"),placeholder:"Ex.: 9.1",value:b.nomemovi,onChange:R=>le("nomemovi",R.target.value)})}),b.subscritor==="advogado particular"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Movimentos (cadeia de poderes)",children:m.jsx("input",{className:oe("movis"),placeholder:"Ex.: 1.1; 9.1; via sistema",value:b.movis,onChange:R=>le("movis",R.target.value)})}),m.jsx(ce,{label:"Cadeia completa?",children:m.jsxs("select",{className:oe("cadeia"),value:b.cadeia,onChange:R=>le("cadeia",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.cadeia==="no"&&m.jsx(ce,{label:"Poderes faltantes",children:m.jsxs("select",{className:oe("faltante"),value:b.faltante,onChange:R=>le("faltante",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"ao prprio subscritor",children:"Ao prprio subscritor"}),m.jsx("option",{value:"a outro elo da cadeia",children:"A outro elo da cadeia"})]})})]})]})}),m.jsx(It,{title:"Pedidos",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Efeito suspensivo",children:m.jsxs("select",{className:oe("suspefeito"),value:b.suspefeito,onChange:R=>le("suspefeito",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"no requerido",children:"No requerido"}),m.jsx("option",{value:"requerido no corpo do recurso",children:"Requerido no corpo do recurso"}),m.jsx("option",{value:"requerido em petio apartada",children:"Requerido em petio apartada"})]})}),b.suspefeito==="requerido em petio apartada"&&m.jsx(ce,{label:"Autuado?",children:m.jsxs("select",{className:oe("autuado"),value:b.autuado,onChange:R=>le("autuado",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),m.jsx(ce,{label:"Exclusividade na intimao",children:m.jsxs("select",{className:oe("exclusivi"),value:b.exclusivi,onChange:R=>le("exclusivi",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"requerida",children:"Requerida"}),m.jsx("option",{value:"no requerida",children:"No requerida"})]})}),b.exclusivi==="requerida"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Procurador j cadastrado?",children:m.jsxs("select",{className:oe("cadastrada"),value:b.cadastrada,onChange:R=>le("cadastrada",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.cadastrada==="no"&&m.jsx(ce,{label:"Advogado regularmente constitudo?",children:m.jsxs("select",{className:oe("regular"),value:b.regular,onChange:R=>le("regular",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})}),m.jsx(It,{title:"Processamento",children:m.jsxs("div",{className:"grid gap-4",children:[m.jsx(ce,{label:"Contrarrazes",children:m.jsxs("select",{className:oe("contrarra"),value:b.contrarra,onChange:R=>le("contrarra",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"apresentadas",children:"Apresentadas"}),m.jsx("option",{value:"ausente alguma",children:"Ausente alguma"}),m.jsx("option",{value:"ausentes",children:"Ausentes"})]})}),b.contrarra!==""&&b.contrarra!=="ausentes"&&m.jsx(ce,{label:"Movimentos das contrarrazes/renncia",children:m.jsx("input",{className:oe("contramovis"),placeholder:"Ex.: 6.1; 7.1 (renncia)",value:b.contramovis,onChange:R=>le("contramovis",R.target.value)})}),b.contrarra!=="apresentadas"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Recorrido(s) intimado(s)?",children:m.jsxs("select",{className:oe("intimado"),value:b.intimado,onChange:R=>le("intimado",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.intimado==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Movimento de intimao",children:m.jsx("input",{className:oe("intimovi"),placeholder:"Ex.: 3.1",value:b.intimovi,onChange:R=>le("intimovi",R.target.value)})}),m.jsx(ce,{label:"Prazo em aberto para algum recorrido?",children:m.jsxs("select",{className:oe("crraberto"),value:b.crraberto,onChange:R=>le("crraberto",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.crraberto==="no"&&m.jsx(ce,{label:"Decurso certificado?",children:m.jsxs("select",{className:oe("decursocrr"),value:b.decursocrr,onChange:R=>le("decursocrr",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),b.intimado==="no"&&m.jsx(ce,{label:"Recorrido(s) sem advogado constitudo?",children:m.jsxs("select",{className:oe("semadv"),value:b.semadv,onChange:R=>le("semadv",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),m.jsx(ce,{label:"Interveno do MP?",children:m.jsxs("select",{className:oe("emepe"),value:b.emepe,onChange:R=>le("emepe",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.emepe==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Manifestao nos autos?",children:m.jsxs("select",{className:oe("mani"),value:b.mani,onChange:R=>le("mani",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.mani==="sim"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Teor da manifestao",children:m.jsxs("select",{className:oe("teormani"),value:b.teormani,onChange:R=>le("teormani",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"mera cincia",children:"Mera cincia"}),m.jsx("option",{value:"pela admisso",children:"Pela admisso"}),m.jsx("option",{value:"pela inadmisso",children:"Pela inadmisso"}),m.jsx("option",{value:"ausncia de interesse",children:"Ausncia de interesse"})]})}),m.jsx(ce,{label:"Movimento",children:m.jsx("input",{className:oe("manimovis"),placeholder:"Ex.: 9.1",value:b.manimovis,onChange:R=>le("manimovis",R.target.value)})}),b.teormani==="mera cincia"&&m.jsx(ce,{label:"Decurso do prazo?",children:m.jsxs("select",{className:oe("decursomp"),value:b.decursomp,onChange:R=>le("decursomp",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]}),b.mani==="no"&&m.jsxs(m.Fragment,{children:[m.jsx(ce,{label:"Autos remetidos?",children:m.jsxs("select",{className:oe("remetido"),value:b.remetido,onChange:R=>le("remetido",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})}),b.remetido==="sim"&&m.jsx(ce,{label:"Decurso do prazo?",children:m.jsxs("select",{className:oe("decursomp"),value:b.decursomp,onChange:R=>le("decursomp",R.target.value),children:[m.jsx("option",{value:"",children:"Selecione"}),m.jsx("option",{value:"sim",children:"Sim"}),m.jsx("option",{value:"no",children:"No"})]})})]})]})]})})]});case"resumo":return m.jsxs("div",{className:"space-y-4",children:[m.jsx(It,{title:"Resultado da triagem",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-3 text-sm text-slate-800",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"Tempestivo:"})," ",ge.tempest.status]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Contrarrazes:"})," ",ge.controut]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Ministrio Pblico:"})," ",ge.mpout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"GRU:"})," ",ge.grout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Funjus:"})," ",ge.funjout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Procurao/Nomeao:"})," ",ge.procurout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Exclusividade na intimao:"})," ",ge.exclusout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Efeito suspensivo:"})," ",ge.suspefout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Pagamento parcial:"})," ",ge.parcialout]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Vencimento:"})," ",bi(ge.tempest.venc)]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Prazo:"})," ",ge.tempest.prazo||""," dias"]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Cmara:"})," ",M1(b)]})]})}),m.jsx(It,{title:"Observaes e minutas sugeridas",children:ge.observacoes.length===0&&!(xi&&Bs)?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhuma observao pendente."}):m.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[ge.observacoes.length>0&&m.jsx("ul",{className:"list-disc pl-5 space-y-2",children:ge.observacoes.map((R,he)=>m.jsx("li",{children:R},he))}),xi&&Bs&&m.jsxs("p",{children:[m.jsx("strong",{children:"Justificativa Funjus:"})," ",Bs]})]})}),m.jsx("div",{className:"grid lg:grid-cols-2 gap-4",children:m.jsx(It,{title:"Notas rpidas (salvas no navegador)",children:m.jsxs("div",{className:"space-y-3",children:[m.jsx("textarea",{className:oe("anotacoes","h-32 resize-none"),maxLength:900,placeholder:"Pendncias especficas, nomes de partes, nmeros de telefone...",value:b.anotacoes,onChange:R=>le("anotacoes",R.target.value)}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[m.jsx("span",{children:"Anotaes guardadas apenas neste dispositivo."}),m.jsxs("span",{children:[b.anotacoes.length,"/900"]})]})]})})}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("button",{onClick:bt,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:[m.jsx(gm,{className:"w-4 h-4"}),We?"Copiado!":"Copiar resumo"]}),m.jsx("span",{className:"sr-only",role:"status","aria-live":"polite",children:We?"Resumo copiado para a rea de transferncia.":""})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-sm text-slate-600",children:[m.jsxs(Nt,{children:[ge.stLabel,": ",oi(ge.deverST)," | FUNJUS: ",oi(ge.deverFJ)]}),m.jsxs(Nt,{children:["Intimao: ",bi(ge.tempest.intim)]}),m.jsxs(Nt,{children:["Comeo do prazo: ",bi(ge.tempest.comeco)]})]})]});default:return null}})();return q?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[m.jsx(Nt,{tone:rr===0?"success":"warning",children:rr===0?"Etapa completa":`${rr} campo(s) pendente(s)`}),rr>0&&m.jsx("span",{className:"text-xs text-slate-500",children:"Complete os campos pendentes para avanar."})]}),q]}):null},Pn=ge.tempest.status==="tempestivo"?"positive":ge.tempest.status==="intempestivo"?"negative":"neutral",Un=b.contrarra==="apresentadas"?"positive":b.contrarra==="ausentes"||b.contrarra==="ausente alguma"?"negative":"neutral",St=ye?`Salvo s ${fN(ye)}`:"Salvamento local",Vt=Math.round(P/(vs.length-1)*100);return Fm?l?!r||!n?or():m.jsxs("div",{className:"min-h-screen page-bg text-slate-900 relative",children:[m.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[m.jsx("div",{className:"absolute -top-24 -left-16 h-72 w-72 rounded-full bg-amber-200/30 blur-3xl"}),m.jsx("div",{className:"absolute top-6 right-[-5rem] h-64 w-64 rounded-full bg-teal-200/30 blur-3xl"}),m.jsx("div",{className:"absolute bottom-[-8rem] left-10 h-80 w-80 rounded-full bg-sky-200/30 blur-3xl"})]}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("header",{className:"border-b border-white/60 bg-white/75 backdrop-blur-2xl shadow-[0_25px_70px_-50px_rgba(15,23,42,0.55)]",children:[m.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-5 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"h-11 w-11 rounded-2xl bg-white border border-slate-200 overflow-hidden shadow-lg shadow-slate-300/60 flex items-center justify-center",children:m.jsx("img",{src:G0,alt:"Simba-JUD",className:"h-full w-full object-cover"})}),m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs uppercase tracking-[0.22em] text-slate-500",children:"Simba-JUD"}),m.jsx("h1",{className:"text-xl font-semibold text-slate-900 leading-tight font-display",children:"Admissibilidade Recursal"})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[m.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[m.jsx(Nt,{children:St}),m.jsx(Nt,{children:n.name||n.email}),m.jsxs(Nt,{children:["Triagens: ",n.triageCount||0]}),Sn&&m.jsx(Nt,{tone:"success",children:"Admin"})]}),Sn&&m.jsx("button",{onClick:()=>se(q=>!q),className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:X?"Fechar admin":"Administrao"}),m.jsx("button",{onClick:Ii,className:"text-sm px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:"Sair"}),m.jsx("button",{onClick:()=>kr("Isso vai limpar a triagem atual. Deseja continuar?"),className:"text-sm px-3 py-2 rounded-lg border border-slate-900 bg-slate-900 text-white hover:bg-black transition shadow-sm",children:"Recomear"})]})]}),m.jsxs("div",{className:"max-w-6xl mx-auto px-4 pb-4",children:[m.jsx("div",{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Vt,"aria-label":"Progresso da triagem",className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-gradient-to-r from-slate-900 via-amber-500 to-teal-500 transition-all",style:{width:`${Vt}%`}})}),m.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Etapa ",P+1," de ",vs.length,": ",vs[P].label]}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 md:hidden",children:[m.jsx(Nt,{children:St}),m.jsx(Nt,{children:n.name||n.email}),m.jsxs(Nt,{children:["Triagens: ",n.triageCount||0]}),Sn&&m.jsx(Nt,{tone:"success",children:"Admin"})]}),m.jsx("div",{className:"mt-4 flex items-center gap-2 overflow-x-auto pb-2","aria-label":"Etapas",children:vs.map((q,R)=>m.jsx(SN,{label:q.label,icon:q.icon,active:P===R,onClick:()=>C(R)},q.id))})]})]}),m.jsxs("main",{ref:Mn,className:"max-w-7xl mx-auto px-4 py-8",children:[di(),m.jsxs("div",{className:"grid lg:grid-cols-[2fr_1fr] gap-5 items-start",children:[m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"bg-white/80 backdrop-blur-xl border border-white/70 rounded-3xl p-6 shadow-[0_28px_60px_-40px_rgba(15,23,42,0.5)]",children:[m.jsx("div",{className:"animate-fade-in",children:Na()}),m.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[m.jsxs("button",{onClick:Qo,disabled:P===0,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-slate-300 text-slate-800 bg-white disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-sm transition",children:[m.jsx(Rb,{className:"w-4 h-4"}),"Voltar"]}),P<vs.length-1?m.jsxs("button",{onClick:sr,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-slate-900 to-slate-800 text-white hover:from-slate-950 hover:to-slate-900 transition shadow-sm",children:["Avanar",m.jsx(xb,{className:"w-4 h-4"})]}):m.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[m.jsxs("button",{onClick:$t,className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-red-300 bg-red-600 text-white hover:bg-red-700 hover:shadow-sm transition",children:[m.jsx(J0,{className:"w-4 h-4"}),"Baixar resumo"]}),m.jsxs("button",{onClick:()=>kr("Isso vai limpar a triagem atual. Deseja iniciar outra?",()=>{qs()}),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 transition shadow-sm",children:["Nova triagem",m.jsx(Ab,{className:"w-4 h-4"})]})]})]})]})}),m.jsxs("aside",{className:"space-y-3 lg:sticky lg:top-20",children:[m.jsx(It,{title:"Resumo",children:m.jsxs("div",{className:"grid gap-3",children:[m.jsx(Y0,{label:"Tempestividade",value:ge.tempest.status,helper:`Vencimento: ${bi(ge.tempest.venc)}`,tone:Pn}),m.jsx(Y0,{label:"Contrarrazes",value:ge.controut,helper:b.emaberto==="sim"?"Prazo em aberto na origem":"Fluxo em andamento",tone:Un})]})}),m.jsxs(It,{title:"Consequncias automticas",children:[ir.length===0?m.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum comando gerado at agora."}):m.jsx("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-700",children:ir.map((q,R)=>m.jsx("li",{children:q},R))}),m.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[m.jsxs("button",{onClick:xa,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg border border-slate-200 bg-white text-slate-800 hover:shadow-sm transition",children:[m.jsx(gm,{className:"w-4 h-4"}),Q?"Copiado!":"Copiar consequncias"]}),m.jsx("span",{className:"sr-only",role:"status","aria-live":"polite",children:Q?"Consequncias copiadas para a rea de transferncia.":""})]})]})]})]})]})]})]}):m.jsx("div",{className:"min-h-screen page-bg text-slate-900 flex items-center justify-center px-4 py-10",children:m.jsx(It,{title:"Carregando",children:m.jsx("p",{className:"text-sm text-slate-600",children:"Preparando o acesso seguro..."})})}):m.jsx("div",{className:"min-h-screen page-bg text-slate-900 flex items-center justify-center px-4 py-10",children:m.jsx(It,{title:"Configurao necessria",children:m.jsxs("div",{className:"space-y-3 text-sm text-slate-600",children:[m.jsx("p",{children:"Configure as variveis do Firebase para habilitar autenticao e perfis de usurio."}),m.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[m.jsx("li",{children:"`VITE_FIREBASE_API_KEY`"}),m.jsx("li",{children:"`VITE_FIREBASE_AUTH_DOMAIN`"}),m.jsx("li",{children:"`VITE_FIREBASE_PROJECT_ID`"}),m.jsx("li",{children:"`VITE_FIREBASE_APP_ID`"})]}),m.jsx("p",{children:"Depois reinicie o servidor."})]})})})},wN=Eb.createRoot(document.getElementById("root"));wN.render(m.jsx(AN,{}));const V1=document.createElement("style");V1.innerHTML=`
.page-bg {
  background:
    radial-gradient(circle at 18% 16%, rgba(249, 115, 22, 0.12), transparent 36%),
    radial-gradient(circle at 82% 12%, rgba(20, 184, 166, 0.12), transparent 38%),
    radial-gradient(circle at 22% 78%, rgba(56, 189, 248, 0.12), transparent 40%),
    linear-gradient(180deg, #f8fafc 0%, #eef2f7 55%, #f1f5f9 100%);
}
.page-bg ::selection {
  background: rgba(249, 115, 22, 0.18);
  color: #0f172a;
}
.input {
  width: 100%;
  border-radius: 0.45rem;
  border: 1px solid rgba(226, 232, 240, 0.95);
  padding: 0.5rem 0.75rem;
  background: rgba(255, 255, 255, 0.9);
  color: #0f172a;
  font-size: 0.875rem;
  line-height: 1.4;
  min-height: 2.5rem;
  box-sizing: border-box;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.6);
  transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}
.input::placeholder {
  color: #94a3b8;
}
.input:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.65);
  background: #ffffff;
}
.input-error {
  border-color: rgba(226, 232, 240, 0.95);
  background: rgba(255, 255, 255, 0.9);
}
.input-error:focus {
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.18);
  border-color: rgba(249, 115, 22, 0.65);
  background: #ffffff;
}
.input-success {
  border-color: rgba(16, 185, 129, 0.7);
  background: rgba(236, 253, 245, 0.6);
}
.input-success:focus {
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.85);
}
.no-spinner::-webkit-outer-spin-button,
.no-spinner::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
.no-spinner {
  -moz-appearance: textfield;
  appearance: textfield;
}
@media (prefers-reduced-motion: reduce) {
  .animate-fade-in {
    animation: none !important;
  }
}
`;document.head.appendChild(V1);
